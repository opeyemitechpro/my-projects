
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="End-to-End CI/CD & Monitoring Using Kubernetes, Terraform, Jenkins, Grafana & Prometheus">
      
      
      
        <link rel="canonical" href="https://opeyemitechpro.github.io/my-projects/devops_projects/10micro/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>DevSecOps Project - 11-Microservices CI-CD & Monitoring - OpeyemiTechPro Projects Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comic+Neue:300,300i,400,400i,700,700i%7CKode+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Comic Neue";--md-code-font:"Kode Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-MGNMY7NF92"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-MGNMY7NF92",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-MGNMY7NF92",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="DevSecOps Project - 11-Microservices CI-CD & Monitoring - OpeyemiTechPro Projects Portfolio" >
      
        <meta  property="og:description"  content="End-to-End CI/CD & Monitoring Using Kubernetes, Terraform, Jenkins, Grafana & Prometheus" >
      
        <meta  property="og:image"  content="https://opeyemitechpro.github.io/my-projects/assets/images/social/devops_projects/10micro.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://opeyemitechpro.github.io/my-projects/devops_projects/10micro/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="DevSecOps Project - 11-Microservices CI-CD & Monitoring - OpeyemiTechPro Projects Portfolio" >
      
        <meta  name="twitter:description"  content="End-to-End CI/CD & Monitoring Using Kubernetes, Terraform, Jenkins, Grafana & Prometheus" >
      
        <meta  name="twitter:image"  content="https://opeyemitechpro.github.io/my-projects/assets/images/social/devops_projects/10micro.png" >
      
    
    
  <!-- Google Adsense Code Snipet -->
   
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1002864988754361" crossorigin="anonymous"></script>
    
    
    
      
  
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: none; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#devsecops-project-11-microservices-end-to-end-cicd-monitoring-using-kubernetes-terraform-jenkins-grafana-prometheus" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <!-- Add announcement here, including arbitrary HTML -->
  <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=66d5a2ea2d491c00194a1d61&amp;product=sticky-share-buttons&amp;source=platform" async="async"></script>
  
  <!-- ShareThis Sticky Social Buttons BEGIN -->
   <div class="sharethis-sticky-share-buttons"></div>
  <!-- ShareThis END -->

 
<a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener" title="Opeyemi Okuboyejo's Profile" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path></svg>
</a>

<a href="https://www.linkedin.com/in/opeyemi-okuboyejo/" target="_blank" rel="noopener" title="Opeyemi on LinkedIn" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg>
</a>

<a href="https://github.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on GitHub" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>

<a href="https://youtube.com/@opeyemitechpro" target="_blank" rel="noopener" title="OpeyemiTechPro on YouTube" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"></path></svg>
</a>


<a href="mailto:okuboyejoopeyemi01@gmail.com" target="_blank" rel="noopener" title="Email Me" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path d="M1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 18.75v-14C0 3.784.784 3 1.75 3M1.5 7.412V18.75c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0Zm0-2.662v.852l10.36 7a.25.25 0 0 0 .28 0l10.36-7V4.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25"></path></svg>
</a>

<a href="https://community.aws/@opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on AWS Community" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.763 10.036q.002.446.088.71c.064.176.144.368.256.576.04.063.056.127.056.183q.002.12-.152.24l-.503.335a.4.4 0 0 1-.208.072q-.12-.002-.239-.112a2.5 2.5 0 0 1-.287-.375 6 6 0 0 1-.248-.471q-.934 1.101-2.347 1.101c-.67 0-1.205-.191-1.596-.574q-.588-.575-.59-1.533c0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583q-.001-.909-.375-1.277c-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103q-.443.106-.862.272a2 2 0 0 1-.28.104.5.5 0 0 1-.127.023q-.168.002-.168-.247v-.391c0-.128.016-.224.056-.28a.6.6 0 0 1 .224-.167 4.6 4.6 0 0 1 1.005-.36 4.8 4.8 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647q.66.645.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144a1.8 1.8 0 0 0 .758-.51 1.3 1.3 0 0 0 .272-.512c.047-.191.08-.423.08-.694v-.335a7 7 0 0 0-.735-.136 6 6 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296m6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.4 1.4 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783q.227-.001.31.08c.065.048.113.16.16.312l1.342 5.284 1.245-5.284q.058-.24.151-.312a.55.55 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348q.074-.24.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1 1 0 0 1-.056.2l-1.923 6.17q-.072.24-.168.311a.5.5 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.6.6 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247q.072 0 .144.024c.048.016.12.048.2.08q.408.181.878.279c.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.78.78 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.9 1.9 0 0 1-.4-1.158q0-.502.216-.886c.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088q.24.058.455.127.216.072.336.144a.7.7 0 0 1 .24.2.43.43 0 0 1 .071.263v.375q-.002.254-.184.256a.8.8 0 0 1-.303-.096 3.65 3.65 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223s-.375.383-.375.71c0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767s.367.702.367 1.117c0 .343-.072.655-.207.926a2.2 2.2 0 0 1-.583.703c-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167m1.509 3.88c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607m1.094-1.246c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994"/></svg>
</a>

<a href="https://dev.to/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Dev.to" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35s5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06M404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8M154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58z"></path></svg>
</a>


<a href="https://x.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Twitter" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"></path></svg>
</a>

<a href="https://t.me/opeyemitechpro_cloud" target="_blank" rel="noopener" title="Opeyemi on Telegram" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg>
</a>

</br>
<a href="https://opeyemitechpro.github.io"><img src="https://readme-typing-svg.demolab.com?font=roboto&amp;duration=3000&amp;pause=500&amp;width=435&amp;lines=Welcome+to+my+Project+Portfolio+" alt="OpeyemiTechPro"></a>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1002864988754361" crossorigin="anonymous"></script>
  
  
          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://opeyemitechpro.github.io" title="OpeyemiTechPro Projects Portfolio" class="md-header__button md-logo" aria-label="OpeyemiTechPro Projects Portfolio" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpeyemiTechPro Projects Portfolio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DevSecOps Project - 11-Microservices CI-CD & Monitoring
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="yellow"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/opeyemitechpro/my-projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    OpeyemiTechPro Projects
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../profile/" class="md-tabs__link">
        
  
  
    
  
  About Me

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    
  
  Start Here

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../terraform_projects/" class="md-tabs__link">
          
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.44 0v7.575l6.561 3.79V3.787zm21.12 4.227-6.561 3.791v7.574l6.56-3.787zM8.72 4.23v7.575l6.561 3.787V8.018zm0 8.405v7.575L15.28 24v-7.578z"/></svg>
    
  
  Terraform Projects

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 5v14H4V5zm0-2H4c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2m-2 12H6v2h12zm-8-8H6v6h4zm2 2h6V7h-6zm6 2h-6v2h6z"/></svg>
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../yt/" class="md-tabs__link">
        
  
  
    
  
  YouTube

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://opeyemitechpro.github.io" title="OpeyemiTechPro Projects Portfolio" class="md-nav__button md-logo" aria-label="OpeyemiTechPro Projects Portfolio" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    OpeyemiTechPro Projects Portfolio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/opeyemitechpro/my-projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    OpeyemiTechPro Projects
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profile/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    About Me
    
      <br>
      <small>View my profile here</small>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    Start Here
    
      <br>
      <small>Start your navigation of my Project Documentation from here</small>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../terraform_projects/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.44 0v7.575l6.561 3.79V3.787zm21.12 4.227-6.561 3.791v7.574l6.56-3.787zM8.72 4.23v7.575l6.561 3.787V8.018zm0 8.405v7.575L15.28 24v-7.578z"/></svg>
  
  <span class="md-ellipsis">
    Terraform Projects
    
      <br>
      <small>Terraform Related Projects</small>
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Terraform Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform_projects/openvpn_access_server/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .357C5.385.357 0 5.69 0 12.254c0 4.36 2.358 8.153 5.896 10.204l.77-5.076a7.05 7.05 0 0 1-1.846-4.719c0-3.897 3.18-7.076 7.13-7.076 3.948 0 7.126 3.18 7.126 7.076 0 1.847-.717 3.488-1.846 4.77L18 22.51c3.59-2.05 6-5.899 6-10.258C24 5.69 18.615.357 12 .357m-.05 8.157a3.786 3.786 0 0 0-3.796 3.795 3.74 3.74 0 0 0 2.461 3.54L9.13 23.643h5.64l-1.435-7.795c1.385-.564 2.41-1.898 2.41-3.54a3.786 3.786 0 0 0-3.795-3.794"/></svg>
  
  <span class="md-ellipsis">
    OpenVPN Access Server Setup
    
      <br>
      <small>Setup & Host Your Own VPN Access Server on AWS using Terraform</small>
    
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently Updated">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 5v14H4V5zm0-2H4c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2m-2 12H6v2h12zm-8-8H6v6h4zm2 2h6V7h-6zm6 2h-6v2h6z"/></svg>
  
  <span class="md-ellipsis">
    Blog
    
      <br>
      <small>My Blog HomePage</small>
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../yt/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    YouTube
    
      <br>
      <small>View my YouTube Channel</small>
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Topics on This Page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Topics on This Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#11-microservices-end-to-end-cicd-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      11-Microservices End-to-End CI/CD &amp; Monitoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-gitleaks" class="md-nav__link">
    <span class="md-ellipsis">
      Install Gitleaks*
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Plugins
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configure Plugins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sonarqube" class="md-nav__link">
    <span class="md-ellipsis">
      SonarQube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prometheus" class="md-nav__link">
    <span class="md-ellipsis">
      Prometheus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-hub-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Hub Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jenkins-email-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Jenkins Email Notifications
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-this-terraform-configuration-script-does" class="md-nav__link">
    <span class="md-ellipsis">
      What this Terraform Configuration Script Does
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jenkins-pipeline-script" class="md-nav__link">
    <span class="md-ellipsis">
      Jenkins Pipeline Script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jenkins-plugins-to-install" class="md-nav__link">
    <span class="md-ellipsis">
      Jenkins Plugins to install
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jenkins-email-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Jenkins Email Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-the-script-options" class="md-nav__link">
    <span class="md-ellipsis">
      Setting the script options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-iam-policies-required-for-eks-cluster-creation" class="md-nav__link">
    <span class="md-ellipsis">
      AWS IAM Policies required for EKS Cluster Creation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-eks-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Create EKS Cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-and-setup-argocd-on-eks" class="md-nav__link">
    <span class="md-ellipsis">
      Install and Setup ArgoCD on EKS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-and-setup-prometheus-stack-on-eks-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install and setup Prometheus Stack on EKS using Helm
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install and setup Prometheus Stack on EKS using Helm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-helm-version" class="md-nav__link">
    <span class="md-ellipsis">
      Check Helm version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-helm-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Add Helm repo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      create namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-prometheus-stack-into-monitoring-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Install Prometheus Stack into monitoring namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-running-status-of-pods-to-verify-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Check running status of pods to verify deployment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-all-services-in-the-monitoring-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      List all services in the monitoring namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-grafana-url-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Display Grafana URL (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-prometheus-url-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Display Prometheus URL (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expose-grafana-on-a-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Expose Grafana on a LoadBalancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expose-prometheus-on-a-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Expose Prometheus on a LoadBalancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-loadbalancer-url-for-grafana-and-prometheus" class="md-nav__link">
    <span class="md-ellipsis">
      Display LoadBalancer URL for Grafana and Prometheus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-grafana-password" class="md-nav__link">
    <span class="md-ellipsis">
      Get Grafana password
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-configure-node-exporter-on-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Install &amp; Configure Node-Exporter on linux
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scrapping-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Scrapping Metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scrapping Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Prerequisites:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps-to-add-standalone-server-to-prometheus-scrape-targets" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Steps to Add Standalone Server to Prometheus Scrape Targets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Steps to Add Standalone Server to Prometheus Scrape Targets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-additional-scrape-config-via-secret" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create Additional Scrape Config via Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-now-create-a-kubernetes-secret" class="md-nav__link">
    <span class="md-ellipsis">
      2. Now create a Kubernetes secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-edit-prometheus-custom-resource" class="md-nav__link">
    <span class="md-ellipsis">
      3. Edit Prometheus Custom Resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-apply-and-verify" class="md-nav__link">
    <span class="md-ellipsis">
      4. Apply and Verify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-uninstall-prometheus-stack-and-delete-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      To Uninstall Prometheus-Stack and delete namespace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
        
        
          
        
      
      
        <a href="../../tags/#tag:aws" class="md-tag md-tag-icon md-tag--None">AWS</a>
      
    
      
      
        
        
          
        
      
      
        <a href="../../tags/#tag:devops" class="md-tag md-tag-icon md-tag--None">DevOps</a>
      
    
      
      
        
        
      
      
        <a href="../../tags/#tag:kubernetes" class="md-tag md-tag-icon">Kubernetes</a>
      
    
  </nav>


  
    <a href="https://github.com/opeyemitechpro/my-projects/edit/main/docs/devops_projects/10micro.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/opeyemitechpro/my-projects/raw/main/docs/devops_projects/10micro.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="devsecops-project-11-microservices-end-to-end-cicd-monitoring-using-kubernetes-terraform-jenkins-grafana-prometheus"><strong>DevSecOps Project - 11-Microservices End-to-End CI/CD &amp; Monitoring Using Kubernetes, Terraform, Jenkins, Grafana &amp; Prometheus</strong><a class="headerlink" href="#devsecops-project-11-microservices-end-to-end-cicd-monitoring-using-kubernetes-terraform-jenkins-grafana-prometheus" title="Copy this link to reference this section">&para;</a></h1>
<h2 id="11-microservices-end-to-end-cicd-monitoring"><strong>11-Microservices End-to-End CI/CD &amp; Monitoring</strong><a class="headerlink" href="#11-microservices-end-to-end-cicd-monitoring" title="Copy this link to reference this section">&para;</a></h2>
<p>In this mini-project, I will demonstrate how to setup and self-host a VPN server on AWS using terraform and OpenVPN Access Server.</p>
<details class="youtube">
<summary>Watch the Video - DevSecOps Project - 11-Microservices End-to-End CI/CD &amp; Monitoring Using Kubernetes, Terraform, Jenkins, Grafana &amp; Prometheus</summary>
<figure>
<p><figure markdown="1">
<a href="https://youtu.be/sWBeZ_bx2Ps" target="_blank"><img alt="DevSecOps Project - 11-Microservices End-to-End CI/CD &amp; Monitoring Using Kubernetes, Terraform, Jenkins, Grafana &amp; Prometheus" src="../../assets/images/OpenVPN-on-AWS-Using-Terraform.png" title="DevSecOps Project - 11-Microservices End-to-End CI/CD &amp; Monitoring Using Kubernetes, Terraform, Jenkins, Grafana &amp; Prometheus" /></a>
<!-- <figcaption>Create a Free Self-Hosted VPN Server on AWS using Terraform and OpenVPN</figcaption>  -->
</figure></p>
<figcaption>
<p>DevSecOps Project - 11-Microservices End-to-End CI/CD &amp; Monitoring Using Kubernetes, Terraform, Jenkins, Grafana &amp; Prometheus</p>
</figcaption>
</figure>
</details>
<h2 id="introduction"><strong>Introduction</strong><a class="headerlink" href="#introduction" title="Copy this link to reference this section">&para;</a></h2>
<p>Setting up a self-hosted VPN server can be a cost-effective and secure solution for personal or organizational needs. This documentation provides a step-by-step guide on using a Terraform configuration script to deploy an OpenVPN Access server on AWS. 
With this guide, you'll learn how to configure the script, customize it for your requirements, and launch a fully functional VPN server in less than 5-minutes and ensures your internet traffic remains private and encrypted without been locked in a vpn subscription plan.
This VPN server is also "disposable", meaning, you can create and delete it anytime after use with just one command <img alt="😄" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f604.svg" title=":smile:"> </p>
<h2 id="pre-requisites"><strong>Pre-requisites</strong><a class="headerlink" href="#pre-requisites" title="Copy this link to reference this section">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AWS account <em>(<a href="https://aws.amazon.com/free/" target="_blank">free tier account will work <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Terraform installed on local machine <em>(<a href="https://developer.hashicorp.com/terraform/install" target="_blank">How to Install Terraform <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> OpenVPN Connect Client software installed on local machine <em>(download from <a href="https://openvpn.net/client/" target="_blank">here<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Your AWS access key ID and secret access key <em>(learn how to get your AWS access keys <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-authentication-user.html" target="_blank">here <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AWS CLI installed and configured with your AWS access key ID and Secret access keys <em>(learn more about AWS CLI <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-quickstart.html" target="_blank">here <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>)</em> </li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> The OpenVPN-Terraform Setup Script <em>(click the button below)</em></p>
<p><div style="text-align: center;">
<a class="md-button md-button--primary" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App" target="_blank">11-Microservices-k8s-App Source Code <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>
</div></p>
</li>
</ul>
<h2 id="install-gitleaks"><em>Install Gitleaks</em>*<a class="headerlink" href="#install-gitleaks" title="Copy this link to reference this section">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># Download and install the latest release of Gitleaks</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>curl<span class="w"> </span>-sSfL<span class="w"> </span>https://raw.githubusercontent.com/gitleaks/gitleaks/master/scripts/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>sh<span class="w"> </span>-s<span class="w"> </span>--<span class="w"> </span>-b<span class="w"> </span>/usr/local/bin
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>curl<span class="w"> </span>-s<span class="w"> </span>https://api.github.com/repos/gitleaks/gitleaks/releases/latest<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;browser_download_url.*linux.*amd64&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;&quot;&#39;</span><span class="w"> </span>-f<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="p">|</span><span class="w"> </span>wget<span class="w"> </span>-qi<span class="w"> </span>-
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>tar<span class="w"> </span>-xvf<span class="w"> </span>gitleaks_*.tar.gz
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>sudo<span class="w"> </span>mv<span class="w"> </span>gitleaks<span class="w"> </span>/usr/local/bin/
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>gitleaks<span class="w"> </span>version
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nv">GITLEAKS_VERSION</span><span class="o">=</span><span class="k">$(</span>curl<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;https://api.github.com/repos/gitleaks/gitleaks/releases/latest&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-Po<span class="w"> </span><span class="s1">&#39;&quot;tag_name&quot;: &quot;v\K[0-9.]+&#39;</span><span class="k">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>wget<span class="w"> </span>-qO<span class="w"> </span>gitleaks.tar.gz<span class="w"> </span>https://github.com/gitleaks/gitleaks/releases/latest/download/gitleaks_<span class="si">${</span><span class="nv">GITLEAKS_VERSION</span><span class="si">}</span>_linux_x64.tar.gz
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>sudo<span class="w"> </span>tar<span class="w"> </span>xf<span class="w"> </span>gitleaks.tar.gz<span class="w"> </span>-C<span class="w"> </span>/usr/local/bin<span class="w"> </span>gitleaks
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1"># gitleaks version</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>rm<span class="w"> </span>-rf<span class="w"> </span>gitleaks.tar.gz
</code></pre></div></td></tr></table></div>
<h2 id="workflow"><strong>Workflow</strong><a class="headerlink" href="#workflow" title="Copy this link to reference this section">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Run Terraform to setup Jenkins</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Confiure Jenkins<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> install plugins: Go to <code>Dashboard &gt; Manage Jenkins &gt; Manage Plugins</code> and install the following plugins:<ul>
<li>SonarQube Scanner</li>
<li>docker</li>
<li>docker pipeline</li>
<li>docker build step</li>
<li>cloudbees docker build and publish</li>
<li>kubernetes</li>
<li>kubernetes CLI</li>
<li>Email Extension Template</li>
<li>Prometheus Metrics</li>
<li>OWASP Dependency Check Plugin</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="configure-plugins"><strong>Configure Plugins</strong><a class="headerlink" href="#configure-plugins" title="Copy this link to reference this section">&para;</a></h2>
<h3 id="sonarqube"><strong>SonarQube</strong><a class="headerlink" href="#sonarqube" title="Copy this link to reference this section">&para;</a></h3>
<ul class="task-list">
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Server Name: sonar
(Or use a suitable name)</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Server URL: <code>&lt;sonar_server_ip:9000&gt;</code></p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since our SonarQube server is running as a docker container on port <code>9000</code> on the same machine as the Jenkins server, use <code>http://&lt;server_ip_address&gt;:9000</code> as the Server URL</p>
</div>
<h3 id="prometheus"><strong>Prometheus</strong><a class="headerlink" href="#prometheus" title="Copy this link to reference this section">&para;</a></h3>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> No further configuration needed</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> By default, the Prometheus metrics will be scrapped from <code>http://&lt;jenkins_server_ip:8080&gt;/prometheus</code></li>
</ul>
<h3 id="docker-hub-credentials"><strong>Docker Hub Credentials</strong><a class="headerlink" href="#docker-hub-credentials" title="Copy this link to reference this section">&para;</a></h3>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Configure Docker Credentials to enable pushing docker images to Docker Hub</li>
</ul>
<h3 id="jenkins-email-notifications"><strong>Jenkins Email Notifications</strong><a class="headerlink" href="#jenkins-email-notifications" title="Copy this link to reference this section">&para;</a></h3>
<p>Goto <code>Dashboard &gt; Manage Jenkins &gt; System</code> and configure both the <strong>"Extended E-mail Notification"</strong> and the <strong>"E-mail Notification"</strong> sections as below:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> SMTP Server Name: smtp.gmail.com</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> SMTP Port:  465</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Username:    <code>user_email_id@gmail.com</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Password: <code>app_password</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Use SSL: checked</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> System Admin e-mail address: <code>&lt;Admin_Name&gt; &lt;user_email_id@gmail.com&gt;</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Default Content Type: <code>HTML</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Test email delivery</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>The settings above apply to Gmail address configuration. Confirm SMTP settings from your email service provider.</li>
<li>Copy <code>App password</code> from your gmail account security settings and use that as the password in the above configuration.</li>
</ul>
</div>
<h2 id="what-this-terraform-configuration-script-does"><strong>What this Terraform Configuration Script Does</strong><a class="headerlink" href="#what-this-terraform-configuration-script-does" title="Copy this link to reference this section">&para;</a></h2>
<p>This terraform configuration creates a fully functional, free and ready-to-use self-hosted OpenVPN Server in any chosen AWS region. The script perfomes the following operations:</p>
<ul>
<li>Creates a Ubuntu 22.04 EC2 instance and configures a fully functional OpenVPN Access Server on it</li>
<li>Configures the server as a type t2-micro instance so that it can run within the AWS Free-tier plan (Learn more about the AWS free-tier plan <a href="https://aws.amazon.com/free" target="_blank">here</a>)</li>
<li>Sets up and configures the VPN server with an IP address in the speicified AWS region.</li>
<li>Generates an AWS keypair file for optional SSH connection to the EC2 instance, downloads the file and saves it in the terraform working directory on your local machine. The chosen AWS region is appended to the name of the keypair file.</li>
<li>Generates an OpenVPN User Profile file (*.ovpn) that will be used to authenticate and establish an encrypted VPN connection from your local machine to the VPN server. The OpenPVN User Profile file is also donwloaded and saved to the terraform working directory on your local machine.</li>
<li>One command tear down that destroys and cleans up the whole infrastructure along with the locally created files (the keypair file and the *.ovpn user profile file)</li>
</ul>
<h2 id="jenkins-pipeline-script"><strong>Jenkins Pipeline Script</strong><a class="headerlink" href="#jenkins-pipeline-script" title="Copy this link to reference this section">&para;</a></h2>
<p>Copy the script below and paste into the job pipeline section:</p>
<details class="info">
<summary>Jenkins Pipeline script for the Jenkins job</summary>
<p><div style="text-align: center;">
<a class="md-button" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App" target="_blank">11-Microservices-k8s-App Source Code <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></svg></span></a>
</div>    </p>
<p>The Jenkins CI/CD pipeline is below:</p>
<details class="code-file" open="open">
<summary>Jenkins Pipeline Script</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">  1</a></span>
<span class="normal"><a href="#__codelineno-3-2">  2</a></span>
<span class="normal"><a href="#__codelineno-3-3">  3</a></span>
<span class="normal"><a href="#__codelineno-3-4">  4</a></span>
<span class="normal"><a href="#__codelineno-3-5">  5</a></span>
<span class="normal"><a href="#__codelineno-3-6">  6</a></span>
<span class="normal"><a href="#__codelineno-3-7">  7</a></span>
<span class="normal"><a href="#__codelineno-3-8">  8</a></span>
<span class="normal"><a href="#__codelineno-3-9">  9</a></span>
<span class="normal"><a href="#__codelineno-3-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-3-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-3-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-3-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-3-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-3-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-3-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-3-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-3-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-3-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-3-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-3-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-3-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-3-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-3-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-3-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-3-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-3-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-3-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-3-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-3-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-3-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-3-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-3-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-3-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-3-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-3-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-3-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-3-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-3-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-3-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-3-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-3-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-3-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-3-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-3-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-3-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-3-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-3-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-3-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-3-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-3-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-3-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-3-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-3-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-3-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-3-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-3-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-3-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-3-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-3-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-3-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-3-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-3-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-3-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-3-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-3-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-3-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-3-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-3-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-3-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-3-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-3-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-3-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-3-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-3-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-3-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-3-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-3-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-3-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-3-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-3-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-3-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-3-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-3-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-3-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-3-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-3-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-3-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-3-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-3-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-3-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-3-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-3-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-3-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-3-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-3-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-3-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-3-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-3-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-3-100">100</a></span>
<span class="normal"><a href="#__codelineno-3-101">101</a></span>
<span class="normal"><a href="#__codelineno-3-102">102</a></span>
<span class="normal"><a href="#__codelineno-3-103">103</a></span>
<span class="normal"><a href="#__codelineno-3-104">104</a></span>
<span class="normal"><a href="#__codelineno-3-105">105</a></span>
<span class="normal"><a href="#__codelineno-3-106">106</a></span>
<span class="normal"><a href="#__codelineno-3-107">107</a></span>
<span class="normal"><a href="#__codelineno-3-108">108</a></span>
<span class="normal"><a href="#__codelineno-3-109">109</a></span>
<span class="normal"><a href="#__codelineno-3-110">110</a></span>
<span class="normal"><a href="#__codelineno-3-111">111</a></span>
<span class="normal"><a href="#__codelineno-3-112">112</a></span>
<span class="normal"><a href="#__codelineno-3-113">113</a></span>
<span class="normal"><a href="#__codelineno-3-114">114</a></span>
<span class="normal"><a href="#__codelineno-3-115">115</a></span>
<span class="normal"><a href="#__codelineno-3-116">116</a></span>
<span class="normal"><a href="#__codelineno-3-117">117</a></span>
<span class="normal"><a href="#__codelineno-3-118">118</a></span>
<span class="normal"><a href="#__codelineno-3-119">119</a></span>
<span class="normal"><a href="#__codelineno-3-120">120</a></span>
<span class="normal"><a href="#__codelineno-3-121">121</a></span>
<span class="normal"><a href="#__codelineno-3-122">122</a></span>
<span class="normal"><a href="#__codelineno-3-123">123</a></span>
<span class="normal"><a href="#__codelineno-3-124">124</a></span>
<span class="normal"><a href="#__codelineno-3-125">125</a></span>
<span class="normal"><a href="#__codelineno-3-126">126</a></span>
<span class="normal"><a href="#__codelineno-3-127">127</a></span>
<span class="normal"><a href="#__codelineno-3-128">128</a></span>
<span class="normal"><a href="#__codelineno-3-129">129</a></span>
<span class="normal"><a href="#__codelineno-3-130">130</a></span>
<span class="normal"><a href="#__codelineno-3-131">131</a></span>
<span class="normal"><a href="#__codelineno-3-132">132</a></span>
<span class="normal"><a href="#__codelineno-3-133">133</a></span>
<span class="normal"><a href="#__codelineno-3-134">134</a></span>
<span class="normal"><a href="#__codelineno-3-135">135</a></span>
<span class="normal"><a href="#__codelineno-3-136">136</a></span>
<span class="normal"><a href="#__codelineno-3-137">137</a></span>
<span class="normal"><a href="#__codelineno-3-138">138</a></span>
<span class="normal"><a href="#__codelineno-3-139">139</a></span>
<span class="normal"><a href="#__codelineno-3-140">140</a></span>
<span class="normal"><a href="#__codelineno-3-141">141</a></span>
<span class="normal"><a href="#__codelineno-3-142">142</a></span>
<span class="normal"><a href="#__codelineno-3-143">143</a></span>
<span class="normal"><a href="#__codelineno-3-144">144</a></span>
<span class="normal"><a href="#__codelineno-3-145">145</a></span>
<span class="normal"><a href="#__codelineno-3-146">146</a></span>
<span class="normal"><a href="#__codelineno-3-147">147</a></span>
<span class="normal"><a href="#__codelineno-3-148">148</a></span>
<span class="normal"><a href="#__codelineno-3-149">149</a></span>
<span class="normal"><a href="#__codelineno-3-150">150</a></span>
<span class="normal"><a href="#__codelineno-3-151">151</a></span>
<span class="normal"><a href="#__codelineno-3-152">152</a></span>
<span class="normal"><a href="#__codelineno-3-153">153</a></span>
<span class="normal"><a href="#__codelineno-3-154">154</a></span>
<span class="normal"><a href="#__codelineno-3-155">155</a></span>
<span class="normal"><a href="#__codelineno-3-156">156</a></span>
<span class="normal"><a href="#__codelineno-3-157">157</a></span>
<span class="normal"><a href="#__codelineno-3-158">158</a></span>
<span class="normal"><a href="#__codelineno-3-159">159</a></span>
<span class="normal"><a href="#__codelineno-3-160">160</a></span>
<span class="normal"><a href="#__codelineno-3-161">161</a></span>
<span class="normal"><a href="#__codelineno-3-162">162</a></span>
<span class="normal"><a href="#__codelineno-3-163">163</a></span>
<span class="normal"><a href="#__codelineno-3-164">164</a></span>
<span class="normal"><a href="#__codelineno-3-165">165</a></span>
<span class="normal"><a href="#__codelineno-3-166">166</a></span>
<span class="normal"><a href="#__codelineno-3-167">167</a></span>
<span class="normal"><a href="#__codelineno-3-168">168</a></span>
<span class="normal"><a href="#__codelineno-3-169">169</a></span>
<span class="normal"><a href="#__codelineno-3-170">170</a></span>
<span class="normal"><a href="#__codelineno-3-171">171</a></span>
<span class="normal"><a href="#__codelineno-3-172">172</a></span>
<span class="normal"><a href="#__codelineno-3-173">173</a></span>
<span class="normal"><a href="#__codelineno-3-174">174</a></span>
<span class="normal"><a href="#__codelineno-3-175">175</a></span>
<span class="normal"><a href="#__codelineno-3-176">176</a></span>
<span class="normal"><a href="#__codelineno-3-177">177</a></span>
<span class="normal"><a href="#__codelineno-3-178">178</a></span>
<span class="normal"><a href="#__codelineno-3-179">179</a></span>
<span class="normal"><a href="#__codelineno-3-180">180</a></span>
<span class="normal"><a href="#__codelineno-3-181">181</a></span>
<span class="normal"><a href="#__codelineno-3-182">182</a></span>
<span class="normal"><a href="#__codelineno-3-183">183</a></span>
<span class="normal"><a href="#__codelineno-3-184">184</a></span>
<span class="normal"><a href="#__codelineno-3-185">185</a></span>
<span class="normal"><a href="#__codelineno-3-186">186</a></span>
<span class="normal"><a href="#__codelineno-3-187">187</a></span>
<span class="normal"><a href="#__codelineno-3-188">188</a></span>
<span class="normal"><a href="#__codelineno-3-189">189</a></span>
<span class="normal"><a href="#__codelineno-3-190">190</a></span>
<span class="normal"><a href="#__codelineno-3-191">191</a></span>
<span class="normal"><a href="#__codelineno-3-192">192</a></span>
<span class="normal"><a href="#__codelineno-3-193">193</a></span>
<span class="normal"><a href="#__codelineno-3-194">194</a></span>
<span class="normal"><a href="#__codelineno-3-195">195</a></span>
<span class="normal"><a href="#__codelineno-3-196">196</a></span>
<span class="normal"><a href="#__codelineno-3-197">197</a></span>
<span class="normal"><a href="#__codelineno-3-198">198</a></span>
<span class="normal"><a href="#__codelineno-3-199">199</a></span>
<span class="normal"><a href="#__codelineno-3-200">200</a></span>
<span class="normal"><a href="#__codelineno-3-201">201</a></span>
<span class="normal"><a href="#__codelineno-3-202">202</a></span>
<span class="normal"><a href="#__codelineno-3-203">203</a></span>
<span class="normal"><a href="#__codelineno-3-204">204</a></span>
<span class="normal"><a href="#__codelineno-3-205">205</a></span>
<span class="normal"><a href="#__codelineno-3-206">206</a></span>
<span class="normal"><a href="#__codelineno-3-207">207</a></span>
<span class="normal"><a href="#__codelineno-3-208">208</a></span>
<span class="normal"><a href="#__codelineno-3-209">209</a></span>
<span class="normal"><a href="#__codelineno-3-210">210</a></span>
<span class="normal"><a href="#__codelineno-3-211">211</a></span>
<span class="normal"><a href="#__codelineno-3-212">212</a></span>
<span class="normal"><a href="#__codelineno-3-213">213</a></span>
<span class="normal"><a href="#__codelineno-3-214">214</a></span>
<span class="normal"><a href="#__codelineno-3-215">215</a></span>
<span class="normal"><a href="#__codelineno-3-216">216</a></span>
<span class="normal"><a href="#__codelineno-3-217">217</a></span>
<span class="normal"><a href="#__codelineno-3-218">218</a></span>
<span class="normal"><a href="#__codelineno-3-219">219</a></span>
<span class="normal"><a href="#__codelineno-3-220">220</a></span>
<span class="normal"><a href="#__codelineno-3-221">221</a></span>
<span class="normal"><a href="#__codelineno-3-222">222</a></span>
<span class="normal"><a href="#__codelineno-3-223">223</a></span>
<span class="normal"><a href="#__codelineno-3-224">224</a></span>
<span class="normal"><a href="#__codelineno-3-225">225</a></span>
<span class="normal"><a href="#__codelineno-3-226">226</a></span>
<span class="normal"><a href="#__codelineno-3-227">227</a></span>
<span class="normal"><a href="#__codelineno-3-228">228</a></span>
<span class="normal"><a href="#__codelineno-3-229">229</a></span>
<span class="normal"><a href="#__codelineno-3-230">230</a></span>
<span class="normal"><a href="#__codelineno-3-231">231</a></span>
<span class="normal"><a href="#__codelineno-3-232">232</a></span>
<span class="normal"><a href="#__codelineno-3-233">233</a></span>
<span class="normal"><a href="#__codelineno-3-234">234</a></span>
<span class="normal"><a href="#__codelineno-3-235">235</a></span>
<span class="normal"><a href="#__codelineno-3-236">236</a></span>
<span class="normal"><a href="#__codelineno-3-237">237</a></span>
<span class="normal"><a href="#__codelineno-3-238">238</a></span>
<span class="normal"><a href="#__codelineno-3-239">239</a></span>
<span class="normal"><a href="#__codelineno-3-240">240</a></span>
<span class="normal"><a href="#__codelineno-3-241">241</a></span>
<span class="normal"><a href="#__codelineno-3-242">242</a></span>
<span class="normal"><a href="#__codelineno-3-243">243</a></span>
<span class="normal"><a href="#__codelineno-3-244">244</a></span>
<span class="normal"><a href="#__codelineno-3-245">245</a></span>
<span class="normal"><a href="#__codelineno-3-246">246</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1">// 11-Microservices-k8s-App Jenkins Pipeline Script</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">        </span><span class="c1">// ====== CONFIG VARIABLES ======</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">        </span><span class="c1">// Replace values with the values configured in Jenkins server configuration</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_TOOL</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;docker&#39;</span><span class="w"> </span><span class="c1">// Docker tool name configured in Jenkins</span>
</span><a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="hll"><span class="w">        </span><span class="n">GIT_BRANCH</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;OpeyemiTechPro-v1&#39;</span>
</span><a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="hll"><span class="w">        </span><span class="n">GIT_URL</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/opeyemitechpro/11-Microservices-k8s-App.git&#39;</span>
</span><a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_SERVER</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sonar&#39;</span><span class="w"> </span><span class="c1">// SonarQube Server name configured in Jenkins</span>
</span><a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_SCANNER</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sonar-scanner&#39;</span><span class="w"> </span><span class="c1">// SonarQube tool name configured in Jenkins</span>
</span><a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_PROJECT_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;11-micro-serve&#39;</span>
</span><a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_CRED_ID</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;my-docker-cred&#39;</span>
</span><a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_HUB_USER</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;opeyemitechpro&#39;</span>
</span><a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="hll"><span class="w">        </span><span class="n">DEST_EMAIL</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;opeyemitechpro@gmail.com&#39;</span>
</span><a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="hll"><span class="w">        </span><span class="n">REPLYTO_EMAIL</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;opeyemitechpro@gmail.com&#39;</span>
</span><a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_TAG_PREFIX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ver-1&#39;</span>
</span><a id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_TAG</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ver-1.$BUILD_NUMBER&#39;</span>
</span><a id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="hll">
</span><a id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="w">        </span><span class="n">SCANNER_HOME</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="s2">&quot;${SONAR_SCANNER}&quot;</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-3-24" name="__codelineno-3-24"></a>
<a id="__codelineno-3-25" name="__codelineno-3-25"></a><span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-26" name="__codelineno-3-26"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Clean Workspace&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-27" name="__codelineno-3-27"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-28" name="__codelineno-3-28"></a>
<a id="__codelineno-3-29" name="__codelineno-3-29"></a><span class="w">                </span><span class="n">cleanWs</span><span class="o">()</span>
<a id="__codelineno-3-30" name="__codelineno-3-30"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-31" name="__codelineno-3-31"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-32" name="__codelineno-3-32"></a>
<a id="__codelineno-3-33" name="__codelineno-3-33"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Git Checkout&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-34" name="__codelineno-3-34"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-35" name="__codelineno-3-35"></a><span class="w">                </span><span class="n">git</span><span class="w"> </span><span class="nl">branch:</span><span class="w"> </span><span class="s2">&quot;${GIT_BRANCH}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">url:</span><span class="w"> </span><span class="s2">&quot;${GIT_URL}&quot;</span>
<a id="__codelineno-3-36" name="__codelineno-3-36"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-37" name="__codelineno-3-37"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-38" name="__codelineno-3-38"></a>
<a id="__codelineno-3-39" name="__codelineno-3-39"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Gitleaks Scan&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-40" name="__codelineno-3-40"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-41" name="__codelineno-3-41"></a><span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;gitleaks detect --source . -r gitleaks_report-$BUILD_NUMBER.json&#39;</span>
<a id="__codelineno-3-42" name="__codelineno-3-42"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-43" name="__codelineno-3-43"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-44" name="__codelineno-3-44"></a>
<a id="__codelineno-3-45" name="__codelineno-3-45"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;SonarQube Analysis&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-46" name="__codelineno-3-46"></a><span class="w">        </span><span class="c1">//   environment {</span>
<a id="__codelineno-3-47" name="__codelineno-3-47"></a><span class="w">        </span><span class="c1">//       SCANNER_HOME = tool &quot;${SONAR_SCANNER}&quot;</span>
<a id="__codelineno-3-48" name="__codelineno-3-48"></a><span class="w">        </span><span class="c1">//   }</span>
<a id="__codelineno-3-49" name="__codelineno-3-49"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-50" name="__codelineno-3-50"></a><span class="w">                </span><span class="n">withSonarQubeEnv</span><span class="o">(</span><span class="s2">&quot;${SONAR_SERVER}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-51" name="__codelineno-3-51"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;$SCANNER_HOME/bin/${SONAR_SCANNER} \</span>
<a id="__codelineno-3-52" name="__codelineno-3-52"></a><span class="s1">                        -Dsonar.projectKey=${SONAR_PROJECT_NAME} \</span>
<a id="__codelineno-3-53" name="__codelineno-3-53"></a><span class="s1">                        -Dsonar.projectName=${SONAR_PROJECT_NAME} \</span>
<a id="__codelineno-3-54" name="__codelineno-3-54"></a><span class="s1">                        -Dsonar.java.binaries=.&#39;&#39;&#39;</span>
<a id="__codelineno-3-55" name="__codelineno-3-55"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-56" name="__codelineno-3-56"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-57" name="__codelineno-3-57"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-58" name="__codelineno-3-58"></a>
<a id="__codelineno-3-59" name="__codelineno-3-59"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;TRIVY FS SCAN&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-60" name="__codelineno-3-60"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-61" name="__codelineno-3-61"></a><span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;trivy fs -o trivy-fs-report_$BUILD_NUMBER.txt .&#39;</span>
<a id="__codelineno-3-62" name="__codelineno-3-62"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-63" name="__codelineno-3-63"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-64" name="__codelineno-3-64"></a>
<a id="__codelineno-3-65" name="__codelineno-3-65"></a><span class="w">        </span><span class="c1">// DOCKER IMAGE BUILDS</span>
<a id="__codelineno-3-66" name="__codelineno-3-66"></a>
<a id="__codelineno-3-67" name="__codelineno-3-67"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;adservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-68" name="__codelineno-3-68"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-69" name="__codelineno-3-69"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-70" name="__codelineno-3-70"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-71" name="__codelineno-3-71"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/adservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-72" name="__codelineno-3-72"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-73" name="__codelineno-3-73"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-74" name="__codelineno-3-74"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-75" name="__codelineno-3-75"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-76" name="__codelineno-3-76"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-77" name="__codelineno-3-77"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-78" name="__codelineno-3-78"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-79" name="__codelineno-3-79"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;cartservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-80" name="__codelineno-3-80"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-81" name="__codelineno-3-81"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-82" name="__codelineno-3-82"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-83" name="__codelineno-3-83"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/cartservice/src&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-84" name="__codelineno-3-84"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-85" name="__codelineno-3-85"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-86" name="__codelineno-3-86"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-87" name="__codelineno-3-87"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-88" name="__codelineno-3-88"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-89" name="__codelineno-3-89"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-90" name="__codelineno-3-90"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-91" name="__codelineno-3-91"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;checkoutservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-92" name="__codelineno-3-92"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-93" name="__codelineno-3-93"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-94" name="__codelineno-3-94"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-95" name="__codelineno-3-95"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/checkoutservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-96" name="__codelineno-3-96"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-97" name="__codelineno-3-97"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-98" name="__codelineno-3-98"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-99" name="__codelineno-3-99"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-100" name="__codelineno-3-100"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-101" name="__codelineno-3-101"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-102" name="__codelineno-3-102"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-103" name="__codelineno-3-103"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;currencyservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-104" name="__codelineno-3-104"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-105" name="__codelineno-3-105"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-106" name="__codelineno-3-106"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-107" name="__codelineno-3-107"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/currencyservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-108" name="__codelineno-3-108"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-109" name="__codelineno-3-109"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-110" name="__codelineno-3-110"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-111" name="__codelineno-3-111"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-112" name="__codelineno-3-112"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-113" name="__codelineno-3-113"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-114" name="__codelineno-3-114"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-115" name="__codelineno-3-115"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;emailservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-116" name="__codelineno-3-116"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-117" name="__codelineno-3-117"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-118" name="__codelineno-3-118"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-119" name="__codelineno-3-119"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/emailservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-120" name="__codelineno-3-120"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-121" name="__codelineno-3-121"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-122" name="__codelineno-3-122"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-123" name="__codelineno-3-123"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-124" name="__codelineno-3-124"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-125" name="__codelineno-3-125"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-126" name="__codelineno-3-126"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-127" name="__codelineno-3-127"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;frontend DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-128" name="__codelineno-3-128"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-129" name="__codelineno-3-129"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-130" name="__codelineno-3-130"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-131" name="__codelineno-3-131"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/frontend&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-132" name="__codelineno-3-132"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-133" name="__codelineno-3-133"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-134" name="__codelineno-3-134"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-135" name="__codelineno-3-135"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-136" name="__codelineno-3-136"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-137" name="__codelineno-3-137"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-138" name="__codelineno-3-138"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-139" name="__codelineno-3-139"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;loadgenerator DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-140" name="__codelineno-3-140"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-141" name="__codelineno-3-141"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-142" name="__codelineno-3-142"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-143" name="__codelineno-3-143"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/loadgenerator&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-144" name="__codelineno-3-144"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-145" name="__codelineno-3-145"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-146" name="__codelineno-3-146"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-147" name="__codelineno-3-147"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-148" name="__codelineno-3-148"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-149" name="__codelineno-3-149"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-150" name="__codelineno-3-150"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-151" name="__codelineno-3-151"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;paymentservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-152" name="__codelineno-3-152"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-153" name="__codelineno-3-153"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-154" name="__codelineno-3-154"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-155" name="__codelineno-3-155"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/paymentservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-156" name="__codelineno-3-156"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-157" name="__codelineno-3-157"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-158" name="__codelineno-3-158"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-159" name="__codelineno-3-159"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-160" name="__codelineno-3-160"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-161" name="__codelineno-3-161"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-162" name="__codelineno-3-162"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-163" name="__codelineno-3-163"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;productcatalogservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-164" name="__codelineno-3-164"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-165" name="__codelineno-3-165"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-166" name="__codelineno-3-166"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-167" name="__codelineno-3-167"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/productcatalogservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-168" name="__codelineno-3-168"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-169" name="__codelineno-3-169"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-170" name="__codelineno-3-170"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-171" name="__codelineno-3-171"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-172" name="__codelineno-3-172"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-173" name="__codelineno-3-173"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-174" name="__codelineno-3-174"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-175" name="__codelineno-3-175"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;recommendationservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-176" name="__codelineno-3-176"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-177" name="__codelineno-3-177"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-178" name="__codelineno-3-178"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-179" name="__codelineno-3-179"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/recommendationservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-180" name="__codelineno-3-180"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-181" name="__codelineno-3-181"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-182" name="__codelineno-3-182"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-183" name="__codelineno-3-183"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-184" name="__codelineno-3-184"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-185" name="__codelineno-3-185"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-186" name="__codelineno-3-186"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-187" name="__codelineno-3-187"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;shippingservice DockerImage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-188" name="__codelineno-3-188"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-189" name="__codelineno-3-189"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-190" name="__codelineno-3-190"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_CRED_ID}&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">&quot;${DOCKER_TOOL}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-191" name="__codelineno-3-191"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/src/shippingservice&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-192" name="__codelineno-3-192"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker build -t ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER .&quot;</span>
<a id="__codelineno-3-193" name="__codelineno-3-193"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker push ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-194" name="__codelineno-3-194"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-3-195" name="__codelineno-3-195"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-3-196" name="__codelineno-3-196"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-3-197" name="__codelineno-3-197"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-198" name="__codelineno-3-198"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-199" name="__codelineno-3-199"></a>
<a id="__codelineno-3-200" name="__codelineno-3-200"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;DockerImage CleanUp&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-201" name="__codelineno-3-201"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-3-202" name="__codelineno-3-202"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-203" name="__codelineno-3-203"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-204" name="__codelineno-3-204"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-205" name="__codelineno-3-205"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-206" name="__codelineno-3-206"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-207" name="__codelineno-3-207"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-208" name="__codelineno-3-208"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-209" name="__codelineno-3-209"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-210" name="__codelineno-3-210"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-211" name="__codelineno-3-211"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-212" name="__codelineno-3-212"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;docker rmi ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG_PREFIX.$BUILD_NUMBER&quot;</span>
<a id="__codelineno-3-213" name="__codelineno-3-213"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-3-214" name="__codelineno-3-214"></a><span class="hll"><span class="w">        </span><span class="o">}</span>
</span><a id="__codelineno-3-215" name="__codelineno-3-215"></a><span class="hll"><span class="w">    </span><span class="c1">// stage(&quot;Kubernetes deploy&quot;){</span>
</span><a id="__codelineno-3-216" name="__codelineno-3-216"></a><span class="hll"><span class="w">        </span><span class="c1">// steps {</span>
</span><a id="__codelineno-3-217" name="__codelineno-3-217"></a><span class="hll"><span class="w">        </span><span class="c1">//     withKubeConfig(caCertificate: &#39;&#39;, clusterName: &#39;&#39;, contextName: &#39;&#39;, credentialsId: &#39;cluster-ID&#39;, namespace: &#39;opeyemi-apps&#39;, restrictKubeConfigAccess: false, serverUrl: &#39;https://FDC152307BF6A5337A2C02C976A8D19F.gr7.us-east-2.eks.amazonaws.com&#39;)</span>
</span><a id="__codelineno-3-218" name="__codelineno-3-218"></a><span class="hll"><span class="w">            </span><span class="c1">//   {</span>
</span><a id="__codelineno-3-219" name="__codelineno-3-219"></a><span class="hll"><span class="w">            </span><span class="c1">//       sh &#39; kubectl apply -f buildnow.yml -n opeyemi-apps&#39;</span>
</span><a id="__codelineno-3-220" name="__codelineno-3-220"></a><span class="hll"><span class="w">            </span><span class="c1">//       sh &#39; kubectl get pods -n opeyemi-apps &#39;</span>
</span><a id="__codelineno-3-221" name="__codelineno-3-221"></a><span class="hll"><span class="w">            </span><span class="c1">//       sh &#39; kubectl get svc -n opeyemi-apps &#39;</span>
</span><a id="__codelineno-3-222" name="__codelineno-3-222"></a><span class="hll"><span class="w">                </span><span class="c1">//  sh &quot; kubectl get service -n opeyemi-apps frontend-external | awk &#39;{print \$4}&#39; &quot;</span>
</span><a id="__codelineno-3-223" name="__codelineno-3-223"></a><span class="hll"><span class="w">            </span><span class="c1">//   }</span>
</span><a id="__codelineno-3-224" name="__codelineno-3-224"></a><span class="hll"><span class="w">            </span><span class="c1">//       sh &#39; date&#39;</span>
</span><a id="__codelineno-3-225" name="__codelineno-3-225"></a><span class="hll"><span class="w">        </span><span class="c1">//    }</span>
</span><a id="__codelineno-3-226" name="__codelineno-3-226"></a><span class="w">    </span><span class="c1">//    }</span>
<a id="__codelineno-3-227" name="__codelineno-3-227"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-3-228" name="__codelineno-3-228"></a>
<a id="__codelineno-3-229" name="__codelineno-3-229"></a><span class="w">    </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-230" name="__codelineno-3-230"></a><span class="w">        </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-231" name="__codelineno-3-231"></a><span class="w">            </span><span class="n">emailext</span><span class="o">(</span>
<a id="__codelineno-3-232" name="__codelineno-3-232"></a><span class="w">                </span><span class="nl">attachLog:</span><span class="w"> </span><span class="kc">true</span><span class="o">,</span>
<a id="__codelineno-3-233" name="__codelineno-3-233"></a><span class="w">                </span><span class="nl">attachmentsPattern:</span><span class="w"> </span><span class="s1">&#39;trivy-fs-report_$BUILD_NUMBER.txt, dependency-check-report.html, gitleaks_report-$BUILD_NUMBER.json&#39;</span><span class="o">,</span>
<a id="__codelineno-3-234" name="__codelineno-3-234"></a><span class="w">                </span><span class="nl">body:</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;</span>
<a id="__codelineno-3-235" name="__codelineno-3-235"></a><span class="s1">                Project &lt;strong&gt;&quot;$PROJECT_NAME&quot;&lt;/strong&gt; has completed.&lt;br&gt;</span>
<a id="__codelineno-3-236" name="__codelineno-3-236"></a><span class="s1">                Build Number: $BUILD_NUMBER &lt;br&gt; Build Tag: $BUILD_TAG &lt;br&gt;</span>
<a id="__codelineno-3-237" name="__codelineno-3-237"></a><span class="s1">                Job Url: &lt;a href=&quot;$JOB_URL&quot;&gt;Job URL&lt;/a&gt; &lt;br&gt; Build Status: &lt;strong&gt;$BUILD_STATUS&lt;/strong&gt;&lt;br&gt;&lt;br&gt;</span>
<a id="__codelineno-3-238" name="__codelineno-3-238"></a><span class="s1">                Check console output at &lt;a href=&quot;${BUILD_URL}console&quot;&gt;Console URL&lt;/a&gt; to view the results.</span>
<a id="__codelineno-3-239" name="__codelineno-3-239"></a><span class="s1">                &#39;&#39;&#39;</span><span class="o">,</span>
<a id="__codelineno-3-240" name="__codelineno-3-240"></a><span class="w">                </span><span class="nl">subject:</span><span class="w"> </span><span class="s1">&#39;Project: $PROJECT_NAME, Build #: $BUILD_NUMBER - $BUILD_STATUS&#39;</span><span class="o">,</span>
<a id="__codelineno-3-241" name="__codelineno-3-241"></a><span class="w">                </span><span class="nl">to:</span><span class="w"> </span><span class="s2">&quot;$DEST_EMAIL&quot;</span><span class="o">,</span>
<a id="__codelineno-3-242" name="__codelineno-3-242"></a><span class="w">                </span><span class="nl">replyTo:</span><span class="w"> </span><span class="s2">&quot;$REPLYTO_EMAIL&quot;</span>
<a id="__codelineno-3-243" name="__codelineno-3-243"></a><span class="w">            </span><span class="o">)</span>
<a id="__codelineno-3-244" name="__codelineno-3-244"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-3-245" name="__codelineno-3-245"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-3-246" name="__codelineno-3-246"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Lines 9-21 contain environment variables. Replace the values according to your Jenkins server configuration</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Uncomment lines 214 to 225 when you have configured your EKS cluster and set the parameters accordingly in your Jenkins server </li>
</ul>
</details>
</details>
<h2 id="jenkins-plugins-to-install">Jenkins Plugins to install<a class="headerlink" href="#jenkins-plugins-to-install" title="Copy this link to reference this section">&para;</a></h2>
<ul>
<li>sonar</li>
<li>SonarQube Scanner</li>
<li>docker</li>
<li>docker pipeline</li>
<li>docker build step</li>
<li>cloudbees docker build and publish</li>
<li>kubernetes</li>
<li>kubernetes CLI</li>
<li>Email Notifications</li>
<li>Extended Email Notifications</li>
<li>Prometheus Metrics</li>
<li></li>
</ul>
<h2 id="jenkins-email-configuration">Jenkins Email Configuration<a class="headerlink" href="#jenkins-email-configuration" title="Copy this link to reference this section">&para;</a></h2>
<ul>
<li>SMTP Server Name: smtp.gmail.com</li>
<li>Username:    user_email_id@gmail.com</li>
<li>Password: app_password</li>
<li>Use SSL: checked</li>
<li>SMTP Port:  465</li>
</ul>
<h2 id="setting-the-script-options"><strong>Setting the script options</strong><a class="headerlink" href="#setting-the-script-options" title="Copy this link to reference this section">&para;</a></h2>
<p>The script allows you to set some options based on your use case. These are the available options you can set:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> <mark>project_name</mark> - This is used for labelling purposes only. It is appended to the resource tags</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> <mark>OpenVPN_instance_type</mark> - This has been set to <code>t2-micro</code> so the setup remains within the AWS free-tier plan.  You can change this to any suitable instance type but a t2-micro will server in most situations</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> <mark>openvpn_user</mark> - This is the username used to create the <code>*.ovpn</code> profile file on the VPN server. The profile name is displayed when you connect through the OpenVPN client. It is currently set to append the selected AWS region so you can easily know which region you are connected to.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> <mark>selected_region</mark> - this option is set at runtime and it is required for the script to run. Here you select the AWS region where you want your server to be hosted.  The region you select will determine where your VPN traffic is routed through. For example, if you select <code>ca-central-1</code>, your VPN traffic will be routed through the AWS Canada Central IP address and as such your public IP address will read "Quebec, Montreal, Canada" </li>
</ul>
<figure>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" data-title="Public IP address showing Canada" data-desc-position="bottom"><img alt="Public IP address showing Canada" src="../../assets/images/ovpn-canada-ip.png" title="Public IP address showing Canada" /></a></p>
<figcaption>
<p>Public IP address showing Canada</p>
</figcaption>
</figure>
<p>The list of acceptable AWS regions are shown <a href="https://opeyemitechpro.github.io/my-projects/terraform_projects/openvpn_access_server/#list-of-accepted-aws-regions">here</a></p>
<h6 id="_1"><a class="headerlink" href="#_1" title="Copy this link to reference this section">&para;</a></h6>
<h2 id="aws-iam-policies-required-for-eks-cluster-creation">AWS IAM Policies required for EKS Cluster Creation<a class="headerlink" href="#aws-iam-policies-required-for-eks-cluster-creation" title="Copy this link to reference this section">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AmazonEC2FullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AmazonEKS_CNI_Policy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AmazonEKSClusterPolicy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AmazonEKSWorkerNodePolicy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AmazonPCIFullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> AWSCloudFormationFullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> IAMFullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> IAMUserChangePolicy</li>
</ul>
<h2 id="create-eks-cluster">Create EKS Cluster<a class="headerlink" href="#create-eks-cluster" title="Copy this link to reference this section">&para;</a></h2>
<p>Create your EKS Cluster</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>eksctl<span class="w"> </span>create<span class="w"> </span>cluster<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span>--name<span class="w"> </span>ope-k8s-cluster<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span>--region<span class="w"> </span>us-east-2<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span>--with-oidc<span class="w"> </span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>Replace the clsuter name with your desired name</li>
</ul>
</div>
<h2 id="install-and-setup-argocd-on-eks">Install and Setup ArgoCD on EKS<a class="headerlink" href="#install-and-setup-argocd-on-eks" title="Copy this link to reference this section">&para;</a></h2>
<h2 id="install-and-setup-prometheus-stack-on-eks-using-helm">Install and setup Prometheus Stack on EKS using Helm<a class="headerlink" href="#install-and-setup-prometheus-stack-on-eks-using-helm" title="Copy this link to reference this section">&para;</a></h2>
<h3 id="install-helm">Install Helm<a class="headerlink" href="#install-helm" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div></td></tr></table></div>
<h3 id="check-helm-version">Check Helm version<a class="headerlink" href="#check-helm-version" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>helm<span class="w"> </span>version
</code></pre></div></td></tr></table></div>
<h3 id="add-helm-repo">Add Helm repo<a class="headerlink" href="#add-helm-repo" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>prometheus-community<span class="w"> </span>https://prometheus-community.github.io/helm-charts
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong><em>(Optionally) Search Available Hem Charts</em></strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>helm<span class="w"> </span>search<span class="w"> </span>repo<span class="w"> </span>prometheus-community
</code></pre></div></td></tr></table></div></p>
</blockquote>
<h3 id="create-namespace">create namespace<a class="headerlink" href="#create-namespace" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>namespace<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<h3 id="install-prometheus-stack-into-monitoring-namespace">Install Prometheus Stack into monitoring namespace<a class="headerlink" href="#install-prometheus-stack-into-monitoring-namespace" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>helm<span class="w"> </span>install<span class="w"> </span>prometheus<span class="w"> </span>prometheus-community/kube-prometheus-stack<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span>-n<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">  </span>--set<span class="w"> </span>prometheus.prometheusSpec.maximumStartupDurationSeconds<span class="o">=</span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">  </span>--set<span class="w"> </span>alertmanager.persistence.storageClass<span class="o">=</span><span class="s2">&quot;gp2&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">  </span>--set<span class="w"> </span>server.persistentVolume.storageClass<span class="o">=</span><span class="s2">&quot;gp2&quot;</span>
</code></pre></div></td></tr></table></div>
<h3 id="check-running-status-of-pods-to-verify-deployment">Check running status of pods to verify deployment<a class="headerlink" href="#check-running-status-of-pods-to-verify-deployment" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-l<span class="w"> </span><span class="s2">&quot;release=prometheus&quot;</span>
</code></pre></div></td></tr></table></div>
<p>OR
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div></p>
<h3 id="list-all-services-in-the-monitoring-namespace">List all services in the monitoring namespace<a class="headerlink" href="#list-all-services-in-the-monitoring-namespace" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<h3 id="display-grafana-url-optional">Display Grafana URL (optional)<a class="headerlink" href="#display-grafana-url-optional" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring<span class="w"> </span>prometheus-grafana
</code></pre></div></td></tr></table></div>
<h3 id="display-prometheus-url-optional">Display Prometheus URL (optional)<a class="headerlink" href="#display-prometheus-url-optional" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring<span class="w"> </span>prometheus-kube-prometheus-prometheus
</code></pre></div></td></tr></table></div>
<h3 id="expose-grafana-on-a-loadbalancer">Expose Grafana on a LoadBalancer<a class="headerlink" href="#expose-grafana-on-a-loadbalancer" title="Copy this link to reference this section">&para;</a></h3>
<p>Change Grafana Service Type from ClusterIP to LoadBalancer to expose for external access</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>kubectl<span class="w"> </span>patch<span class="w"> </span>svc<span class="w"> </span>prometheus-grafana<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">  </span>-n<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">  </span>-p<span class="w"> </span><span class="s1">&#39;{&quot;spec&quot;: {&quot;type&quot;: &quot;LoadBalancer&quot;}}&#39;</span>
</code></pre></div></td></tr></table></div>
<h3 id="expose-prometheus-on-a-loadbalancer">Expose Prometheus on a LoadBalancer<a class="headerlink" href="#expose-prometheus-on-a-loadbalancer" title="Copy this link to reference this section">&para;</a></h3>
<p>Change Prometheus Service Type from ClusterIP to LoadBalancer to expose for external access</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a>kubectl<span class="w"> </span>patch<span class="w"> </span>svc<span class="w"> </span>prometheus-kube-prometheus-prometheus<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span>-n<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">  </span>-p<span class="w"> </span><span class="s1">&#39;{&quot;spec&quot;: {&quot;type&quot;: &quot;LoadBalancer&quot;}}&#39;</span>
</code></pre></div></td></tr></table></div>
<h3 id="display-loadbalancer-url-for-grafana-and-prometheus">Display LoadBalancer URL for Grafana and Prometheus<a class="headerlink" href="#display-loadbalancer-url-for-grafana-and-prometheus" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<p>You may need to wait a while for the <code>EXTERNAL-IP</code> field to be populated, then open each URL for both Grafana and Prometheus in your browser (Grafana on port 80, Prometheus on port 9090)</p>
<h3 id="get-grafana-password">Get Grafana password<a class="headerlink" href="#get-grafana-password" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>prometheus-grafana<span class="w"> </span>-o<span class="w"> </span>json<span class="w"> </span>
</code></pre></div></td></tr></table></div>
<p>Copy the admin-password from the json output and decode it in base-64 using the command below</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;admin-password&gt;&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>--decode
</code></pre></div></td></tr></table></div>
<p>OR use this command</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>prometheus-grafana<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s2">&quot;{.data.admin-password}&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>Default Username is <code>admin</code></li>
<li>The decoded password should translate to <code>prom-operator</code> which is the default grafana password.</li>
</ul>
</div>
<hr />
<p><br><br><br></p>
<details class="code-file">
<summary>Install &amp; Configure Node-Exporter on linux</summary>
<h2 id="install-configure-node-exporter-on-linux">Install &amp; Configure Node-Exporter on linux<a class="headerlink" href="#install-configure-node-exporter-on-linux" title="Copy this link to reference this section">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span>
<span class="normal"><a href="#__codelineno-22-16">16</a></span>
<span class="normal"><a href="#__codelineno-22-17">17</a></span>
<span class="normal"><a href="#__codelineno-22-18">18</a></span>
<span class="normal"><a href="#__codelineno-22-19">19</a></span>
<span class="normal"><a href="#__codelineno-22-20">20</a></span>
<span class="normal"><a href="#__codelineno-22-21">21</a></span>
<span class="normal"><a href="#__codelineno-22-22">22</a></span>
<span class="normal"><a href="#__codelineno-22-23">23</a></span>
<span class="normal"><a href="#__codelineno-22-24">24</a></span>
<span class="normal"><a href="#__codelineno-22-25">25</a></span>
<span class="normal"><a href="#__codelineno-22-26">26</a></span>
<span class="normal"><a href="#__codelineno-22-27">27</a></span>
<span class="normal"><a href="#__codelineno-22-28">28</a></span>
<span class="normal"><a href="#__codelineno-22-29">29</a></span>
<span class="normal"><a href="#__codelineno-22-30">30</a></span>
<span class="normal"><a href="#__codelineno-22-31">31</a></span>
<span class="normal"><a href="#__codelineno-22-32">32</a></span>
<span class="normal"><a href="#__codelineno-22-33">33</a></span>
<span class="normal"><a href="#__codelineno-22-34">34</a></span>
<span class="normal"><a href="#__codelineno-22-35">35</a></span>
<span class="normal"><a href="#__codelineno-22-36">36</a></span>
<span class="normal"><a href="#__codelineno-22-37">37</a></span>
<span class="normal"><a href="#__codelineno-22-38">38</a></span>
<span class="normal"><a href="#__codelineno-22-39">39</a></span>
<span class="normal"><a href="#__codelineno-22-40">40</a></span>
<span class="normal"><a href="#__codelineno-22-41">41</a></span>
<span class="normal"><a href="#__codelineno-22-42">42</a></span>
<span class="normal"><a href="#__codelineno-22-43">43</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="nb">set</span><span class="w"> </span>-e
<a id="__codelineno-22-4" name="__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="nv">NODE_EXPORTER_VERSION</span><span class="o">=</span><span class="s2">&quot;1.8.1&quot;</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="nv">DOWNLOAD_URL</span><span class="o">=</span><span class="s2">&quot;https://github.com/prometheus/node_exporter/releases/download/v</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">/node_exporter-</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">.linux-amd64.tar.gz&quot;</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🚀 Installing Node Exporter v</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">...&quot;</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="c1"># Download and extract</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a>curl<span class="w"> </span>-LO<span class="w"> </span><span class="si">${</span><span class="nv">DOWNLOAD_URL</span><span class="si">}</span>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a>tar<span class="w"> </span>-xzf<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64.tar.gz
<a id="__codelineno-22-13" name="__codelineno-22-13"></a>sudo<span class="w"> </span>mv<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64/node_exporter<span class="w"> </span>/usr/local/bin/
<a id="__codelineno-22-14" name="__codelineno-22-14"></a>rm<span class="w"> </span>-rf<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64*
<a id="__codelineno-22-15" name="__codelineno-22-15"></a>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="c1"># Create user</span>
<a id="__codelineno-22-17" name="__codelineno-22-17"></a>sudo<span class="w"> </span>useradd<span class="w"> </span>-rs<span class="w"> </span>/bin/false<span class="w"> </span>node_exporter<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
<a id="__codelineno-22-18" name="__codelineno-22-18"></a>
<a id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="c1"># Create systemd service</span>
<a id="__codelineno-22-20" name="__codelineno-22-20"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | sudo tee /etc/systemd/system/node_exporter.service</span>
<a id="__codelineno-22-21" name="__codelineno-22-21"></a><span class="s">[Unit]</span>
<a id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="s">Description=Node Exporter</span>
<a id="__codelineno-22-23" name="__codelineno-22-23"></a><span class="s">Wants=network-online.target</span>
<a id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="s">After=network-online.target</span>
<a id="__codelineno-22-25" name="__codelineno-22-25"></a>
<a id="__codelineno-22-26" name="__codelineno-22-26"></a><span class="s">[Service]</span>
<a id="__codelineno-22-27" name="__codelineno-22-27"></a><span class="s">User=node_exporter</span>
<a id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="s">Group=node_exporter</span>
<a id="__codelineno-22-29" name="__codelineno-22-29"></a><span class="s">Type=simple</span>
<a id="__codelineno-22-30" name="__codelineno-22-30"></a><span class="s">ExecStart=/usr/local/bin/node_exporter</span>
<a id="__codelineno-22-31" name="__codelineno-22-31"></a>
<a id="__codelineno-22-32" name="__codelineno-22-32"></a><span class="s">[Install]</span>
<a id="__codelineno-22-33" name="__codelineno-22-33"></a><span class="s">WantedBy=default.target</span>
<a id="__codelineno-22-34" name="__codelineno-22-34"></a><span class="s">EOF</span>
<a id="__codelineno-22-35" name="__codelineno-22-35"></a>
<a id="__codelineno-22-36" name="__codelineno-22-36"></a><span class="c1"># Reload and start</span>
<a id="__codelineno-22-37" name="__codelineno-22-37"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-22-38" name="__codelineno-22-38"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>node_exporter
<a id="__codelineno-22-39" name="__codelineno-22-39"></a>
<a id="__codelineno-22-40" name="__codelineno-22-40"></a>
<a id="__codelineno-22-41" name="__codelineno-22-41"></a><span class="c1"># Verify</span>
<a id="__codelineno-22-42" name="__codelineno-22-42"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ Node Exporter is running!&quot;</span>
<a id="__codelineno-22-43" name="__codelineno-22-43"></a>curl<span class="w"> </span>-s<span class="w"> </span>http://localhost:9100/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">5</span>
</code></pre></div></td></tr></table></div>
</details>
<hr />
<p><br></p>
<h2 id="scrapping-metrics">Scrapping Metrics<a class="headerlink" href="#scrapping-metrics" title="Copy this link to reference this section">&para;</a></h2>
<p>To Scrape metrics from a standalone Linux server (our Jenkins server) running node_exporter using a Prometheus instance running inside EKS</p>
<h3 id="prerequisites">✅ Prerequisites:<a class="headerlink" href="#prerequisites" title="Copy this link to reference this section">&para;</a></h3>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Prometheus is installed via Helm chart.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Node_exporter is running and accessible on our Jenkins server (default port: <code>9100</code>).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> The Jenkins server's IP address is publicly accessible or reachable from within the EKS cluster (e.g., via VPC Peering, VPN, or internal networking).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Security Groups and firewall rules allow traffic from EKS nodes to port <code>9100</code> on the Jenkins server.</li>
</ul>
<h3 id="steps-to-add-standalone-server-to-prometheus-scrape-targets">🚀 Steps to Add Standalone Server to Prometheus Scrape Targets<a class="headerlink" href="#steps-to-add-standalone-server-to-prometheus-scrape-targets" title="Copy this link to reference this section">&para;</a></h3>
<h4 id="1-create-additional-scrape-config-via-secret">1. Create Additional Scrape Config via Secret<a class="headerlink" href="#1-create-additional-scrape-config-via-secret" title="Copy this link to reference this section">&para;</a></h4>
<p>Create a file named <code>additional-scrape-configs.yaml</code> with the following content:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;jenkins-node-exporter&#39;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;&lt;server_ip&gt;:9100&#39;</span><span class="p p-Indicator">]</span>
</span><a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">        </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&lt;instance_name&gt;&#39;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;node-exporter&#39;</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">        </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;dev&#39;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;jenkins-prom-plugin&#39;</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">  </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/prometheus</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">  </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;&lt;server_ip&gt;:8080&#39;</span><span class="p p-Indicator">]</span>
</span><a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">        </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;instance_name&#39;</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;jenkins-master&#39;</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">        </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;dev&#39;</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Edit the higlighted lines and replace <code>&lt;server-ip&gt;</code> with the IP address or DNS name of your standalone Linux server. In this case, your jenkins server.</p>
</div>
<h4 id="2-now-create-a-kubernetes-secret">2. Now create a Kubernetes secret<a class="headerlink" href="#2-now-create-a-kubernetes-secret" title="Copy this link to reference this section">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>additional-scrape-configs<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">  </span>--from-file<span class="o">=</span>additional-scrape-configs.yaml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">  </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<h4 id="3-edit-prometheus-custom-resource">3. Edit Prometheus Custom Resource<a class="headerlink" href="#3-edit-prometheus-custom-resource" title="Copy this link to reference this section">&para;</a></h4>
<p>First get the prometheus resource name</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<p>Then edit the prometheus custom resource</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a>kubectl<span class="w"> </span>edit<span class="w"> </span>prometheus<span class="w"> </span>prometheus-kube-prometheus-prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<p>Under <code>spec</code> add:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="w">  </span><span class="nt">additionalScrapeConfigs</span><span class="p">:</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs.yaml</span>
</code></pre></div></td></tr></table></div>
<p>So the result should look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span>
<span class="normal"><a href="#__codelineno-28-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">additionalScrapeConfigs</span><span class="p p-Indicator">:</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs.yaml</span>
</code></pre></div></td></tr></table></div>
<h4 id="4-apply-and-verify">4. Apply and Verify<a class="headerlink" href="#4-apply-and-verify" title="Copy this link to reference this section">&para;</a></h4>
<p>Prometheus will reload its config automatically by deafult. Wait a minute, then:</p>
<ul>
<li>Go to the Prometheus UI (<code>/targets</code> page).</li>
<li>Look for the job <code>node-exporter-standalone</code>.</li>
<li>Ensure it’s marked as UP.</li>
</ul>
<p><br><br></p>
<h3 id="to-uninstall-prometheus-stack-and-delete-namespace">To Uninstall Prometheus-Stack and delete namespace<a class="headerlink" href="#to-uninstall-prometheus-stack-and-delete-namespace" title="Copy this link to reference this section">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
<a id="__codelineno-29-2" name="__codelineno-29-2"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>namespace<span class="w"> </span>monitoring
</code></pre></div></td></tr></table></div>
<h6 id="_2"><a class="headerlink" href="#_2" title="Copy this link to reference this section">&para;</a></h6>
<h2 id="conclusion"><strong>Conclusion</strong><a class="headerlink" href="#conclusion" title="Copy this link to reference this section">&para;</a></h2>
<p>Setting up a self-hosted VPN server using this Terraform configuration script is a straightforward and efficient way to enhance your network security and maintain control over your data. By following this documentation, you can deploy a robust OpenVPN server on AWS, customize it to your needs, and ensure private and secure internet access. This guide aims to empower you with the knowledge and tools to manage your own VPN server effectively. For any troubleshooting or further customization, explore the Terraform and OpenVPN documentation for advanced insights and solutions. </p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="August 22, 2025 18:31:28 UTC"><span class="timeago" datetime="2025-08-22T18:31:28+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="August 22, 2025 18:31:28 UTC">2025-08-22</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 9, 2024 00:20:27 UTC"><span class="timeago" datetime="2024-07-09T00:20:27+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 9, 2024 00:20:27 UTC">2024-07-09</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/opeyemitechpro" class="md-author" title="@opeyemitechpro">
          
          <img src="https://avatars.githubusercontent.com/u/135651560?v=4&amp;size=72" alt="opeyemitechpro">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful? Please give a feedback
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.349 2.378a.75.75 0 0 1 .808-.361l.127.027a3.875 3.875 0 0 1 2.879 4.97L16.527 9h1.137c2.645 0 4.513 2.591 3.676 5.1l-1.559 4.678A3.25 3.25 0 0 1 16.698 21h-5.289a4.5 4.5 0 0 1-2.828-.999A1.75 1.75 0 0 1 7 21H4.75A1.75 1.75 0 0 1 3 19.25v-8.5C3 9.784 3.784 9 4.75 9h4.67a.25.25 0 0 0 .217-.126zM8.75 18.16l.683.598a3 3 0 0 0 1.976.742h5.289a1.75 1.75 0 0 0 1.66-1.197l1.559-4.677a2.375 2.375 0 0 0-2.253-3.126H15.5a.75.75 0 0 1-.714-.979l.948-2.964a2.375 2.375 0 0 0-1.373-2.927l-3.422 5.988a1.75 1.75 0 0 1-1.519.882h-.67zm-1.5-7.66h-2.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25H7a.25.25 0 0 0 .25-.25z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page can be improved" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.651 21.622a.75.75 0 0 1-.808.361l-.127-.027a3.875 3.875 0 0 1-2.879-4.97L7.473 15H6.336c-2.645 0-4.513-2.591-3.676-5.1l1.559-4.678A3.25 3.25 0 0 1 7.302 3h5.289c1.031 0 2.029.354 2.828.999A1.75 1.75 0 0 1 17 3h2.25c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 19.25 15h-4.67a.25.25 0 0 0-.217.126zM15.25 5.84l-.684-.598a3 3 0 0 0-1.975-.742H7.302a1.75 1.75 0 0 0-1.66 1.197l-1.559 4.677A2.375 2.375 0 0 0 6.336 13.5H8.5a.75.75 0 0 1 .714.979l-.948 2.964a2.375 2.375 0 0 0 1.373 2.927l3.422-5.988a1.75 1.75 0 0 1 1.519-.882h.67zm1.5 7.66h2.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H17a.25.25 0 0 0-.25.25z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help me to improve this page by completing my <a href="https://forms.gle/Bb4gifiuyrE4enDX6" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


  <h2 id="__comments">If you have Comments or Questions on the project documentation above, drop them here and I will respond</h2>
  You need to sign-in to GitHub to comment.
  <!-- Insert generated snippet here -->
   <!-- Solution to Giscus error 404 showing in the comments - https://github.com/squidfunk/mkdocs-material/pull/6502 -->

  <script>
      var script = document.createElement("script");
      script.setAttribute("src", "https://" + "giscus.app" + "/client.js");
      script.setAttribute("data-repo", "opeyemitechpro/my-projects");
      script.setAttribute("data-repo-id", "R_kgDOMCpsxg");
      script.setAttribute("data-category", "General");
      script.setAttribute("data-category-id", "DIC_kwDOMCpsxs4ChyT3");
      script.setAttribute("data-mapping", "title");
      script.setAttribute("data-strict", "1"); 
      script.setAttribute("data-reactions-enabled", "1");
      script.setAttribute("data-emit-metadata", "1");
      script.setAttribute("data-theme", "preferred_color_scheme");
      script.setAttribute("data-lang", "en");
      script.setAttribute("crossorigin", "anonymous");
      script.setAttribute("async", true);
      document.currentScript.insertAdjacentElement("afterend", script);
    </script>


  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2025 <a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener">Opeyemi Okuboyejo</a> <br><a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener">About Opeyemi</a><br><a href="https://forms.gle/Bb4gifiuyrE4enDX6" target="_blank" rel="noopener">Contact Opeyemi</a><br><br><a href="https://opeyemitechpro.github.io/privacy-policy" rel="noopener">Privacy Policy</a><br><a href="https://opeyemitechpro.github.io/terms" rel="noopener">Terms & Conditions</a><br><a href="#__consent">Manage cookie settings</a><br><br>Hosted on GitHub 

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener" title="Opeyemi Okuboyejo's Profile" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/in/opeyemi-okuboyejo/" target="_blank" rel="noopener" title="Opeyemi on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://youtube.com/@opeyemitechpro" target="_blank" rel="noopener" title="OpeyemiTechPro on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:okuboyejoopeyemi01@gmail.com" target="_blank" rel="noopener" title="Email Me" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 18.75v-14C0 3.784.784 3 1.75 3M1.5 7.412V18.75c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0Zm0-2.662v.852l10.36 7a.25.25 0 0 0 .28 0l10.36-7V4.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25"/></svg>
    </a>
  
    
    
    
    
    <a href="https://community.aws/@opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on AWS Community" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M180.4 203c-.7 22.6 10.6 32.7 10.9 39-.1 1.3-.6 2.5-1.3 3.6s-1.7 2-2.8 2.6l-12.8 9c-1.7 1.2-3.6 1.8-5.6 1.9-.4 0-8.2 1.8-20.5-25.6-7.5 9.4-17 16.9-27.9 22s-22.7 7.7-34.7 7.5c-16.3.9-60.4-9.2-58.1-56.2-1.6-38.3 34.1-62.1 70.9-60 7.1 0 21.6.4 47 6.3v-15.6c2.7-26.5-14.7-47-44.8-43.9-2.4 0-19.4-.5-45.8 10.1-7.4 3.4-8.3 2.8-10.8 2.8-7.4 0-4.4-21.5-2.9-24.2 5.2-6.4 35.9-18.4 65.9-18.2 20.1-1.8 40.1 4.4 55.7 17.3 6.3 7.1 11.2 15.4 14.2 24.4s4.2 18.5 3.5 28v69.3zM94 235.4c32.4-.5 46.2-20 49.3-30.5 2.5-10.1 2.1-16.4 2.1-27.4-9.7-2.3-23.6-4.9-39.6-4.9-15.2-1.1-42.8 5.6-41.7 32.3-1.2 16.8 11.1 31.4 30 30.5zm170.9 23.1c-7.9.7-11.5-4.9-12.7-10.4L202.4 83.4c-1-2.8-1.6-5.6-1.9-8.6-.2-1.2.1-2.4.8-3.4s1.8-1.6 3-1.8h22.2c8.8-.9 11.6 6 12.6 10.4l35.8 140.8L308.1 80c.5-3.2 2.9-11.1 12.8-10.2h17.2c2.2-.2 11.1-.5 12.7 10.4l33.3 142.5L421 80.1c.5-2.2 2.7-11.4 12.7-10.4h19.7c.9-.1 6.2-.8 5.3 8.6-.4 1.8 3.4-10.7-52.8 169.9-1.1 5.5-4.8 11.1-12.7 10.4h-18.7c-10.9 1.2-12.5-9.7-12.7-10.7l-33.2-137.1-32.8 137c-.2 1.1-1.7 11.9-12.7 10.7h-18.3zm273.5 5.6c-5.9 0-33.9-.3-57.4-12.3-2.3-1-4.3-2.6-5.7-4.8s-2.1-4.6-2.1-7.1v-10.7c0-8.5 6.2-6.9 8.8-5.9 10 4.1 16.5 7.1 28.8 9.6 36.7 7.5 52.8-2.3 56.7-4.5 13.2-7.8 14.2-25.7 5.3-34.9-10.5-8.8-15.5-9.1-53.1-21-4.6-1.3-43.7-13.6-43.8-52.4-.6-28.2 25-56.2 69.5-56 12.7 0 46.4 4.1 55.6 15.6 1.4 2.1 2 4.6 1.9 7v10.1c0 4.4-1.6 6.7-4.9 6.7-7.7-.9-21.4-11.2-49.2-10.8-6.9-.4-39.9.9-38.4 25-.4 19 26.6 26.1 29.7 26.9 36.5 11 48.6 12.8 63.1 29.6 17.1 22.2 7.9 48.3 4.3 55.4-19.1 37.5-68.4 34.4-69.3 34.4zM578.6 369c-70 51.7-171.7 79.2-258.5 79.2C203 449 89.8 405.9 2.8 327.5c-6.5-5.9-.8-14 7.2-9.5 96.5 55.2 205.7 84.2 316.9 84.1 83-.4 165.1-17.3 241.6-49.5 11.8-5 21.8 7.8 10.1 16.4m29.2-33.3c-9-11.5-59.3-5.4-81.8-2.7-6.8.8-7.9-5.1-1.8-9.5 40.1-28.2 105.9-20.1 113.4-10.6s-2.1 75.4-39.6 106.9c-5.8 4.9-11.3 2.3-8.7-4.1 8.4-21.3 27.4-68.5 18.4-80z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://dev.to/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Dev.to" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M120.1 208.3c-3.9-2.9-7.8-4.3-11.6-4.3H91.1v104.5h17.4c3.9 0 7.8-1.4 11.6-4.3s5.8-7.3 5.8-13.1v-69.7c0-5.8-2-10.2-5.8-13.1M404.1 32H43.9C19.7 32 .1 51.6 0 75.8v360.4C.1 460.4 19.7 480 43.9 480h360.2c24.2 0 43.8-19.6 43.9-43.8V75.8c-.1-24.2-19.7-43.8-43.9-43.8M154.2 291.2c0 18.8-11.6 47.3-48.4 47.3H59.4V173h47.4c35.4 0 47.4 28.5 47.4 47.3zm100.7-88.7h-53.3v38.4h32.6v29.6h-32.6v38.4h53.3v29.6h-62.2c-11.2.3-20.4-8.5-20.7-19.7V193.7c-.3-11.1 8.6-20.4 19.7-20.7h63.2zm103.6 115.3c-13.2 30.7-36.8 24.6-47.4 0L272.6 173h32.6l29.7 113.7L364.5 173h32.6l-38.5 144.8z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/opeyemitechpro_cloud" target="_blank" rel="noopener" title="Opeyemi on Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie Consent</h4>
<p>I use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of my documentation and whether users find what they're searching for. With your consent, you're helping me to make my documentation better. Thanks</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.sections", "navigation.tracking", "navigation.top", "navigation.path", "navigation.footer", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "content.tooltips", "content.code.select", "content.code.annotate", "content.action.view", "content.action.edit"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": {"AWS": null, "DevOps": null, "Terraform": null}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>