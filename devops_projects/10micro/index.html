<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Infrastructure Automation, Continuous Integration, GitOps Deployment, and Observability for an E-Commerce Microservices Platform on Amazon EKS">
      
      
      
        <link rel="canonical" href="https://opeyemitechpro.github.io/my-projects/devops_projects/10micro/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS - OpeyemiTechPro Projects Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comic+Neue:300,300i,400,400i,700,700i%7CKode+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Comic Neue";--md-code-font:"Kode Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-MGNMY7NF92"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-MGNMY7NF92",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-MGNMY7NF92",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
      
        <meta property="og:type" content="website">
      
        <meta property="og:title" content="Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS - OpeyemiTechPro Projects Portfolio">
      
        <meta property="og:description" content="Infrastructure Automation, Continuous Integration, GitOps Deployment, and Observability for an E-Commerce Microservices Platform on Amazon EKS">
      
        <meta property="og:image" content="https://opeyemitechpro.github.io/my-projects/assets/images/social/devops_projects/10micro.png">
      
        <meta property="og:image:type" content="image/png">
      
        <meta property="og:image:width" content="1200">
      
        <meta property="og:image:height" content="630">
      
        <meta property="og:url" content="https://opeyemitechpro.github.io/my-projects/devops_projects/10micro/">
      
        <meta name="twitter:card" content="summary_large_image">
      
        <meta name="twitter:title" content="Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS - OpeyemiTechPro Projects Portfolio">
      
        <meta name="twitter:description" content="Infrastructure Automation, Continuous Integration, GitOps Deployment, and Observability for an E-Commerce Microservices Platform on Amazon EKS">
      
        <meta name="twitter:image" content="https://opeyemitechpro.github.io/my-projects/assets/images/social/devops_projects/10micro.png">
      
    
    
  
  <!-- Google Adsense Code Snipet -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1002864988754361" crossorigin="anonymous"></script>
    
       

  
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: none; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <!-- Add announcement here, including arbitrary HTML -->
  <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=66d5a2ea2d491c00194a1d61&amp;product=sticky-share-buttons&amp;source=platform" async="async"></script>
  
  <!-- ShareThis Sticky Social Buttons BEGIN -->
   <div class="sharethis-sticky-share-buttons"></div>
  <!-- ShareThis END -->

 
<a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener" title="Opeyemi Okuboyejo's Profile" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path></svg>
</a>

<a href="https://www.linkedin.com/in/opeyemi-okuboyejo/" target="_blank" rel="noopener" title="Opeyemi on LinkedIn" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg>
</a>

<a href="https://github.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on GitHub" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>

<a href="https://youtube.com/@opeyemitechpro" target="_blank" rel="noopener" title="OpeyemiTechPro on YouTube" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"></path></svg>
</a>


<a href="mailto:okuboyejoopeyemi01@gmail.com" target="_blank" rel="noopener" title="Email Me" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path d="M1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 18.75v-14C0 3.784.784 3 1.75 3M1.5 7.412V18.75c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0Zm0-2.662v.852l10.36 7a.25.25 0 0 0 .28 0l10.36-7V4.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25"></path></svg>
</a>

<a href="https://community.aws/@opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on AWS Community" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.763 10.036q.002.446.088.71c.064.176.144.368.256.576.04.063.056.127.056.183q.002.12-.152.24l-.503.335a.4.4 0 0 1-.208.072q-.12-.002-.239-.112a2.5 2.5 0 0 1-.287-.375 6 6 0 0 1-.248-.471q-.934 1.101-2.347 1.101c-.67 0-1.205-.191-1.596-.574q-.588-.575-.59-1.533c0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583q-.001-.909-.375-1.277c-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103q-.443.106-.862.272a2 2 0 0 1-.28.104.5.5 0 0 1-.127.023q-.168.002-.168-.247v-.391c0-.128.016-.224.056-.28a.6.6 0 0 1 .224-.167 4.6 4.6 0 0 1 1.005-.36 4.8 4.8 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647q.66.645.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144a1.8 1.8 0 0 0 .758-.51 1.3 1.3 0 0 0 .272-.512c.047-.191.08-.423.08-.694v-.335a7 7 0 0 0-.735-.136 6 6 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296m6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.4 1.4 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783q.227-.001.31.08c.065.048.113.16.16.312l1.342 5.284 1.245-5.284q.058-.24.151-.312a.55.55 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348q.074-.24.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1 1 0 0 1-.056.2l-1.923 6.17q-.072.24-.168.311a.5.5 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.6.6 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247q.072 0 .144.024c.048.016.12.048.2.08q.408.181.878.279c.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.78.78 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.9 1.9 0 0 1-.4-1.158q0-.502.216-.886c.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088q.24.058.455.127.216.072.336.144a.7.7 0 0 1 .24.2.43.43 0 0 1 .071.263v.375q-.002.254-.184.256a.8.8 0 0 1-.303-.096 3.65 3.65 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223s-.375.383-.375.71c0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767s.367.702.367 1.117c0 .343-.072.655-.207.926a2.2 2.2 0 0 1-.583.703c-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167m1.509 3.88c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607m1.094-1.246c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994"></path></svg>
</a>

<a href="https://dev.to/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Dev.to" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35s5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06M404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8M154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58z"></path></svg>
</a>


<a href="https://x.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Twitter" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="48" height="48"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"></path></svg>
</a>

<a href="https://t.me/opeyemitechpro_cloud" target="_blank" rel="noopener" title="Opeyemi on Telegram" class="md-social__link">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"></path></svg>
</a>

<br>
<a href="https://opeyemitechpro.github.io"><img src="https://readme-typing-svg.demolab.com?font=roboto&amp;duration=3000&amp;pause=500&amp;width=435&amp;lines=Welcome+to+my+Project+Portfolio+" alt="OpeyemiTechPro"></a>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1002864988754361" crossorigin="anonymous"></script>
  
  
          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://opeyemitechpro.github.io" title="OpeyemiTechPro Projects Portfolio" class="md-header__button md-logo" aria-label="OpeyemiTechPro Projects Portfolio" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpeyemiTechPro Projects Portfolio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="yellow" aria-label="Switch to system preference" type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/opeyemitechpro/my-projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    OpeyemiTechPro Projects
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../profile/" class="md-tabs__link">
        
  
  
    
  
  About Me

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
    
  
  Start Here

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../terraform_projects/" class="md-tabs__link">
          
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.44 0v7.575l6.561 3.79V3.787zm21.12 4.227-6.561 3.791v7.574l6.56-3.787zM8.72 4.23v7.575l6.561 3.787V8.018zm0 8.405v7.575L15.28 24v-7.578z"></path></svg>
    
  
  Terraform Projects

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 5v14H4V5zm0-2H4c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2m-2 12H6v2h12zm-8-8H6v6h4zm2 2h6V7h-6zm6 2h-6v2h6z"></path></svg>
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../yt/" class="md-tabs__link">
        
  
  
    
  
  YouTube

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://opeyemitechpro.github.io" title="OpeyemiTechPro Projects Portfolio" class="md-nav__button md-logo" aria-label="OpeyemiTechPro Projects Portfolio" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    OpeyemiTechPro Projects Portfolio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/opeyemitechpro/my-projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    OpeyemiTechPro Projects
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profile/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
  
  <span class="md-ellipsis">
    About Me
    
      <br>
      <small>View my profile here</small>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
  
  <span class="md-ellipsis">
    Start Here
    
      <br>
      <small>Start your navigation of my Project Documentation from here</small>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../terraform_projects/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.44 0v7.575l6.561 3.79V3.787zm21.12 4.227-6.561 3.791v7.574l6.56-3.787zM8.72 4.23v7.575l6.561 3.787V8.018zm0 8.405v7.575L15.28 24v-7.578z"></path></svg>
  
  <span class="md-ellipsis">
    Terraform Projects
    
      <br>
      <small>Terraform Related Projects</small>
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Terraform Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform_projects/openvpn_access_server/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .357C5.385.357 0 5.69 0 12.254c0 4.36 2.358 8.153 5.896 10.204l.77-5.076a7.05 7.05 0 0 1-1.846-4.719c0-3.897 3.18-7.076 7.13-7.076 3.948 0 7.126 3.18 7.126 7.076 0 1.847-.717 3.488-1.846 4.77L18 22.51c3.59-2.05 6-5.899 6-10.258C24 5.69 18.615.357 12 .357m-.05 8.157a3.786 3.786 0 0 0-3.796 3.795 3.74 3.74 0 0 0 2.461 3.54L9.13 23.643h5.64l-1.435-7.795c1.385-.564 2.41-1.898 2.41-3.54a3.786 3.786 0 0 0-3.795-3.794"></path></svg>
  
  <span class="md-ellipsis">
    OpenVPN Access Server Setup
    
      <br>
      <small>Setup &amp; Host Your Own VPN Access Server on AWS using Terraform</small>
    
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently Updated">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 5v14H4V5zm0-2H4c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2m-2 12H6v2h12zm-8-8H6v6h4zm2 2h6V7h-6zm6 2h-6v2h6z"></path></svg>
  
  <span class="md-ellipsis">
    Blog
    
      <br>
      <small>My Blog HomePage</small>
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2">
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3">
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../yt/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
  
  <span class="md-ellipsis">
    YouTube
    
      <br>
      <small>View my YouTube Channel</small>
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Topics on This Page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Topics on This Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architectural-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Project Workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infrastructure-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Infrastructure Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Infrastructure Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jenkins-server-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Jenkins Server Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Jenkins Server Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#login-to-jenkins-server" class="md-nav__link">
    <span class="md-ellipsis">
      Login to Jenkins Server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-additional-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Install Additional Plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Add Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Plugins
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-sonarqube-server" class="md-nav__link">
    <span class="md-ellipsis">
      Configure SonarQube Server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-jenkins-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up the Jenkins Pipelines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting Up the Jenkins Pipelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-integration-ci-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous Integration (CI) Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-github-webhook" class="md-nav__link">
    <span class="md-ellipsis">
      Configure GitHub Webhook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continuous-delivery-cd-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous Delivery (CD) Pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-cluster-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes Cluster Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes Cluster Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-iam-policies-required-for-eks-cluster-creation" class="md-nav__link">
    <span class="md-ellipsis">
      AWS IAM Policies required for EKS Cluster Creation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-eks-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Create EKS Cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argocd-installation" class="md-nav__link">
    <span class="md-ellipsis">
      ArgoCD Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying-the-application-to-kubernetes-using-argocd" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying the Application to Kubernetes using ArgoCD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-monitoring-using-prometheus-and-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Set Up Monitoring Using Prometheus and Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prometheus-stack-installation-and-setup-on-eks-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Prometheus Stack Installation and Setup on EKS using Helm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-configure-node-exporter-on-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Install &amp; Configure Node-Exporter on linux
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scrapping-additional-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Scrapping Additional Metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scrapping Additional Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steps-to-add-jenkins-server-to-prometheus-scrape-targets" class="md-nav__link">
    <span class="md-ellipsis">
      ðŸš€ Steps to Add Jenkins Server to Prometheus Scrape Targets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ðŸš€ Steps to Add Jenkins Server to Prometheus Scrape Targets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-additional-scrape-config-via-secret" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create Additional Scrape Config via Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-now-create-a-kubernetes-secret" class="md-nav__link">
    <span class="md-ellipsis">
      2. Now create a Kubernetes secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-edit-prometheus-custom-resource" class="md-nav__link">
    <span class="md-ellipsis">
      3. Edit Prometheus Custom Resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-apply-and-verify" class="md-nav__link">
    <span class="md-ellipsis">
      4. Apply and Verify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-up" class="md-nav__link">
    <span class="md-ellipsis">
      Clean-Up
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
    <!-- AI Buttons Row -->
    <div style="display: flex; justify-content: flex-end; gap: 0.5rem; margin-bottom: 1rem;">
      <a id="ask-chatgpt" class="md-button" target="_blank" rel="noopener noreferrer">ðŸ’¬ Ask ChatGPT</a>
      <a id="ask-claude" class="md-button" target="_blank" rel="noopener noreferrer">ðŸ¤– Ask Claude</a>
    </div>

    <script>
      (function () {
        // page.title is rendered server-side into a safe JS string
        const title = "Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS";
        // runtime: get the absolute URL for the current doc page
        const fullUrl = window.location.href;

        // Tailored pre-prompts (you can tweak wording)
        const chatPrompt = `Read the documentation page titled "${title}" available at ${fullUrl}. Summarize the key points and be ready to answer follow-up questions.`;
        const claudePrompt = `Review this documentation page titled "${title}" at ${fullUrl}. Provide a step-by-step breakdown, and then help answer my questions about it.`;

        const chatEl = document.getElementById('ask-chatgpt');
        const claudeEl = document.getElementById('ask-claude');

        if (chatEl) {
          chatEl.href = 'https://chat.openai.com/?q=' + encodeURIComponent(chatPrompt);
        }
        if (claudeEl) {
          claudeEl.href = 'https://claude.ai/new?q=' + encodeURIComponent(claudePrompt);
        }
      })();
    </script>
  

  
                  

  <nav class="md-tags">
    
      
      
        
        
          
        
      
      
        <a href="../../tags/#tag:aws" class="md-tag md-tag-icon md-tag--None">AWS</a>
      
    
      
      
        
        
          
        
      
      
        <a href="../../tags/#tag:devops" class="md-tag md-tag-icon md-tag--None">DevOps</a>
      
    
      
      
        
        
      
      
        <a href="../../tags/#tag:grafana" class="md-tag md-tag-icon">Grafana</a>
      
    
      
      
        
        
      
      
        <a href="../../tags/#tag:jenkins" class="md-tag md-tag-icon">Jenkins</a>
      
    
      
      
        
        
      
      
        <a href="../../tags/#tag:kubernetes" class="md-tag md-tag-icon">Kubernetes</a>
      
    
      
      
        
        
      
      
        <a href="../../tags/#tag:prometheus" class="md-tag md-tag-icon">Prometheus</a>
      
    
      
      
        
        
          
        
      
      
        <a href="../../tags/#tag:terraform" class="md-tag md-tag-icon md-tag--None">Terraform</a>
      
    
  </nav>


  
    <a href="https://github.com/opeyemitechpro/my-projects/edit/main/docs/devops_projects/10micro.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/opeyemitechpro/my-projects/raw/main/docs/devops_projects/10micro.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
    </a>
  


  <h1>Hands-On DevSecOps Project - Automating Provisioning, Deployment and Monitoring of an 11-Microservice e-Commerce App on EKS</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Copy this link to reference this section">Â¶</a></h2>
<p>This project demonstrates a complete, production-grade DevSecOps pipeline for deploying a cloud-native e-commerce application built on 11 different microservices written in multiple programming languages that communicate with each other over gRPC. The application was originally designed by Google Developers for the GKE but I have adapted it to be deployed on Amazon EKS or on any Kubernetes cluster.</p>
<details class="youtube">
<summary>Watch the Video Walkthrough here - DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App to AWS EKS with Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus</summary>
<figure>
<p></p><figure markdown="1">
<a href="https://youtube.com/@opeyemitechpro" target="_blank"><img alt="DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App on AWS EKS using Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus" src="../../assets/images/Video-Coming-Soon-PlaceHolder.png" title="DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App on AWS EKS using Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus"></a>
<!-- <figcaption>Create a Free Self-Hosted VPN Server on AWS using Terraform and OpenVPN</figcaption>  -->
</figure><p></p>
<figcaption>
<p>DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App to AWS EKS with Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus</p>
</figcaption>
</figure>
</details>
<p>The goal of this project is to design and implement an end-to-end DevOps workflow that automates:</p>
<ul>
<li>Infrastructure provisioning with Terraform</li>
<li>Continuous Integration (CI) using Jenkins for building, testing, scanning, and pushing container images</li>
<li>Continuous Delivery (CD) using ArgoCD (GitOps) for seamless deployment to Amazon EKS</li>
<li>Security and code quality checks with SonarQube, Gitleaks, and Trivy</li>
<li>Monitoring and observability with Prometheus and Grafana</li>
</ul>
<p>All components were carefully integrated to simulate a real-world DevOps environment, covering every stage from source code to production deployment.</p>
<p>The project highlights key modern DevOps practices, including:</p>
<ul>
<li><strong>Infrastructure as Code (IaC):</strong> Automating cloud resource provisioning with Terraform.</li>
<li><strong>GitOps:</strong> Managing Kubernetes deployments declaratively with ArgoCD.</li>
<li><strong>CI/CD Automation:</strong> Orchestrating multi-stage pipelines with Jenkins.</li>
<li><strong>Cloud-Native Security:</strong> Ensuring code quality, vulnerability management, and secrets detection.</li>
<li><strong>Observability:</strong> Collecting and visualizing system and application metrics with Prometheus and Grafana.</li>
</ul>
<p>By the end of this project, youâ€™ll gain a detailed understanding of how each tool was implemented and how the entire pipeline works together to deliver a scalable, secure, and automated deployment workflow on AWS.</p>
<details class="info">
<summary>Repos used for this project</summary>
<p></p><div style="text-align: center;">
<a class="md-button" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App" target="_blank">11 Microservices k8s App Source Code <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>
</div><p></p>
<p></p><div style="text-align: center;">
<a class="md-button" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App-ArgoCD" target="_blank">11 Microservices k8s App ArgoCD Manifest <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>
</div><p></p>
<p></p><div style="text-align: center;">
<a class="md-button" href="https://github.com/opeyemitechpro/Terraform-Jenkins-CICD" target="_blank">Deploy a Jenkins Server on AWS using Terraform <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>
</div><p></p>
</details>
<details class="info">
<summary>Repos used for this project</summary>
<p>| <a class="md-button" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App" target="_blank">11 Microservices k8s App Source Code <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a> | Repo containing the application source code |
| <a class="md-button" href="https://github.com/opeyemitechpro/11-Microservices-k8s-App-ArgoCD" target="_blank">11 Microservices k8s App ArgoCD Manifest <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a> | Repo containing the ArgoCD manifest |
| <a class="md-button" href="https://github.com/opeyemitechpro/Terraform-Jenkins-CICD" target="_blank">Deploy a Jenkins Server on AWS using Terraform <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a> | Repo containing the Jenkins server Terraform Script | </p>
</details>
<h2 id="architectural-overview">Architectural Overview<a class="headerlink" href="#architectural-overview" title="Copy this link to reference this section">Â¶</a></h2>
<details class="image">
<summary>Architectural Diagram of the Project</summary>
</details>
<h2 id="project-workflow">Project Workflow<a class="headerlink" href="#project-workflow" title="Copy this link to reference this section">Â¶</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Infrastructure Setup<ul>
<li>Setup Jenkins Using Terraform</li>
<li>Create Kubernetes Cluster on EKS</li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Configure Jenkins<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Install plugins: Go to <code>Dashboard &gt; Manage Jenkins &gt; Manage Plugins</code> and install the following plugins:<ul>
<li>SonarQube Scanner</li>
<li>Docker</li>
<li>Docker pipeline</li>
<li>Docker build step</li>
<li>Cloudbees docker build and publish</li>
<li>Kubernetes</li>
<li>Kubernetes CLI</li>
<li>Email Extension Template</li>
<li>Prometheus Metrics</li>
<li>OWASP Dependency Check Plugin</li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Configure Jenkins Plugins</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Configure SonarQube Server Token</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Setup Jenkins CI/CD Pipelines</li>
</ul>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Install and Setup Grafana and Prometheus Monitoring</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Install ArgoCD for GitOps</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Deploy Application to EKS Using GitOps</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> CleanUp Resources</li>
</ul>
<hr>
<h2 id="infrastructure-setup">Infrastructure Setup<a class="headerlink" href="#infrastructure-setup" title="Copy this link to reference this section">Â¶</a></h2>
<hr>
<h3 id="jenkins-server-setup"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.872 24h-.975a4 4 0 0 1-.07-.197c-.215-.666-.594-1.49-.692-2.154-.146-.984.78-1.039 1.374-1.465.915-.66 1.635-1.025 2.627-1.62.295-.179 1.182-.624 1.281-.829.201-.408-.345-.982-.49-1.3-.225-.507-.345-.937-.376-1.435-.824-.13-1.455-.627-1.844-1.185-.63-.925-1.066-2.635-.525-3.936.045-.103.254-.305.285-.463.06-.308-.105-.72-.12-1.048-.06-1.692.284-3.15 1.425-3.66.463-1.84 2.113-2.453 3.673-3.367.58-.342 1.224-.562 1.89-.807 2.372-.877 6.027-.712 7.994.783.836.633 2.176 1.97 2.656 2.939 1.262 2.555 1.17 6.825.287 9.934-.12.421-.29 1.032-.533 1.533-.168.35-.689 1.05-.625 1.36.064.314 1.19 1.17 1.432 1.395.434.422 1.26.975 1.324 1.5.07.557-.248 1.336-.41 1.875-.217.721-.436 1.441-.654 2.131H2.87zm11.104-3.54a7.7 7.7 0 0 0-2.065-.757c-.87-.164-.78 1.188-.75 1.994.03.643.36 1.316.51 1.744.076.197.09.41.256.449.3.068 1.29-.326 1.575-.479.6-.328 1.064-.844 1.574-1.189.016-.17.016-.34.03-.508a2.65 2.65 0 0 0-1.095-.277c.314-.15.75-.15 1.035-.332l.016-.193c-.496-.03-.69-.254-1.021-.436zm7.454 2.935a18 18 0 0 0 .465-1.752c.06-.287.215-.918.178-1.176-.059-.459-.684-.799-1.004-1.086-.584-.525-.95-.975-1.56-1.469-.249.375-.78.615-.983.914 1.447-.689 1.71 2.625 1.141 3.69.09.329.391.45.514.735l-.086.166h1.29c.013 0 .03 0 .044.014zm-6.634-.012c-.05-.074-.1-.135-.15-.209l-.301.195h.45zm2.77 0c.008-.209.018-.404.03-.598-.53.029-.825-.48-1.196-.527-.324-.045-.6.361-1.02.195-.095.105-.183.227-.284.316q.23.27.424.584h.815a.3.3 0 0 1 .3-.285c.165 0 .284.121.284.27h.66zm2.116 0c-.314-.479-.947-.898-1.68-.555l-.03.541h1.71zm-8.51 0-.104-.344c-.225-.72-.36-1.26-.405-1.68-.914-.436-1.875-.87-2.654-1.426-.15-.105-1.109-1.35-1.23-1.305-1.739.676-3.359 1.86-4.814 2.984.256.557.48 1.141.69 1.74h8.505zm8.265-2.113c-.029-.512-.164-1.56-.48-1.74-.66-.39-1.846.78-2.34.943.045.15.135.271.15.48.285-.074.645-.029.898.092-.299.03-.629.03-.824.164-.074.195.016.48-.029.764.69.197 1.5.303 2.385.332.164-.227.225-.645.211-1.082zm-4.08-.36c-.044.375.046.51.12.943 1.26.391 1.034-1.74-.135-.959zM8.76 19.5c-.45.457 1.27 1.082 1.814 1.115 0-.29.165-.564.135-.77-.65-.118-1.502-.042-1.945-.347zm5.565.215c0 .043-.061.03-.068.064.58.451 1.014.545 1.802.51.354-.262.67-.563 1.043-.807-.855.074-1.931.607-2.774.23zm3.42-17.726c-1.606-.906-4.35-1.591-6.076-.731-1.38.692-3.27 1.84-3.899 3.292.6 1.402-.166 2.686-.226 4.109-.018.757.36 1.42.391 2.242-.2.338-.825.38-1.26.356-.146-.729-.4-1.549-1.155-1.63-1.064-.116-1.845.764-1.89 1.683-.06 1.08.833 2.864 2.085 2.745.488-.046.608-.54 1.139-.54.285.57-.445.75-.523 1.154-.016.105.06.511.104.705.233.944.744 2.16 1.245 2.88.635.9 1.884 1.051 3.229 1.141.24-.525 1.125-.48 1.706-.346-.691-.27-1.336-.945-1.875-1.529-.615-.676-1.23-1.41-1.261-2.28 1.155 1.604 2.1 3 4.2 3.704 1.59.525 3.45-.254 4.664-1.109.51-.359.811-.93 1.17-1.439 1.35-1.936 1.98-4.71 1.846-7.394-.06-1.111-.06-2.221-.436-2.955-.389-.781-1.695-1.471-2.475-.781-.15-.764.63-1.23 1.545-.96-.66-.854-1.336-1.858-2.266-2.384zM13.58 14.896c.615 1.544 2.724 1.363 4.505 1.323-.084.194-.256.435-.465.515-.57.232-2.145.408-2.937-.012-.506-.27-.824-.873-1.102-1.227-.137-.172-.795-.608-.012-.609zm.164-.87c.893.464 2.52.517 3.731.48.066.267.066.593.068.913-1.55.08-3.386-.304-3.794-1.395h-.005zm6.675-.586c-.473.9-1.145 1.897-2.539 1.928-.023-.284-.045-.735 0-.904 1.064-.103 1.727-.646 2.543-1.017zm-.649-.667c-1.02.66-2.154 1.375-3.824 1.21-.351-.31-.485-1-.14-1.458.181.313.06.885.57.97.944.165 2.038-.579 2.73-.84.42-.713-.046-.976-.42-1.433-.782-.93-1.83-2.1-1.802-3.51.314-.224.346.346.391.45.404.96 1.424 2.175 2.174 3 .18.21.48.39.51.524.092.39-.254.854-.209 1.11zm-13.439-.675c-.314-.184-.393-.99-.768-1.01-.535-.03-.438 1.05-.436 1.68-.37-.33-.435-1.365-.164-1.89-.308-.15-.445.164-.618.284.22-1.59 2.34-.734 1.99.96zM4.713 5.995c-.685.756-.54 2.174-.459 3.188 1.244-.785 2.898.06 2.883 1.394.595-.016.223-.744.115-1.215-.353-1.528.592-3.187.041-4.59-1.064.084-1.939.52-2.578 1.215zm9.12 1.113c.307.562.404 1.148.84 1.57.195.19.574.424.387.95-.045.121-.365.391-.551.45-.674.195-2.254.03-1.721-.81.563.015 1.314.36 1.732-.045-.314-.524-.885-1.53-.674-2.13zm6.198-.013h.068c.33.668.6 1.375 1.004 1.965-.27.628-2.053 1.19-2.023.057.39-.17 1.05-.035 1.395-.25-.193-.556-.48-1.006-.434-1.771zm-6.927-1.617c-1.422-.33-2.131.592-2.56 1.553-.384-.094-.231-.615-.135-.883.255-.701 1.28-1.633 2.119-1.506.359.057.848.386.576.834zM9.642 1.593c-1.56.44-3.56 1.574-4.2 2.974.495-.07.84-.321 1.33-.351.186-.016.428.074.641.015.424-.104.78-1.065 1.102-1.41.31-.345.685-.496.94-.81.167-.09.409-.074.42-.33-.073-.075-.15-.135-.232-.105z"></path></svg></span> Jenkins Server Setup<a class="headerlink" href="#jenkins-server-setup" title="Copy this link to reference this section">Â¶</a></h3>
<p>For the purpose of this project, we will be creating our Jenkins Server on an ec2 instance using Terraform as our IaC tool. The Jenkins server will also serve as our base server from where we will manage other infrastructures like  the EKS cluster.</p>
<p>I have included the link to my Github repo containing the Jenkins server Terraform script below.  </p>
<p><a class="md-button" href="https://github.com/opeyemitechpro/Terraform-Jenkins-CICD" target="_blank">Deploy a Jenkins Server on AWS using Terraform <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a></p>
<details class="tip">
<summary>Pre-requisites for the terraform script</summary>
<p>You will need the following pre-requisites to run the terraform script on your local machine:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> An AWS account <em>(<a href="https://aws.amazon.com/free/" target="_blank">Get one here <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Terraform CLI installed on your local machine <em>(<a href="https://developer.hashicorp.com/terraform/install" target="_blank">How to Install Terraform <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Your AWS access key ID and secret access key <em>(learn how to get your AWS access keys <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-authentication-user.html" target="_blank">here <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>)</em></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AWS CLI installed and configured with your AWS access key ID and Secret access keys <em>(learn more about AWS CLI <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-quickstart.html" target="_blank">here <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a>)</em> </li>
</ul>
</details>
<details class="info">
<summary>What does this terraform script do?</summary>
<p>The Terrafom script will do the following:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Provision an ec2 instance of type <code>t2.large</code> (You can easily set a different instance type in the <code>terraform.tfvars</code> file)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Provision the ec2 instance in the default VPC</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Configure the security group to expose all the required ports for this project. The required ports are: <code>22, 25, 80, 443, 465, 8080, 9000 and 9100</code>. (The ports and their descriptions are listed in the <code>terraform.tfvars</code> file) </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Create an AWS Key-Pair file and download the file unto your terraform working directory on your local machine <em>(the folder from where you initiated the terraform apply command)</em></li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Using the included Bash script <em>(in the user_data field)</em>, it will bootstrap and install the following:</p>
<ul>
<li>Ubuntu 24.04 (the latest version)</li>
<li>Jenkins</li>
<li>Docker</li>
<li>SonarQube Docker Container</li>
<li>eksctl</li>
<li>aws CLI</li>
<li>kubectl</li>
<li>node_exporter</li>
<li>trivy scanner</li>
<li>gitleaks</li>
</ul>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Output the <code>Public IP address</code> and the <code>SSH connection string</code> for the newly provisioned Jenkins server  </p>
</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> The terraform script will also be used to <code>destroy</code> the server and its resources during the clean-up stage of this project.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Important Security Note</p>
<p>Since this is just a demo project, the ports are deliberately exposed and may be accessible over the internet for the duration of the project demonstration. <mark>This is not a good security practice in production environments and should be avoided <img alt="ðŸ˜„" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f604.svg" title=":smile:"></mark></p>
</div>
</details>
<p>Clone the Repo on your local machine and apply the terraform config:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>
</code></pre></div></td></tr></tbody></table></div>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>terraform<span class="w"> </span>init
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>terraform<span class="w"> </span>apply
</code></pre></div></td></tr></tbody></table></div>
<p>Ater the terraform script executes, it displays the <code>Public IP Address</code> and the <code>SSH Connection string</code> of the Jenkins Server in the format below:</p>
<p><code>ssh -i &lt;Key-pair_filename&gt; ubuntu@&lt;Jenkins_Master_public_ip&gt;</code></p>
<details class="image">
<summary>Image - Output of Terraform apply command</summary>
<figure>
<p></p><figure markdown="1">
<a href="https://youtube.com/@opeyemitechpro" target="_blank"><img alt="Output of terraform apply command" src="../../assets/images/Video-Coming-Soon-PlaceHolder.png" title="DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App on AWS EKS using Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus"></a>
<!-- <figcaption>Create a Free Self-Hosted VPN Server on AWS using Terraform and OpenVPN</figcaption>  -->
</figure><p></p>
<figcaption>
<p>DevSecOps Project - End-to-end Deployment and Monitoring of 11-Microservice e-Commerce App to AWS EKS with Jenkins, ArgoCD, Terraform, Grafana &amp; Prometheus</p>
</figcaption>
</figure>
</details>
<p>Use the <code>Public IP address</code> to access the Jenkins server initial setup UI from your browser on port <code>8080</code>.</p>
<p><code>&lt;server_public_ip&gt;:8080</code></p>
<p>Also, open the terraform working folder from a terminal and use the <code>SSH connection string</code> to access the jenkins server.</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>ssh<span class="w"> </span>-i<span class="w"> </span><span class="sb">`</span>key_pair_filename<span class="sb">`</span><span class="w"> </span>ubuntu@<span class="sb">`</span>&lt;server_public_ip&gt;<span class="sb">`</span>
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Replace the <code>key_pair_filename</code> and the <code>server_public_ip</code> as appropriate</p>
</div>
<h4 id="login-to-jenkins-server">Login to Jenkins Server<a class="headerlink" href="#login-to-jenkins-server" title="Copy this link to reference this section">Â¶</a></h4>
<p>Go back to the Jenkins server terminal to copy the initial Admin password</p>
<p>From the jenkins server terminal, enter the command and copy the password displayed
</p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/var/lib/jenkins/secrets/initialAdminPassword
</code></pre></div></td></tr></tbody></table></div><p></p>
<p>From the Jenkins server initial setup UI page in your browser, enter the jenkins initial admin password you copied to proceed with jenkins server setup.</p>
<p>Install the <code>Suggested Plugins</code> and login to the Jenkins Server as Admin</p>
<p>Install suggested Jenkins Plugins and login as admin</p>
<details class="image">
<summary>Image - Install Sugested Jenkins Plugins</summary>
</details>
<p>Optionally, Setup a new admin password - <code>Jenkins &gt; Admin &gt; Security</code></p>
<h4 id="install-additional-plugins">Install Additional Plugins<a class="headerlink" href="#install-additional-plugins" title="Copy this link to reference this section">Â¶</a></h4>
<p>Go to <code>Manage Jenkins &gt; Plugins &gt; Available Plugins</code>, search for and install the following jenkins plugins from the plugin page then restart Jenkins:</p>
<ul>
<li>SonarQube Scanner <em>(Scans your code and communicates with the SonarQube server)</em></li>
<li>Docker <em>(Enables Jenkins to use docker commands)</em></li>
<li>Docker pipeline <em>(Enables Jenkins to use docker commands in pipeline jobs)</em></li>
<li>Docker build step </li>
<li>Cloudbees docker build and publish</li>
<li>Email Extension Template <em>(Used to send job email notifications)</em></li>
<li>Prometheus Metrics <em>(Exposes Jenkins internal metrics so we can scrape and display them through Grafana dashboards)</em></li>
</ul>
<details class="image">
<summary>Image - Install additional Jenkins plugins</summary>
</details>
<hr>
<h4 id="add-credentials">Add Credentials<a class="headerlink" href="#add-credentials" title="Copy this link to reference this section">Â¶</a></h4>
<p>Go to <code>Manage Jenkins &gt; Credentials &gt; (Global) &gt; Add Credentials</code> and add the following credentials:</p>
<ul class="task-list">
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Add SonarQube Credentials</p>
<ul>
<li>Choose Secret Text as the kind</li>
<li>Set the ID and description as <code>sonar-token</code></li>
<li>Copy and paste the token you copied from the SonarQube server <a href="#configure-sonarqube-server"><em>(refer to the SonarQube server configuration section)</em></a></li>
<li>Click Add</li>
</ul>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Add Docker Hub Credentials:</p>
<ul>
<li>Choose Username with password as the kind.</li>
<li>Set the ID and description as <code>my-docker-cred</code></li>
<li>Enter your Docker Hub username and password.</li>
<li>Click Add.</li>
</ul>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Add GitHub Credentials:</p>
<ul>
<li>Choose Secret text as the kind.</li>
<li>Set the ID and description as <code>github-cred</code></li>
<li>Enter your GitHub Personal Access Token as the secret.</li>
<li>Click Add.</li>
</ul>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Add e-mail Credentials:</p>
<ul>
<li>Choose Username and Password as the kind</li>
<li>Set ID and description as <code>email-ID</code></li>
<li>Enter your email username</li>
<li>Enter the <code>App password</code> generated from Gmail as the password <em>(<img alt="ðŸ”´" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f534.svg" title=":red_circle:"> Do not use your real Gmail password here <img alt="ðŸ”´" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f534.svg" title=":red_circle:">)</em></li>
<li>Click Add.</li>
</ul>
</li>
</ul>
<details class="image">
<summary>Image - Add Credentials</summary>
</details>
<hr>
<h4 id="configure-plugins">Configure Plugins<a class="headerlink" href="#configure-plugins" title="Copy this link to reference this section">Â¶</a></h4>
<h3 id="configure-sonarqube-server"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0a.774.774 0 0 0-.775.775c0 .43.346.776.775.776 5.762 0 10.45 4.687 10.45 10.449 0 .43.345.775.775.775A.774.774 0 0 0 24 12c0-6.616-5.384-12-12-12m0 3.932a.774.774 0 0 0-.775.775c0 .43.346.775.775.775A6.524 6.524 0 0 1 18.518 12c0 .43.346.775.775.775s.775-.346.775-.775c0-4.448-3.62-8.068-8.068-8.068m0 3.925a.774.774 0 0 0-.775.776c0 .43.346.775.775.775A2.597 2.597 0 0 1 14.592 12c0 .43.346.775.775.775s.776-.346.776-.775A4.145 4.145 0 0 0 12 7.857M.775 11.225A.774.774 0 0 0 0 12c0 6.616 5.384 12 12 12 .43 0 .775-.346.775-.775a.774.774 0 0 0-.775-.776C6.238 22.45 1.55 17.762 1.55 12a.774.774 0 0 0-.775-.775m3.932 0a.774.774 0 0 0-.775.775c0 4.448 3.62 8.068 8.068 8.068.43 0 .775-.346.775-.775a.774.774 0 0 0-.775-.775A6.524 6.524 0 0 1 5.482 12a.774.774 0 0 0-.775-.775m3.926 0a.774.774 0 0 0-.776.775A4.145 4.145 0 0 0 12 16.143c.43 0 .775-.347.775-.776a.774.774 0 0 0-.775-.775A2.597 2.597 0 0 1 9.408 12a.774.774 0 0 0-.775-.775"></path></svg></span> Configure SonarQube Server<a class="headerlink" href="#configure-sonarqube-server" title="Copy this link to reference this section">Â¶</a></h3>
<p>Next, let us setup our SonarQube server.  For this project, our SonarQube server is installed as a docker container running on the same server as our Jenkins server.</p>
<p>From your browser, login to your <strong>SonarQube server</strong> using the  server ip and port <code>9000</code> </p>
<p>Server URL: <code>&lt;sonar_server_ip&gt;:9000</code></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since our SonarQube server is running as a docker container on port <code>9000</code> on the same machine as the Jenkins server, use <code>&lt;jenkins_server_ip&gt;:9000</code> as the SonarQube Server URL.</p>
</div>
<p>Create a User token by going to <code>Administration &gt; Security &gt; Users</code> and save it somewhere for later</p>
<p>This token will be used to authenticate Jenkins to access the SonarQube server.</p>
<details class="image">
<summary>Image - Generate SonarQube token on the SonarQube server</summary>
</details>
<hr>
<p>Then, on your Jenkins server, go to <code>Manage Jenkins &gt; Tools</code> and configure each of the plugin tools as explained below: </p>
<p><strong>SonarQube Scanner Installations</strong></p>
<p>Go to <code>Manage Jenkins</code> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg></span> <code>Tools</code> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg></span> <code>SonarQube Scanner installations</code> and add a new SonarQube Scanner installation as below:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> SonarQube Scanner: <code>sonar-scanner</code> (Or use a suitable name)</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This name will be used later in our CI pipeline to reference the sonar tool installation so ensure you choose a unique name.</p>
</div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Leave the default SonarQube version as it is</li>
</ul>
<p>Set the SonarQube server URL under <code>Manage Jenkins &gt; System &gt; SonarQube Installations</code></p>
<ul>
<li>
<p>Server Name: <code>sonar</code> <em>(This name will be used later in the job pipeline)</em></p>
</li>
<li>
<p>Server URL: <code>http://&lt;sonar_server_ip&gt;:9000</code> <em>(URL of the SonarQube server on port 9000)</em></p>
</li>
<li>
<p>Server authentication token: Select the <code>sonar token ID</code> saved earlier in the credentials tab</p>
</li>
<li>
<p><code>Apply</code> and <code>Save</code></p>
</li>
</ul>
<details class="image">
<summary>Image - SonarQube Scanner Tool Installation</summary>
</details>
<hr>
<p><strong>Docker</strong></p>
<p>On your Jenkins server, go to <code>Manage Jenkins &gt; Tools &gt; Docker installations</code> and add a new docker installation</p>
<p>Docker Name: <code>docker</code></p>
<p>Set to <code>Install Automatically from docker.com</code></p>
<p>Click <code>Apply</code> and <code>Save</code></p>
<hr>
<p>Go to <code>Manage Jenkins &gt; System</code> and configure the following settings:</p>
<p>System Admin e-mail address: <code>Jenkins Admin &lt;your-email@email.com&gt;</code> 
<em>(Enter the Jenkins Admin email here, this will appear in the email sender field of your inbox)</em></p>
<hr>
<p><strong>SonarQube servers</strong></p>
<p>Name: <code>sonar</code> <em>(This name will be used later in the pipeline)</em></p>
<p>Server URL: <code>&lt;sonar_server_ip:9000&gt;</code> <em>(This should be the ip address of the SonarQube server on port <code>9000</code> which in our case, is also the same as our Jenkins server ip address)</em></p>
<p>Server Authentication token: <code>sonar-token</code></p>
<hr>
<p><strong>Declarative Pipeline (Docker)</strong></p>
<p>Docker Label: <code>docker</code></p>
<hr>
<p><strong>Prometheus</strong></p>
<p>No further configuration needed</p>
<p>By default, the Prometheus metrics will be scrapped from <code>http://&lt;jenkins_server_ip:8080&gt;/prometheus</code></p>
<hr>
<p><strong>Jenkins Email Notifications</strong></p>
<p>Goto <code>Dashboard &gt; Manage Jenkins &gt; System</code> and configure both the <strong>"Extended E-mail Notification"</strong> and the <strong>"E-mail Notification"</strong> sections as below:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> SMTP Server Name: <code>smtp.gmail.com</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> SMTP Port:  <code>465</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Username:    <code>user_email_id@gmail.com</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Password: <code>app_password</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Use SSL: <code>checked</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> System Admin e-mail address: <code>&lt;Admin_Name&gt; &lt;user_email_id@gmail.com&gt;</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Default Content Type: <code>HTML</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Test email delivery</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>The settings above apply to Gmail address configuration. Confirm SMTP settings from your email service provider if different from Gmail.</li>
<li>Copy <code>App password</code> from your Gmail account security settings and use that as the password in the above configuration.</li>
</ul>
</div>
<hr>
<p><strong>Default Content Type</strong></p>
<p>Set to <code>HTML (text/html)</code></p>
<hr>
<p>Click <code>Save</code> to close the configurations page</p>
<hr>
<h3 id="setting-up-the-jenkins-pipelines"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.872 24h-.975a4 4 0 0 1-.07-.197c-.215-.666-.594-1.49-.692-2.154-.146-.984.78-1.039 1.374-1.465.915-.66 1.635-1.025 2.627-1.62.295-.179 1.182-.624 1.281-.829.201-.408-.345-.982-.49-1.3-.225-.507-.345-.937-.376-1.435-.824-.13-1.455-.627-1.844-1.185-.63-.925-1.066-2.635-.525-3.936.045-.103.254-.305.285-.463.06-.308-.105-.72-.12-1.048-.06-1.692.284-3.15 1.425-3.66.463-1.84 2.113-2.453 3.673-3.367.58-.342 1.224-.562 1.89-.807 2.372-.877 6.027-.712 7.994.783.836.633 2.176 1.97 2.656 2.939 1.262 2.555 1.17 6.825.287 9.934-.12.421-.29 1.032-.533 1.533-.168.35-.689 1.05-.625 1.36.064.314 1.19 1.17 1.432 1.395.434.422 1.26.975 1.324 1.5.07.557-.248 1.336-.41 1.875-.217.721-.436 1.441-.654 2.131H2.87zm11.104-3.54a7.7 7.7 0 0 0-2.065-.757c-.87-.164-.78 1.188-.75 1.994.03.643.36 1.316.51 1.744.076.197.09.41.256.449.3.068 1.29-.326 1.575-.479.6-.328 1.064-.844 1.574-1.189.016-.17.016-.34.03-.508a2.65 2.65 0 0 0-1.095-.277c.314-.15.75-.15 1.035-.332l.016-.193c-.496-.03-.69-.254-1.021-.436zm7.454 2.935a18 18 0 0 0 .465-1.752c.06-.287.215-.918.178-1.176-.059-.459-.684-.799-1.004-1.086-.584-.525-.95-.975-1.56-1.469-.249.375-.78.615-.983.914 1.447-.689 1.71 2.625 1.141 3.69.09.329.391.45.514.735l-.086.166h1.29c.013 0 .03 0 .044.014zm-6.634-.012c-.05-.074-.1-.135-.15-.209l-.301.195h.45zm2.77 0c.008-.209.018-.404.03-.598-.53.029-.825-.48-1.196-.527-.324-.045-.6.361-1.02.195-.095.105-.183.227-.284.316q.23.27.424.584h.815a.3.3 0 0 1 .3-.285c.165 0 .284.121.284.27h.66zm2.116 0c-.314-.479-.947-.898-1.68-.555l-.03.541h1.71zm-8.51 0-.104-.344c-.225-.72-.36-1.26-.405-1.68-.914-.436-1.875-.87-2.654-1.426-.15-.105-1.109-1.35-1.23-1.305-1.739.676-3.359 1.86-4.814 2.984.256.557.48 1.141.69 1.74h8.505zm8.265-2.113c-.029-.512-.164-1.56-.48-1.74-.66-.39-1.846.78-2.34.943.045.15.135.271.15.48.285-.074.645-.029.898.092-.299.03-.629.03-.824.164-.074.195.016.48-.029.764.69.197 1.5.303 2.385.332.164-.227.225-.645.211-1.082zm-4.08-.36c-.044.375.046.51.12.943 1.26.391 1.034-1.74-.135-.959zM8.76 19.5c-.45.457 1.27 1.082 1.814 1.115 0-.29.165-.564.135-.77-.65-.118-1.502-.042-1.945-.347zm5.565.215c0 .043-.061.03-.068.064.58.451 1.014.545 1.802.51.354-.262.67-.563 1.043-.807-.855.074-1.931.607-2.774.23zm3.42-17.726c-1.606-.906-4.35-1.591-6.076-.731-1.38.692-3.27 1.84-3.899 3.292.6 1.402-.166 2.686-.226 4.109-.018.757.36 1.42.391 2.242-.2.338-.825.38-1.26.356-.146-.729-.4-1.549-1.155-1.63-1.064-.116-1.845.764-1.89 1.683-.06 1.08.833 2.864 2.085 2.745.488-.046.608-.54 1.139-.54.285.57-.445.75-.523 1.154-.016.105.06.511.104.705.233.944.744 2.16 1.245 2.88.635.9 1.884 1.051 3.229 1.141.24-.525 1.125-.48 1.706-.346-.691-.27-1.336-.945-1.875-1.529-.615-.676-1.23-1.41-1.261-2.28 1.155 1.604 2.1 3 4.2 3.704 1.59.525 3.45-.254 4.664-1.109.51-.359.811-.93 1.17-1.439 1.35-1.936 1.98-4.71 1.846-7.394-.06-1.111-.06-2.221-.436-2.955-.389-.781-1.695-1.471-2.475-.781-.15-.764.63-1.23 1.545-.96-.66-.854-1.336-1.858-2.266-2.384zM13.58 14.896c.615 1.544 2.724 1.363 4.505 1.323-.084.194-.256.435-.465.515-.57.232-2.145.408-2.937-.012-.506-.27-.824-.873-1.102-1.227-.137-.172-.795-.608-.012-.609zm.164-.87c.893.464 2.52.517 3.731.48.066.267.066.593.068.913-1.55.08-3.386-.304-3.794-1.395h-.005zm6.675-.586c-.473.9-1.145 1.897-2.539 1.928-.023-.284-.045-.735 0-.904 1.064-.103 1.727-.646 2.543-1.017zm-.649-.667c-1.02.66-2.154 1.375-3.824 1.21-.351-.31-.485-1-.14-1.458.181.313.06.885.57.97.944.165 2.038-.579 2.73-.84.42-.713-.046-.976-.42-1.433-.782-.93-1.83-2.1-1.802-3.51.314-.224.346.346.391.45.404.96 1.424 2.175 2.174 3 .18.21.48.39.51.524.092.39-.254.854-.209 1.11zm-13.439-.675c-.314-.184-.393-.99-.768-1.01-.535-.03-.438 1.05-.436 1.68-.37-.33-.435-1.365-.164-1.89-.308-.15-.445.164-.618.284.22-1.59 2.34-.734 1.99.96zM4.713 5.995c-.685.756-.54 2.174-.459 3.188 1.244-.785 2.898.06 2.883 1.394.595-.016.223-.744.115-1.215-.353-1.528.592-3.187.041-4.59-1.064.084-1.939.52-2.578 1.215zm9.12 1.113c.307.562.404 1.148.84 1.57.195.19.574.424.387.95-.045.121-.365.391-.551.45-.674.195-2.254.03-1.721-.81.563.015 1.314.36 1.732-.045-.314-.524-.885-1.53-.674-2.13zm6.198-.013h.068c.33.668.6 1.375 1.004 1.965-.27.628-2.053 1.19-2.023.057.39-.17 1.05-.035 1.395-.25-.193-.556-.48-1.006-.434-1.771zm-6.927-1.617c-1.422-.33-2.131.592-2.56 1.553-.384-.094-.231-.615-.135-.883.255-.701 1.28-1.633 2.119-1.506.359.057.848.386.576.834zM9.642 1.593c-1.56.44-3.56 1.574-4.2 2.974.495-.07.84-.321 1.33-.351.186-.016.428.074.641.015.424-.104.78-1.065 1.102-1.41.31-.345.685-.496.94-.81.167-.09.409-.074.42-.33-.073-.075-.15-.135-.232-.105z"></path></svg></span> <strong>Setting Up the Jenkins Pipelines</strong><a class="headerlink" href="#setting-up-the-jenkins-pipelines" title="Copy this link to reference this section">Â¶</a></h3>
<p>For this project we will set up 2 separate pipelines.</p>
<ol>
<li><strong>Continuous Integration (CI) Pipeline</strong> - This pipeline will be responsible for building, testing, scanning and pushing the docker images to Docker Hub</li>
<li><strong>Continuous Delivery (CD) Pipeline</strong> - This pipeline will be responsible for updating the k8s manifest file in the GitHub repo with the new docker image tags pushed by the CI pipeline</li>
</ol>
<h4 id="continuous-integration-ci-pipeline">Continuous Integration (CI) Pipeline<a class="headerlink" href="#continuous-integration-ci-pipeline" title="Copy this link to reference this section">Â¶</a></h4>
<ul>
<li>
<p>Go to <code>Jenkins &gt; Create a Job</code> and give the new job item a name</p>
</li>
<li>
<p>Select <code>Pipeline</code> and click <code>OK</code></p>
</li>
</ul>
<details class="image">
<summary>Image - Create a New Jenkins Pipeline Job</summary>
</details>
<p>Go to <code>the_job_name &gt; Configuration &gt; Pipeline</code> and select <code>Pipeline script</code></p>
<p>Copy and paste the CI pipeline script in the annotation box below into the Jenkins pipeline script template box.</p>
<p>Click <code>Save</code></p>
<p>Below is the Jenkins pipeline script for the <code>Continous Integration (CI)</code>.</p>
<p>I have include details on how this pipeline script works in the annotation box below.</p>
<details class="info">
<summary>Jenkins Continuous Integration (CI) Pipeline script for the Jenkins CI job</summary>
<p>The Jenkins CI pipeline is below:</p>
<details class="code-file">
<summary>Jenkins CI Pipeline Script - Click here</summary>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">  1</a></span>
<span class="normal"><a href="#__codelineno-4-2">  2</a></span>
<span class="normal"><a href="#__codelineno-4-3">  3</a></span>
<span class="normal"><a href="#__codelineno-4-4">  4</a></span>
<span class="normal"><a href="#__codelineno-4-5">  5</a></span>
<span class="normal"><a href="#__codelineno-4-6">  6</a></span>
<span class="normal"><a href="#__codelineno-4-7">  7</a></span>
<span class="normal"><a href="#__codelineno-4-8">  8</a></span>
<span class="normal"><a href="#__codelineno-4-9">  9</a></span>
<span class="normal"><a href="#__codelineno-4-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-4-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-4-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-4-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-4-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-4-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-4-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-4-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-4-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-4-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-4-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-4-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-4-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-4-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-4-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-4-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-4-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-4-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-4-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-4-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-4-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-4-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-4-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-4-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-4-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-4-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-4-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-4-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-4-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-4-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-4-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-4-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-4-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-4-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-4-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-4-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-4-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-4-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-4-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-4-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-4-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-4-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-4-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-4-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-4-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-4-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-4-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-4-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-4-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-4-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-4-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-4-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-4-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-4-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-4-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-4-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-4-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-4-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-4-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-4-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-4-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-4-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-4-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-4-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-4-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-4-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-4-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-4-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-4-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-4-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-4-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-4-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-4-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-4-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-4-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-4-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-4-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-4-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-4-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-4-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-4-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-4-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-4-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-4-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-4-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-4-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-4-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-4-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-4-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-4-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-4-100">100</a></span>
<span class="normal"><a href="#__codelineno-4-101">101</a></span>
<span class="normal"><a href="#__codelineno-4-102">102</a></span>
<span class="normal"><a href="#__codelineno-4-103">103</a></span>
<span class="normal"><a href="#__codelineno-4-104">104</a></span>
<span class="normal"><a href="#__codelineno-4-105">105</a></span>
<span class="normal"><a href="#__codelineno-4-106">106</a></span>
<span class="normal"><a href="#__codelineno-4-107">107</a></span>
<span class="normal"><a href="#__codelineno-4-108">108</a></span>
<span class="normal"><a href="#__codelineno-4-109">109</a></span>
<span class="normal"><a href="#__codelineno-4-110">110</a></span>
<span class="normal"><a href="#__codelineno-4-111">111</a></span>
<span class="normal"><a href="#__codelineno-4-112">112</a></span>
<span class="normal"><a href="#__codelineno-4-113">113</a></span>
<span class="normal"><a href="#__codelineno-4-114">114</a></span>
<span class="normal"><a href="#__codelineno-4-115">115</a></span>
<span class="normal"><a href="#__codelineno-4-116">116</a></span>
<span class="normal"><a href="#__codelineno-4-117">117</a></span>
<span class="normal"><a href="#__codelineno-4-118">118</a></span>
<span class="normal"><a href="#__codelineno-4-119">119</a></span>
<span class="normal"><a href="#__codelineno-4-120">120</a></span>
<span class="normal"><a href="#__codelineno-4-121">121</a></span>
<span class="normal"><a href="#__codelineno-4-122">122</a></span>
<span class="normal"><a href="#__codelineno-4-123">123</a></span>
<span class="normal"><a href="#__codelineno-4-124">124</a></span>
<span class="normal"><a href="#__codelineno-4-125">125</a></span>
<span class="normal"><a href="#__codelineno-4-126">126</a></span>
<span class="normal"><a href="#__codelineno-4-127">127</a></span>
<span class="normal"><a href="#__codelineno-4-128">128</a></span>
<span class="normal"><a href="#__codelineno-4-129">129</a></span>
<span class="normal"><a href="#__codelineno-4-130">130</a></span>
<span class="normal"><a href="#__codelineno-4-131">131</a></span>
<span class="normal"><a href="#__codelineno-4-132">132</a></span>
<span class="normal"><a href="#__codelineno-4-133">133</a></span>
<span class="normal"><a href="#__codelineno-4-134">134</a></span>
<span class="normal"><a href="#__codelineno-4-135">135</a></span>
<span class="normal"><a href="#__codelineno-4-136">136</a></span>
<span class="normal"><a href="#__codelineno-4-137">137</a></span>
<span class="normal"><a href="#__codelineno-4-138">138</a></span>
<span class="normal"><a href="#__codelineno-4-139">139</a></span>
<span class="normal"><a href="#__codelineno-4-140">140</a></span>
<span class="normal"><a href="#__codelineno-4-141">141</a></span>
<span class="normal"><a href="#__codelineno-4-142">142</a></span>
<span class="normal"><a href="#__codelineno-4-143">143</a></span>
<span class="normal"><a href="#__codelineno-4-144">144</a></span>
<span class="normal"><a href="#__codelineno-4-145">145</a></span>
<span class="normal"><a href="#__codelineno-4-146">146</a></span>
<span class="normal"><a href="#__codelineno-4-147">147</a></span>
<span class="normal"><a href="#__codelineno-4-148">148</a></span>
<span class="normal"><a href="#__codelineno-4-149">149</a></span>
<span class="normal"><a href="#__codelineno-4-150">150</a></span>
<span class="normal"><a href="#__codelineno-4-151">151</a></span>
<span class="normal"><a href="#__codelineno-4-152">152</a></span>
<span class="normal"><a href="#__codelineno-4-153">153</a></span>
<span class="normal"><a href="#__codelineno-4-154">154</a></span>
<span class="normal"><a href="#__codelineno-4-155">155</a></span>
<span class="normal"><a href="#__codelineno-4-156">156</a></span>
<span class="normal"><a href="#__codelineno-4-157">157</a></span>
<span class="normal"><a href="#__codelineno-4-158">158</a></span>
<span class="normal"><a href="#__codelineno-4-159">159</a></span>
<span class="normal"><a href="#__codelineno-4-160">160</a></span>
<span class="normal"><a href="#__codelineno-4-161">161</a></span>
<span class="normal"><a href="#__codelineno-4-162">162</a></span>
<span class="normal"><a href="#__codelineno-4-163">163</a></span>
<span class="normal"><a href="#__codelineno-4-164">164</a></span>
<span class="normal"><a href="#__codelineno-4-165">165</a></span>
<span class="normal"><a href="#__codelineno-4-166">166</a></span>
<span class="normal"><a href="#__codelineno-4-167">167</a></span>
<span class="normal"><a href="#__codelineno-4-168">168</a></span>
<span class="normal"><a href="#__codelineno-4-169">169</a></span>
<span class="normal"><a href="#__codelineno-4-170">170</a></span>
<span class="normal"><a href="#__codelineno-4-171">171</a></span>
<span class="normal"><a href="#__codelineno-4-172">172</a></span>
<span class="normal"><a href="#__codelineno-4-173">173</a></span>
<span class="normal"><a href="#__codelineno-4-174">174</a></span>
<span class="normal"><a href="#__codelineno-4-175">175</a></span>
<span class="normal"><a href="#__codelineno-4-176">176</a></span>
<span class="normal"><a href="#__codelineno-4-177">177</a></span>
<span class="normal"><a href="#__codelineno-4-178">178</a></span>
<span class="normal"><a href="#__codelineno-4-179">179</a></span>
<span class="normal"><a href="#__codelineno-4-180">180</a></span>
<span class="normal"><a href="#__codelineno-4-181">181</a></span>
<span class="normal"><a href="#__codelineno-4-182">182</a></span>
<span class="normal"><a href="#__codelineno-4-183">183</a></span>
<span class="normal"><a href="#__codelineno-4-184">184</a></span>
<span class="normal"><a href="#__codelineno-4-185">185</a></span>
<span class="normal"><a href="#__codelineno-4-186">186</a></span>
<span class="normal"><a href="#__codelineno-4-187">187</a></span>
<span class="normal"><a href="#__codelineno-4-188">188</a></span>
<span class="normal"><a href="#__codelineno-4-189">189</a></span>
<span class="normal"><a href="#__codelineno-4-190">190</a></span>
<span class="normal"><a href="#__codelineno-4-191">191</a></span>
<span class="normal"><a href="#__codelineno-4-192">192</a></span>
<span class="normal"><a href="#__codelineno-4-193">193</a></span>
<span class="normal"><a href="#__codelineno-4-194">194</a></span>
<span class="normal"><a href="#__codelineno-4-195">195</a></span>
<span class="normal"><a href="#__codelineno-4-196">196</a></span>
<span class="normal"><a href="#__codelineno-4-197">197</a></span>
<span class="normal"><a href="#__codelineno-4-198">198</a></span>
<span class="normal"><a href="#__codelineno-4-199">199</a></span>
<span class="normal"><a href="#__codelineno-4-200">200</a></span>
<span class="normal"><a href="#__codelineno-4-201">201</a></span>
<span class="normal"><a href="#__codelineno-4-202">202</a></span>
<span class="normal"><a href="#__codelineno-4-203">203</a></span>
<span class="normal"><a href="#__codelineno-4-204">204</a></span>
<span class="normal"><a href="#__codelineno-4-205">205</a></span>
<span class="normal"><a href="#__codelineno-4-206">206</a></span>
<span class="normal"><a href="#__codelineno-4-207">207</a></span>
<span class="normal"><a href="#__codelineno-4-208">208</a></span>
<span class="normal"><a href="#__codelineno-4-209">209</a></span>
<span class="normal"><a href="#__codelineno-4-210">210</a></span>
<span class="normal"><a href="#__codelineno-4-211">211</a></span>
<span class="normal"><a href="#__codelineno-4-212">212</a></span>
<span class="normal"><a href="#__codelineno-4-213">213</a></span>
<span class="normal"><a href="#__codelineno-4-214">214</a></span>
<span class="normal"><a href="#__codelineno-4-215">215</a></span>
<span class="normal"><a href="#__codelineno-4-216">216</a></span>
<span class="normal"><a href="#__codelineno-4-217">217</a></span>
<span class="normal"><a href="#__codelineno-4-218">218</a></span>
<span class="normal"><a href="#__codelineno-4-219">219</a></span>
<span class="normal"><a href="#__codelineno-4-220">220</a></span>
<span class="normal"><a href="#__codelineno-4-221">221</a></span>
<span class="normal"><a href="#__codelineno-4-222">222</a></span>
<span class="normal"><a href="#__codelineno-4-223">223</a></span>
<span class="normal"><a href="#__codelineno-4-224">224</a></span>
<span class="normal"><a href="#__codelineno-4-225">225</a></span>
<span class="normal"><a href="#__codelineno-4-226">226</a></span>
<span class="normal"><a href="#__codelineno-4-227">227</a></span>
<span class="normal"><a href="#__codelineno-4-228">228</a></span>
<span class="normal"><a href="#__codelineno-4-229">229</a></span>
<span class="normal"><a href="#__codelineno-4-230">230</a></span>
<span class="normal"><a href="#__codelineno-4-231">231</a></span>
<span class="normal"><a href="#__codelineno-4-232">232</a></span>
<span class="normal"><a href="#__codelineno-4-233">233</a></span>
<span class="normal"><a href="#__codelineno-4-234">234</a></span>
<span class="normal"><a href="#__codelineno-4-235">235</a></span>
<span class="normal"><a href="#__codelineno-4-236">236</a></span>
<span class="normal"><a href="#__codelineno-4-237">237</a></span>
<span class="normal"><a href="#__codelineno-4-238">238</a></span>
<span class="normal"><a href="#__codelineno-4-239">239</a></span>
<span class="normal"><a href="#__codelineno-4-240">240</a></span>
<span class="normal"><a href="#__codelineno-4-241">241</a></span>
<span class="normal"><a href="#__codelineno-4-242">242</a></span>
<span class="normal"><a href="#__codelineno-4-243">243</a></span>
<span class="normal"><a href="#__codelineno-4-244">244</a></span>
<span class="normal"><a href="#__codelineno-4-245">245</a></span>
<span class="normal"><a href="#__codelineno-4-246">246</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// 11-Microservices-k8s-App Jenkins Pipeline Script</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">        </span><span class="c1">// ====== CONFIG VARIABLES ======</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">        </span><span class="c1">// Replace values with the values configured in your Jenkins server configuration</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_TOOL</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s1">'docker'</span><span class="w"> </span><span class="c1">// Docker tool name configured in Jenkins</span>
</span><a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="hll"><span class="w">        </span><span class="n">GIT_BRANCH</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">'OpeyemiTechPro-v1'</span><span class="w"> </span><span class="c1">// Git Branch name where code resides </span>
</span><a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="hll"><span class="w">        </span><span class="n">GIT_URL</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">'https://github.com/opeyemitechpro/11-Microservices-k8s-App.git'</span>
</span><a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_SERVER</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s1">'sonar'</span><span class="w"> </span><span class="c1">// SonarQube Server name configured in Jenkins</span>
</span><a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_SCANNER</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">'sonar-scanner'</span><span class="w"> </span><span class="c1">// SonarQube tool name configured in Jenkins</span>
</span><a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="hll"><span class="w">        </span><span class="n">SONAR_PROJECT_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'11-microservice-eCommerce'</span><span class="w"> </span><span class="c1">// Project Name to appear on SonarQube Server Analysis page</span>
</span><a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_CRED_ID</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">'my-docker-cred'</span><span class="w"> </span><span class="c1">// Docker login credentials configure in Jenkins credentials</span>
</span><a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_HUB_USER</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro'</span><span class="w"> </span><span class="c1">// Docker Hub Repo to hold docker images</span>
</span><a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="hll"><span class="w">        </span><span class="n">DEST_EMAIL</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro@gmail.com'</span><span class="w"> </span><span class="c1">// Destination email for post job notification</span>
</span><a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="hll"><span class="w">        </span><span class="n">REPLYTO_EMAIL</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro@gmail.com'</span><span class="w"> </span><span class="c1">// Reply-To email for post job notification</span>
</span><a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="hll">
</span><a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="hll"><span class="w">        </span><span class="n">SCANNER_HOME</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="s2">"${SONAR_SCANNER}"</span>
</span><a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="hll">
</span><a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="hll">
</span><a id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="hll"><span class="w">        </span><span class="c1">// Declare values for these variables to suit your environment needs </span>
</span><a id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="hll"><span class="w">        </span><span class="n">DOCKER_TAG</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"ver-$BUILD_NUMBER"</span><span class="w"> </span><span class="c1">// Docker tag dynamically generated after each build</span>
</span><a id="__codelineno-4-25" name="__codelineno-4-25"></a>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Clean Workspace'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a><span class="w">                </span><span class="n">cleanWs</span><span class="o">()</span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-34" name="__codelineno-4-34"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-35" name="__codelineno-4-35"></a>
<a id="__codelineno-4-36" name="__codelineno-4-36"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Git Checkout'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-37" name="__codelineno-4-37"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-38" name="__codelineno-4-38"></a><span class="w">                </span><span class="n">git</span><span class="w"> </span><span class="nl">branch:</span><span class="w"> </span><span class="s2">"${GIT_BRANCH}"</span><span class="o">,</span><span class="w"> </span><span class="nl">url:</span><span class="w"> </span><span class="s2">"${GIT_URL}"</span>
<a id="__codelineno-4-39" name="__codelineno-4-39"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-40" name="__codelineno-4-40"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-41" name="__codelineno-4-41"></a>
<a id="__codelineno-4-42" name="__codelineno-4-42"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Gitleaks Scan'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-44" name="__codelineno-4-44"></a><span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">'gitleaks detect --source . -r gitleaks_report-$BUILD_NUMBER.json || true'</span>
<a id="__codelineno-4-45" name="__codelineno-4-45"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-46" name="__codelineno-4-46"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-47" name="__codelineno-4-47"></a>
<a id="__codelineno-4-48" name="__codelineno-4-48"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'SonarQube Analysis'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-49" name="__codelineno-4-49"></a>
<a id="__codelineno-4-50" name="__codelineno-4-50"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-51" name="__codelineno-4-51"></a><span class="w">                </span><span class="n">withSonarQubeEnv</span><span class="o">(</span><span class="s2">"${SONAR_SERVER}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-52" name="__codelineno-4-52"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s1">'''$SCANNER_HOME/bin/${SONAR_SCANNER} \</span>
<a id="__codelineno-4-53" name="__codelineno-4-53"></a><span class="s1">                        -Dsonar.projectKey=${SONAR_PROJECT_NAME} \</span>
<a id="__codelineno-4-54" name="__codelineno-4-54"></a><span class="s1">                        -Dsonar.projectName=${SONAR_PROJECT_NAME} \</span>
<a id="__codelineno-4-55" name="__codelineno-4-55"></a><span class="s1">                        -Dsonar.java.binaries=.'''</span>
<a id="__codelineno-4-56" name="__codelineno-4-56"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-57" name="__codelineno-4-57"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-58" name="__codelineno-4-58"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-59" name="__codelineno-4-59"></a>
<a id="__codelineno-4-60" name="__codelineno-4-60"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'TRIVY FS SCAN'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-61" name="__codelineno-4-61"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-62" name="__codelineno-4-62"></a><span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">'trivy fs -o trivy-fs-report_$BUILD_NUMBER.txt .'</span>
<a id="__codelineno-4-63" name="__codelineno-4-63"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-64" name="__codelineno-4-64"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-65" name="__codelineno-4-65"></a>
<a id="__codelineno-4-66" name="__codelineno-4-66"></a><span class="w">        </span><span class="c1">// DOCKER IMAGE BUILDS</span>
<a id="__codelineno-4-67" name="__codelineno-4-67"></a>
<a id="__codelineno-4-68" name="__codelineno-4-68"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'adservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-69" name="__codelineno-4-69"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-70" name="__codelineno-4-70"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-71" name="__codelineno-4-71"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-72" name="__codelineno-4-72"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/adservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-73" name="__codelineno-4-73"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-74" name="__codelineno-4-74"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-75" name="__codelineno-4-75"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-76" name="__codelineno-4-76"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-77" name="__codelineno-4-77"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-78" name="__codelineno-4-78"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-79" name="__codelineno-4-79"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-80" name="__codelineno-4-80"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'cartservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-81" name="__codelineno-4-81"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-82" name="__codelineno-4-82"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-83" name="__codelineno-4-83"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-84" name="__codelineno-4-84"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/cartservice/src"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-85" name="__codelineno-4-85"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-86" name="__codelineno-4-86"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-87" name="__codelineno-4-87"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-88" name="__codelineno-4-88"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-89" name="__codelineno-4-89"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-90" name="__codelineno-4-90"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-91" name="__codelineno-4-91"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-92" name="__codelineno-4-92"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'checkoutservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-93" name="__codelineno-4-93"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-94" name="__codelineno-4-94"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-95" name="__codelineno-4-95"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-96" name="__codelineno-4-96"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/checkoutservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-97" name="__codelineno-4-97"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-98" name="__codelineno-4-98"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-99" name="__codelineno-4-99"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-100" name="__codelineno-4-100"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-101" name="__codelineno-4-101"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-102" name="__codelineno-4-102"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-103" name="__codelineno-4-103"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-104" name="__codelineno-4-104"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'currencyservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-105" name="__codelineno-4-105"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-106" name="__codelineno-4-106"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-107" name="__codelineno-4-107"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-108" name="__codelineno-4-108"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/currencyservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-109" name="__codelineno-4-109"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-110" name="__codelineno-4-110"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-111" name="__codelineno-4-111"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-112" name="__codelineno-4-112"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-113" name="__codelineno-4-113"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-114" name="__codelineno-4-114"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-115" name="__codelineno-4-115"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-116" name="__codelineno-4-116"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'emailservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-117" name="__codelineno-4-117"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-118" name="__codelineno-4-118"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-119" name="__codelineno-4-119"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-120" name="__codelineno-4-120"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/emailservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-121" name="__codelineno-4-121"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-122" name="__codelineno-4-122"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-123" name="__codelineno-4-123"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-124" name="__codelineno-4-124"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-125" name="__codelineno-4-125"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-126" name="__codelineno-4-126"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-127" name="__codelineno-4-127"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-128" name="__codelineno-4-128"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'frontend DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-129" name="__codelineno-4-129"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-130" name="__codelineno-4-130"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-131" name="__codelineno-4-131"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-132" name="__codelineno-4-132"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/frontend"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-133" name="__codelineno-4-133"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG ."</span>
<a id="__codelineno-4-134" name="__codelineno-4-134"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG"</span>
<a id="__codelineno-4-135" name="__codelineno-4-135"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-136" name="__codelineno-4-136"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-137" name="__codelineno-4-137"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-138" name="__codelineno-4-138"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-139" name="__codelineno-4-139"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-140" name="__codelineno-4-140"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'loadgenerator DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-141" name="__codelineno-4-141"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-142" name="__codelineno-4-142"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-143" name="__codelineno-4-143"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-144" name="__codelineno-4-144"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/loadgenerator"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-145" name="__codelineno-4-145"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG ."</span>
<a id="__codelineno-4-146" name="__codelineno-4-146"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG"</span>
<a id="__codelineno-4-147" name="__codelineno-4-147"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-148" name="__codelineno-4-148"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-149" name="__codelineno-4-149"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-150" name="__codelineno-4-150"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-151" name="__codelineno-4-151"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-152" name="__codelineno-4-152"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'paymentservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-153" name="__codelineno-4-153"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-154" name="__codelineno-4-154"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-155" name="__codelineno-4-155"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-156" name="__codelineno-4-156"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/paymentservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-157" name="__codelineno-4-157"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-158" name="__codelineno-4-158"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-159" name="__codelineno-4-159"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-160" name="__codelineno-4-160"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-161" name="__codelineno-4-161"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-162" name="__codelineno-4-162"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-163" name="__codelineno-4-163"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-164" name="__codelineno-4-164"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'productcatalogservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-165" name="__codelineno-4-165"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-166" name="__codelineno-4-166"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-167" name="__codelineno-4-167"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-168" name="__codelineno-4-168"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/productcatalogservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-169" name="__codelineno-4-169"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-170" name="__codelineno-4-170"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-171" name="__codelineno-4-171"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-172" name="__codelineno-4-172"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-173" name="__codelineno-4-173"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-174" name="__codelineno-4-174"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-175" name="__codelineno-4-175"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-176" name="__codelineno-4-176"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'recommendationservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-177" name="__codelineno-4-177"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-178" name="__codelineno-4-178"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-179" name="__codelineno-4-179"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-180" name="__codelineno-4-180"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/recommendationservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-181" name="__codelineno-4-181"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-182" name="__codelineno-4-182"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-183" name="__codelineno-4-183"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-184" name="__codelineno-4-184"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-185" name="__codelineno-4-185"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-186" name="__codelineno-4-186"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-187" name="__codelineno-4-187"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-188" name="__codelineno-4-188"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'shippingservice DockerImage'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-189" name="__codelineno-4-189"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-190" name="__codelineno-4-190"></a><span class="w">                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-191" name="__codelineno-4-191"></a><span class="w">                    </span><span class="n">withDockerRegistry</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s2">"${DOCKER_CRED_ID}"</span><span class="o">,</span><span class="w"> </span><span class="nl">toolName:</span><span class="w"> </span><span class="s2">"${DOCKER_TOOL}"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-192" name="__codelineno-4-192"></a><span class="w">                    </span><span class="n">dir</span><span class="o">(</span><span class="s2">"${env.WORKSPACE}/src/shippingservice"</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-193" name="__codelineno-4-193"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker build -t ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG ."</span>
<a id="__codelineno-4-194" name="__codelineno-4-194"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker push ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-195" name="__codelineno-4-195"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-4-196" name="__codelineno-4-196"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-4-197" name="__codelineno-4-197"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-4-198" name="__codelineno-4-198"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-199" name="__codelineno-4-199"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-200" name="__codelineno-4-200"></a>
<a id="__codelineno-4-201" name="__codelineno-4-201"></a><span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'DockerImage CleanUp'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-202" name="__codelineno-4-202"></a><span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
<a id="__codelineno-4-203" name="__codelineno-4-203"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/adservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-204" name="__codelineno-4-204"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/cartservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-205" name="__codelineno-4-205"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/checkoutservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-206" name="__codelineno-4-206"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/currencyservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-207" name="__codelineno-4-207"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/emailservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-208" name="__codelineno-4-208"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/frontend:$DOCKER_TAG"</span>
<a id="__codelineno-4-209" name="__codelineno-4-209"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/loadgenerator:$DOCKER_TAG"</span>
<a id="__codelineno-4-210" name="__codelineno-4-210"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/paymentservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-211" name="__codelineno-4-211"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/productcatalogservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-212" name="__codelineno-4-212"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/recommendationservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-213" name="__codelineno-4-213"></a><span class="w">                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"docker rmi ${DOCKER_HUB_USER}/shippingservice:$DOCKER_TAG"</span>
<a id="__codelineno-4-214" name="__codelineno-4-214"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-4-215" name="__codelineno-4-215"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-216" name="__codelineno-4-216"></a>
<a id="__codelineno-4-217" name="__codelineno-4-217"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Update k8s Manifest'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-218" name="__codelineno-4-218"></a><span class="w">    </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-219" name="__codelineno-4-219"></a><span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s2">"Activate Update Manifest Job"</span>
<a id="__codelineno-4-220" name="__codelineno-4-220"></a><span class="w">        </span><span class="n">build</span><span class="w"> </span><span class="nl">job:</span><span class="w"> </span><span class="s1">'Update-Manifest'</span><span class="o">,</span><span class="w"> </span><span class="nl">parameters:</span><span class="w"> </span><span class="o">[</span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">'DOCKER_TAG'</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s2">"${DOCKER_TAG}"</span><span class="o">)]</span>
<a id="__codelineno-4-221" name="__codelineno-4-221"></a><span class="w">        </span><span class="c1">// Note: The build job "Update-Manifest" must be the exact name of the Jenkins job that updates the k8s manifest</span>
<a id="__codelineno-4-222" name="__codelineno-4-222"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-223" name="__codelineno-4-223"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-4-224" name="__codelineno-4-224"></a>
<a id="__codelineno-4-225" name="__codelineno-4-225"></a><span class="o">}</span>
<a id="__codelineno-4-226" name="__codelineno-4-226"></a>
<a id="__codelineno-4-227" name="__codelineno-4-227"></a><span class="w">    </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-228" name="__codelineno-4-228"></a><span class="w">        </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-229" name="__codelineno-4-229"></a><span class="w">            </span><span class="n">emailext</span><span class="o">(</span>
<a id="__codelineno-4-230" name="__codelineno-4-230"></a><span class="w">                </span><span class="nl">attachLog:</span><span class="w"> </span><span class="kc">true</span><span class="o">,</span>
<a id="__codelineno-4-231" name="__codelineno-4-231"></a><span class="w">                </span><span class="nl">attachmentsPattern:</span><span class="w"> </span><span class="s1">'trivy-fs-report_$BUILD_NUMBER.txt, dependency-check-report.html, gitleaks_report-$BUILD_NUMBER.json'</span><span class="o">,</span>
<a id="__codelineno-4-232" name="__codelineno-4-232"></a><span class="w">                </span><span class="nl">subject:</span><span class="w"> </span><span class="s1">'Project: $PROJECT_NAME, Build #: $BUILD_NUMBER - $BUILD_STATUS'</span><span class="o">,</span>
<a id="__codelineno-4-233" name="__codelineno-4-233"></a><span class="w">                </span><span class="nl">to:</span><span class="w"> </span><span class="s2">"$DEST_EMAIL"</span><span class="o">,</span>
<a id="__codelineno-4-234" name="__codelineno-4-234"></a><span class="w">                </span><span class="nl">replyTo:</span><span class="w"> </span><span class="s2">"$REPLYTO_EMAIL"</span><span class="o">,</span>
<a id="__codelineno-4-235" name="__codelineno-4-235"></a><span class="w">                </span><span class="nl">body:</span><span class="w"> </span><span class="s1">'''</span>
<a id="__codelineno-4-236" name="__codelineno-4-236"></a><span class="s1">                Project &lt;strong&gt;"$PROJECT_NAME"&lt;/strong&gt; has completed.&lt;br&gt;</span>
<a id="__codelineno-4-237" name="__codelineno-4-237"></a><span class="s1">                Build Number: $BUILD_NUMBER &lt;br&gt; </span>
<a id="__codelineno-4-238" name="__codelineno-4-238"></a><span class="s1">                Build Tag: $BUILD_TAG &lt;br&gt;</span>
<a id="__codelineno-4-239" name="__codelineno-4-239"></a><span class="s1">                Job Url: &lt;a href="$JOB_URL"&gt;Job URL&lt;/a&gt; &lt;br&gt; </span>
<a id="__codelineno-4-240" name="__codelineno-4-240"></a><span class="s1">                Build Status: &lt;strong&gt;$BUILD_STATUS&lt;/strong&gt;&lt;br&gt;&lt;br&gt;</span>
<a id="__codelineno-4-241" name="__codelineno-4-241"></a><span class="s1">                Check console output at &lt;a href="${BUILD_URL}console"&gt;Console URL&lt;/a&gt; OR &lt;a href="${BUILD_URL}pipeline-overview"&gt;Pipeline Overview&lt;/a&gt; to view the results.</span>
<a id="__codelineno-4-242" name="__codelineno-4-242"></a><span class="s1">                '''</span>
<a id="__codelineno-4-243" name="__codelineno-4-243"></a><span class="w">            </span><span class="o">)</span>
<a id="__codelineno-4-244" name="__codelineno-4-244"></a><span class="w">        </span><span class="o">}</span>
<a id="__codelineno-4-245" name="__codelineno-4-245"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-4-246" name="__codelineno-4-246"></a><span class="o">}</span>
</code></pre></div></td></tr></tbody></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Lines <code>9-24</code> contain environment variables. Replace the values according to your Jenkins server configuration</li>
</ul>
</details>
<details class="note">
<summary>How This Jenkins Pipeline Script Works</summary>
<p>Below is a breif description of how this jenkins CI pipeline script works</p>
<p>This Jenkins pipeline automates the entire CI workflow for the 11-microservices Kubernetes application. It takes care of pulling the source code, scanning for security issues, analyzing code quality, building Docker images for each microservice, pushing them to Docker Hub, and finally updating the Kubernetes manifests with the new image tags. Hereâ€™s how it works step by step:</p>
<ul>
<li>
<p>Environment Setup - The pipeline defines environment variables for Git, Docker, SonarQube, Trivy, Gitleaks, and email notifications. These variables let Jenkins know where to pull code from, where to push images, and how to connect with external tools like SonarQube or Docker Hub. The Docker image tag is dynamically generated from the Jenkins build number (e.g. ver-23).</p>
</li>
<li>
<p>Workspace Preparation - The pipeline starts with Clean Workspace, which clears out any old files or artifacts from previous builds. This ensures that every run starts fresh and avoids conflicts.</p>
</li>
<li>
<p>Source Code Checkout - Jenkins pulls the application code from the configured GitHub branch (OpeyemiTechPro-v1) to the workspace, making it ready for scanning and builds.</p>
</li>
<li>
<p>Security &amp; Quality Scans</p>
<ul>
<li>
<p>Gitleaks Scan: Detects any hardcoded secrets (API keys, passwords, tokens) in the repository.</p>
</li>
<li>
<p>SonarQube Analysis: Runs static code analysis for code quality, bugs, and maintainability issues.</p>
</li>
<li>
<p>Trivy FS Scan: Scans the projectâ€™s filesystem for known vulnerabilities before building the Docker images.</p>
</li>
</ul>
</li>
<li>
<p>Docker Image Build &amp; Push - Each microservice (adservice, cartservice, checkoutservice, etc.) has its own build stage. Jenkins Switches into each of the microservice directory, builds a Docker image tagged with the current build version, pushes the image to Docker Hub using stored credentials and this process is repeated for all 11 microservices, ensuring they are all containerized and versioned consistently.</p>
</li>
<li>
<p>Docker Image Cleanup - Once the images are pushed to Docker Hub, Jenkins cleans up local images to free up space on the build server to avoid taking up unneccessary space on the Jenkins server</p>
</li>
<li>
<p>Update Kubernetes Manifest - Instead of deploying directly, the pipeline triggers a separate Jenkins job called <code>Update-Manifest</code>. The <code>Update-Manifest</code> job updates the Kubernetes deployment manifests with the newly built Docker tags, ensuring that the cluster always runs the latest version of the services.</p>
</li>
<li>
<p>Post-Build Notifications - Regardless of success or failure, Jenkins sends an email notification with build details, logs, and scan reports (Trivy, Gitleaks, dependency-check). This gives visibility into what happened during the pipeline run.</p>
</li>
</ul>
<p>âœ… In summary: This pipeline performs code checkout â†’ security scans â†’ code quality analysis â†’ Docker builds â†’ image push â†’ Kubernetes manifest update â†’ email notifications.</p>
<p>It enforces DevSecOps best practices while automating the entire CI/CD workflow for the microservices app on Kubernetes.</p>
</details>
</details>
<h4 id="configure-github-webhook">Configure GitHub Webhook<a class="headerlink" href="#configure-github-webhook" title="Copy this link to reference this section">Â¶</a></h4>
<p>To enable Github to automatically trigger the Jenkins CI pipeline anytime a change is pushed to this GitHub repo, we need to configure a webhook in GitHub. The webhook sends a signal to this Jenkins job whenever the repo is updated. This causes the Jenkins CI pipeline to run without human intervention.</p>
<ul>
<li>On the Github repo for this application, go to <code>Settings &gt; Webhooks &gt; Add webhook</code></li>
<li>Payload URL: <code>http://&lt;jenkins_server_ip&gt;:8080/github-webhook/</code> <em>(Replace <code>&lt;jenkins_server_ip&gt;</code> with the actual IP address of your Jenkins server)</em></li>
<li>Content type: <code>application/json</code></li>
<li>Secret: Leave blank</li>
<li>Which events would you like to trigger this webhook? <code>Just the push event</code></li>
<li>Active: <code>Checked</code></li>
<li>Click <code>Add webhook</code></li>
</ul>
<details class="image">
<summary>Image - Configure GitHub WebHook</summary>
</details>
<hr>
<h4 id="continuous-delivery-cd-pipeline"><strong>Continuous Delivery (CD) Pipeline</strong><a class="headerlink" href="#continuous-delivery-cd-pipeline" title="Copy this link to reference this section">Â¶</a></h4>
<ul>
<li>
<p>Go to <code>Jenkins &gt; Create a Job</code> and create a second job item</p>
</li>
<li>
<p>Name the job <code>Update-Manifest</code></p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is important that the pipeline must be named <code>Update-Manifest</code> because this will be referenced by the CI pipeline script we created earlier. If you choose to use a different name, ensure you modify your CI pipeline script to reflect that.</p>
</div>
<ul>
<li>Select <code>Pipeline</code> and click <code>OK</code></li>
</ul>
<p>Go to <code>Update-Manifest &gt; Configuration &gt; Pipeline</code> and select <code>Pipeline script</code></p>
<p>Copy and paste the CD pipeline script below into the script template box.</p>
<p>Click <code>Save</code></p>
<p>Below is the Jenkins pipeline script for the <code>Continous Deployment (CD)</code>.</p>
<p>I have also included details on how this pipeline script works in the annotation box below.</p>
<details class="info">
<summary>Jenkins CD Pipeline script for the <code>Update-Manifest</code> Jenkins job</summary>
<details class="code-file">
<summary>Jenkins CD Pipeline Script - Click here</summary>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span>
<span class="normal"><a href="#__codelineno-5-46">46</a></span>
<span class="normal"><a href="#__codelineno-5-47">47</a></span>
<span class="normal"><a href="#__codelineno-5-48">48</a></span>
<span class="normal"><a href="#__codelineno-5-49">49</a></span>
<span class="normal"><a href="#__codelineno-5-50">50</a></span>
<span class="normal"><a href="#__codelineno-5-51">51</a></span>
<span class="normal"><a href="#__codelineno-5-52">52</a></span>
<span class="normal"><a href="#__codelineno-5-53">53</a></span>
<span class="normal"><a href="#__codelineno-5-54">54</a></span>
<span class="normal"><a href="#__codelineno-5-55">55</a></span>
<span class="normal"><a href="#__codelineno-5-56">56</a></span>
<span class="normal"><a href="#__codelineno-5-57">57</a></span>
<span class="normal"><a href="#__codelineno-5-58">58</a></span>
<span class="normal"><a href="#__codelineno-5-59">59</a></span>
<span class="normal"><a href="#__codelineno-5-60">60</a></span>
<span class="normal"><a href="#__codelineno-5-61">61</a></span>
<span class="normal"><a href="#__codelineno-5-62">62</a></span>
<span class="normal"><a href="#__codelineno-5-63">63</a></span>
<span class="normal"><a href="#__codelineno-5-64">64</a></span>
<span class="normal"><a href="#__codelineno-5-65">65</a></span>
<span class="normal"><a href="#__codelineno-5-66">66</a></span>
<span class="normal"><a href="#__codelineno-5-67">67</a></span>
<span class="normal"><a href="#__codelineno-5-68">68</a></span>
<span class="normal"><a href="#__codelineno-5-69">69</a></span>
<span class="normal"><a href="#__codelineno-5-70">70</a></span>
<span class="normal"><a href="#__codelineno-5-71">71</a></span>
<span class="normal"><a href="#__codelineno-5-72">72</a></span>
<span class="normal"><a href="#__codelineno-5-73">73</a></span>
<span class="normal"><a href="#__codelineno-5-74">74</a></span>
<span class="normal"><a href="#__codelineno-5-75">75</a></span>
<span class="normal"><a href="#__codelineno-5-76">76</a></span>
<span class="normal"><a href="#__codelineno-5-77">77</a></span>
<span class="normal"><a href="#__codelineno-5-78">78</a></span>
<span class="normal"><a href="#__codelineno-5-79">79</a></span>
<span class="normal"><a href="#__codelineno-5-80">80</a></span>
<span class="normal"><a href="#__codelineno-5-81">81</a></span>
<span class="normal"><a href="#__codelineno-5-82">82</a></span>
<span class="normal"><a href="#__codelineno-5-83">83</a></span>
<span class="normal"><a href="#__codelineno-5-84">84</a></span>
<span class="normal"><a href="#__codelineno-5-85">85</a></span>
<span class="normal"><a href="#__codelineno-5-86">86</a></span>
<span class="normal"><a href="#__codelineno-5-87">87</a></span>
<span class="normal"><a href="#__codelineno-5-88">88</a></span>
<span class="normal"><a href="#__codelineno-5-89">89</a></span>
<span class="normal"><a href="#__codelineno-5-90">90</a></span>
<span class="normal"><a href="#__codelineno-5-91">91</a></span>
<span class="normal"><a href="#__codelineno-5-92">92</a></span>
<span class="normal"><a href="#__codelineno-5-93">93</a></span>
<span class="normal"><a href="#__codelineno-5-94">94</a></span>
<span class="normal"><a href="#__codelineno-5-95">95</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="w">        </span><span class="c1">// Jenkins Job Name = "Update-Manifest"</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">        </span><span class="c1">// 11-Microservices-k8s-App-ArgoCD Manifest Update Jenkins Pipeline Script</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">        </span><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">            </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">                </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="hll"><span class="w">                    </span><span class="c1">// ====== CONFIG VARIABLES ======</span>
</span><a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="hll"><span class="w">                    </span><span class="c1">// Replace values with the values configured in your Jenkins server configuration</span>
</span><a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="hll"><span class="w">                    </span><span class="n">GIT_CRED</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s1">'github_cred'</span>
</span><a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="hll">
</span><a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="hll"><span class="w">                    </span><span class="c1">// Declare values for these variables to suit your environment needs</span>
</span><a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="hll"><span class="w">                    </span><span class="n">GIT_BRANCH</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s1">'main'</span>
</span><a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="hll"><span class="w">                    </span><span class="n">GIT_URL</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s1">'https://github.com/opeyemitechpro/11-Microservices-k8s-App-ArgoCD.git'</span>
</span><a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="hll"><span class="w">                    </span><span class="n">DOCKER_CRED_ID</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s1">'my-docker-cred'</span>
</span><a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="hll"><span class="w">                    </span><span class="n">DOCKER_HUB_USER</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro'</span>
</span><a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="hll"><span class="w">                    </span><span class="n">GIT_COMMIT_USER</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s1">'Jenkins CI'</span>
</span><a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="hll"><span class="w">                    </span><span class="n">GIT_COMMIT_EMAIL</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro@gmail.com'</span>
</span><a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="hll"><span class="w">                    </span><span class="n">DEST_EMAIL</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro@gmail.com'</span>
</span><a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="hll"><span class="w">                    </span><span class="n">REPLYTO_EMAIL</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">'opeyemitechpro@gmail.com'</span>
</span><a id="__codelineno-5-20" name="__codelineno-5-20"></a>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">                </span><span class="n">parameters</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">                        </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">'DOCKER_TAG'</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">'latest'</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">'Docker image tag passed from Jenkins CI Job'</span><span class="o">)</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">                    </span><span class="o">}</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">            </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">                    </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Git Checkout'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">                            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">                                </span><span class="n">git</span><span class="w"> </span><span class="nl">branch:</span><span class="w"> </span><span class="s2">"${GIT_BRANCH}"</span><span class="o">,</span><span class="w"> </span><span class="nl">url:</span><span class="w"> </span><span class="s2">"${GIT_URL}"</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">                            </span><span class="o">}</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">                        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Update Manifest with New Docker Tag'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">                            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">                                </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">                                    </span><span class="c1">// Show manifest file content before tag replacement</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"echo '--- BEFORE ---'"</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"grep 'image:' 11-microservice-ArgoCD-manifest.yaml || true"</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">                                    </span><span class="c1">// Replace all image tags in the manifest</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">                                    </span><span class="c1">// Using regex to match all lines like: opeyemitechpro/something:oldtag</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s1">'''</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="s1">                                        sed -i -E "s|(opeyemitechpro/[a-zA-Z0-9_-]+):[a-zA-Z0-9._-]+|\\1:${DOCKER_TAG}|g" 11-microservice-ArgoCD-manifest.yaml</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="s1">                                    '''</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">                                    </span><span class="c1">// Show manifest file content after replacing tags</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"echo '--- AFTER ---'"</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s2">"grep 'image:' 11-microservice-ArgoCD-manifest.yaml || true"</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">                                </span><span class="o">}</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">                            </span><span class="o">}</span>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="w">                        </span><span class="n">stage</span><span class="o">(</span><span class="s1">'Commit &amp; Push Changes'</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="w">                            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="w">                                </span><span class="n">withCredentials</span><span class="o">([</span><span class="n">usernamePassword</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">'github_cred'</span><span class="o">,</span><span class="w"> </span>
<a id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="w">                                            </span><span class="nl">passwordVariable:</span><span class="w"> </span><span class="s1">'GIT_PASSWORD'</span><span class="o">,</span><span class="w"> </span>
<a id="__codelineno-5-58" name="__codelineno-5-58"></a><span class="w">                                            </span><span class="nl">usernameVariable:</span><span class="w"> </span><span class="s1">'GIT_USERNAME'</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-59" name="__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60"></a><span class="w">                                    </span><span class="n">sh</span><span class="w"> </span><span class="s1">'''</span>
<a id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="s1">                                        git config user.email "${GIT_COMMIT_EMAIL}"</span>
<a id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="s1">                                        git config user.name "${GIT_COMMIT_USER}"</span>
<a id="__codelineno-5-63" name="__codelineno-5-63"></a>
<a id="__codelineno-5-64" name="__codelineno-5-64"></a><span class="s1">                                        git add 11-microservice-ArgoCD-manifest.yaml</span>
<a id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="s1">                                        git commit -m "Update images to tag ${DOCKER_TAG} (triggered by Jenkins Job: $PROJECT_NAME - build ${BUILD_NUMBER})" || echo "No changes to commit"</span>
<a id="__codelineno-5-66" name="__codelineno-5-66"></a>
<a id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="s1">                                        git remote set-url origin https://${GIT_USERNAME}:${GIT_PASSWORD}@github.com/opeyemitechpro/11-Microservices-k8s-App-ArgoCD.git</span>
<a id="__codelineno-5-68" name="__codelineno-5-68"></a><span class="s1">                                        git push origin HEAD:main</span>
<a id="__codelineno-5-69" name="__codelineno-5-69"></a><span class="s1">                                    '''</span>
<a id="__codelineno-5-70" name="__codelineno-5-70"></a><span class="w">                                </span><span class="o">}</span>
<a id="__codelineno-5-71" name="__codelineno-5-71"></a><span class="w">                            </span><span class="o">}</span>
<a id="__codelineno-5-72" name="__codelineno-5-72"></a><span class="w">                        </span><span class="o">}</span>
<a id="__codelineno-5-73" name="__codelineno-5-73"></a>
<a id="__codelineno-5-74" name="__codelineno-5-74"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-5-75" name="__codelineno-5-75"></a>
<a id="__codelineno-5-76" name="__codelineno-5-76"></a><span class="w">            </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-77" name="__codelineno-5-77"></a><span class="w">                </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-78" name="__codelineno-5-78"></a><span class="w">                    </span><span class="n">emailext</span><span class="o">(</span>
<a id="__codelineno-5-79" name="__codelineno-5-79"></a>
<a id="__codelineno-5-80" name="__codelineno-5-80"></a><span class="w">                        </span><span class="nl">subject:</span><span class="w"> </span><span class="s1">'Project: $PROJECT_NAME, Build #: $BUILD_NUMBER - $BUILD_STATUS'</span><span class="o">,</span>
<a id="__codelineno-5-81" name="__codelineno-5-81"></a><span class="w">                        </span><span class="nl">to:</span><span class="w"> </span><span class="s2">"$DEST_EMAIL"</span><span class="o">,</span>
<a id="__codelineno-5-82" name="__codelineno-5-82"></a><span class="w">                        </span><span class="nl">replyTo:</span><span class="w"> </span><span class="s2">"$REPLYTO_EMAIL"</span><span class="o">,</span>
<a id="__codelineno-5-83" name="__codelineno-5-83"></a><span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="s1">'''</span>
<a id="__codelineno-5-84" name="__codelineno-5-84"></a><span class="s1">                        Project &lt;strong&gt;"$PROJECT_NAME"&lt;/strong&gt; has completed.&lt;br&gt;</span>
<a id="__codelineno-5-85" name="__codelineno-5-85"></a><span class="s1">                        Build Number: $BUILD_NUMBER &lt;br&gt; </span>
<a id="__codelineno-5-86" name="__codelineno-5-86"></a><span class="s1">                        Build Tag: $BUILD_TAG &lt;br&gt;</span>
<a id="__codelineno-5-87" name="__codelineno-5-87"></a><span class="s1">                        Job Url: &lt;a href="$JOB_URL"&gt;Job URL&lt;/a&gt; &lt;br&gt; </span>
<a id="__codelineno-5-88" name="__codelineno-5-88"></a><span class="s1">                        Build Status: &lt;strong&gt;$BUILD_STATUS&lt;/strong&gt;&lt;br&gt;&lt;br&gt;</span>
<a id="__codelineno-5-89" name="__codelineno-5-89"></a><span class="s1">                        New Tag: $DOCKER_TAG &lt;br&gt;</span>
<a id="__codelineno-5-90" name="__codelineno-5-90"></a><span class="s1">                        Check console output at &lt;a href="${BUILD_URL}console"&gt;Console URL&lt;/a&gt; or &lt;a href="${BUILD_URL}pipeline-overview"&gt;Pipeline Overview URL&lt;/a&gt; to view the results.</span>
<a id="__codelineno-5-91" name="__codelineno-5-91"></a><span class="s1">                        '''</span>
<a id="__codelineno-5-92" name="__codelineno-5-92"></a><span class="w">                    </span><span class="o">)</span>
<a id="__codelineno-5-93" name="__codelineno-5-93"></a><span class="w">                </span><span class="o">}</span>
<a id="__codelineno-5-94" name="__codelineno-5-94"></a><span class="w">            </span><span class="o">}</span>
<a id="__codelineno-5-95" name="__codelineno-5-95"></a><span class="w">        </span><span class="o">}</span>
</code></pre></div></td></tr></tbody></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> Lines <code>7-19</code> contain environment variables. Replace the values according to your Jenkins server configuration</li>
</ul>
</details>
<details class="note">
<summary>How This Jenkins CD Pipeline Script Works</summary>
<p>This Jenkins pipeline is responsible for automatically updating the Kubernetes ArgoCD manifest whenever new Docker images are built and pushed by the main CI pipeline. Instead of manually editing YAML files to change image tags, this job updates the manifest with the latest Docker tag and pushes the change back to GitHub so ArgoCD can sync and deploy it.</p>
<p>Hereâ€™s how it works:</p>
<ul>
<li>
<p>Pipeline Setup - The pipeline defines key environment variables like GitHub credentials, Docker Hub username, commit author details, and email addresses for notifications.
It also accepts a parameter (DOCKER_TAG) from the upstream build job (the CI pipeline) so that the manifest is updated with the exact version of the new Docker images.</p>
</li>
<li>
<p>Git Checkout - Jenkins checks out the ArgoCD manifest repository (11-Microservices-k8s-App-ArgoCD) from GitHub on the specified branch (main). This repo contains the Kubernetes deployment YAML that ArgoCD watches.</p>
</li>
<li>
<p>Update Manifest with New Docker Tag - Before making changes, the script prints out the current image: lines from the manifest file for visibility. It then uses a <code>sed</code> command with regex to find all Docker image references (e.g., opeyemitechpro/service:oldtag) and replace the old tag with the new tag (DOCKER_TAG). After replacement, it prints the updated image: lines so you can verify the changes directly in the Jenkins logs.</p>
</li>
<li>
<p>Commit &amp; Push Changes - The pipeline configures Git with the commit author and email set in the environment variables. It stages and commits the updated manifest file with a message showing which build triggered the update. Using the stored GitHub credentials, it pushes the updated manifest back to the main branch of the repository.</p>
</li>
<li>
<p>If no changes were required (for example, if the manifest already had the latest tag), the commit step is skipped gracefully.</p>
</li>
<li>
<p>Post-Build Notification - Once finished, Jenkins sends an email notification with details of the build (status, job URL, build number, and the new Docker tag). This ensures visibility of every manifest update.</p>
</li>
</ul>
<p>âœ… In summary: This pipeline takes the Docker tag produced by the CI job, updates all microservice image tags in the ArgoCD manifest, commits the changes to GitHub, and lets ArgoCD handle the deployment. It removes the need for manual edits, keeps deployments consistent, and fully automates the CD process for Kubernetes microservices.</p>
</details>
</details>
<hr>
<h2 id="kubernetes-cluster-setup">Kubernetes Cluster Setup<a class="headerlink" href="#kubernetes-cluster-setup" title="Copy this link to reference this section">Â¶</a></h2>
<p>For this project, we will use a basic Kubernetes cluster hosted on Amazon EKS. Our application will be deployed to the EKS cluster using ArgoCD. Additionally, we will deploy Prometheus and Grafana on the same cluster to monitor both our application and underlying infrastructure. We will use Helm to install ArgoCD and the Prometheus stack on the cluster.</p>
<p>For simplicity, we will use our Jenkins server as the base server to manage the EKS cluster.</p>
<p>To enable this, we will create IAM policies and attach it to the Jenkins instance, granting it the necessary permissions to manage our Amazon EKS cluster. </p>
<p>See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html" target="_blank"><em>(AWS Documentation - How to create IAM Policies)</em></a></p>
<h4 id="aws-iam-policies-required-for-eks-cluster-creation">AWS IAM Policies required for EKS Cluster Creation<a class="headerlink" href="#aws-iam-policies-required-for-eks-cluster-creation" title="Copy this link to reference this section">Â¶</a></h4>
<p>The following AWS IAM policies are required to create and manage an EKS cluster. Ensure that the IAM role or user associated with your Jenkins server has these policies attached:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AmazonEC2FullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AmazonEKS_CNI_Policy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AmazonEKSClusterPolicy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AmazonEKSWorkerNodePolicy</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AmazonPCIFullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> AWSCloudFormationFullAccess</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked><span class="task-list-indicator"></span></label> IAMFullAccess</li>
</ul>
<p>See <a href="https://docs.aws.amazon.com/eks/latest/eksctl/minimum-iam-policies.html" target="_blank"><em>(AWS Docmentation - Minimum IAM Policies for EKS)</em></a></p>
<hr>
<h3 id="create-eks-cluster">Create EKS Cluster<a class="headerlink" href="#create-eks-cluster" title="Copy this link to reference this section">Â¶</a></h3>
<p>Create your EKS Cluster</p>
<div class="admonition tip inline end">
<p class="admonition-title">Tip</p>
<ul>
<li>Replace the cluster name and region in the command with your desired values</li>
</ul>
</div>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>eksctl<span class="w"> </span>create<span class="w"> </span>cluster<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="hll"><span class="w">  </span>--name<span class="w"> </span>opeyemi-k8s-cluster<span class="w"> </span><span class="se">\</span>
</span><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">  </span>--region<span class="w"> </span>us-east-2<span class="w">  </span>
</code></pre></div></td></tr></tbody></table></div>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>- [x] This command will create an EKS cluster named `opeyemi-k8s-cluster` in the `us-east-2` region. You can change these values as needed.
- [x] The command will also create a default node group with t3.medium instances. You can customize the node group settings by adding additional flags to the command. See [_(eksctl documentation - create cluster)_](https://eksctl.io/usage/creating-and-managing-clusters/#creating-a-cluster){: target="_blank" }
</code></pre></div></td></tr></tbody></table></div>
<details class="image">
<summary>Image - EKS Cluster Creation</summary>
</details>
<hr>
<h3 id="install-helm"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.337 0c-.475 0-.861 1.016-.861 2.269 0 .527.069 1.011.183 1.396a8.5 8.5 0 0 0-3.961 1.22 5.2 5.2 0 0 0-.595-1.093c-.606-.866-1.34-1.436-1.79-1.43a.4.4 0 0 0-.217.066c-.39.273-.123 1.326.596 2.353.267.381.559.705.84.948a8.7 8.7 0 0 0-1.528 1.716h1.734a7.18 7.18 0 0 1 5.381-2.421 7.18 7.18 0 0 1 5.382 2.42h1.733a8.7 8.7 0 0 0-1.32-1.53c.35-.249.735-.643 1.078-1.133.719-1.027.986-2.08.596-2.353a.4.4 0 0 0-.217-.065c-.45-.007-1.184.563-1.79 1.43a4.9 4.9 0 0 0-.676 1.325 8.5 8.5 0 0 0-3.899-1.42c.12-.39.193-.887.193-1.429 0-1.253-.386-2.269-.862-2.269M1.624 9.443v5.162h1.358v-1.968h1.64v1.968h1.357V9.443H4.62v1.838H2.98V9.443zm5.912 0v5.162h3.21v-1.108H8.893v-.95h1.64v-1.142h-1.64v-.84h1.853V9.443zm4.698 0v5.162h3.218v-1.362h-1.86v-3.8zm4.706 0v5.162h1.364v-2.643l1.357 1.225 1.35-1.232v2.65h1.365V9.443h-.614l-2.1 1.914-2.109-1.914zm-11.82 7.28a8.7 8.7 0 0 0 1.412 1.548 5.2 5.2 0 0 0-.841.948c-.719 1.027-.985 2.08-.596 2.353.39.273 1.289-.338 2.007-1.364a5.2 5.2 0 0 0 .595-1.092 8.5 8.5 0 0 0 3.961 1.219 5 5 0 0 0-.183 1.396c0 1.253.386 2.269.861 2.269.476 0 .862-1.016.862-2.269 0-.542-.072-1.04-.193-1.43a8.5 8.5 0 0 0 3.9-1.42c.121.4.352.865.675 1.327.719 1.026 1.617 1.637 2.007 1.364s.123-1.326-.596-2.353c-.343-.49-.727-.885-1.077-1.135a8.7 8.7 0 0 0 1.202-1.36h-1.771a7.17 7.17 0 0 1-5.227 2.252 7.17 7.17 0 0 1-5.226-2.252z"></path></svg></span> Install Helm<a class="headerlink" href="#install-helm" title="Copy this link to reference this section">Â¶</a></h3>
<p>Check if Helm is installed on your base server</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>helm<span class="w"> </span>version
</code></pre></div></td></tr></tbody></table></div>
<p>If not, install Helm with this command</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div></td></tr></tbody></table></div>
<hr>
<h3 id="argocd-installation"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.581 0q.656.056 1.299.186c1.679.383 3.121 1.213 4.382 2.365 1.161 1.06 1.917 2.372 2.335 3.881.089.321.216.56.586.624.205.035.238.245.239.43q.003.97.002 1.94l-.002 1.21c-.001.356-.116.479-.466.474-.211-.003-.293.119-.344.291q-.219.735-.552 1.426c-.818 1.682-2.084 2.938-3.688 3.87q-.116.067-.233.131c-.252.137-.258.146-.155.415.114.299.358.529.664.625.269.096.553.134.827.21a.7.7 0 0 1 .236.094c-.066.082-.156.067-.231.082-.36.073-.713.184-1.086.17a1.3 1.3 0 0 1-.438-.064c-.114-.045-.152-.006-.176.109a5.4 5.4 0 0 0-.084.92c-.015.617-.071 1.23-.112 1.844-.042.598-.018.651.558.842q.422.14.842.286c.069.024.15.038.192.117-.04.057-.098.035-.146.035q-.739.006-1.478.001c-.524-.005-.806-.282-.845-.803-.055-.762-.12-1.524-.182-2.286a1 1 0 0 0-.026-.12c-.079.455-.065.879-.084 1.298-.023.528-.008 1.057-.007 1.584 0 .27.086.388.335.483.359.135.711.295 1.114.262.141-.012.276.062.402.129.032.017.073.033.069.073-.004.043-.049.047-.084.045-.657-.019-1.317.065-1.972-.028-.323-.046-.533-.236-.631-.552-.094-.303-.114-.617-.137-.93-.046-.626-.078-1.253-.116-1.88a.22.22 0 0 0-.061-.171.28.28 0 0 0-.031.193q-.003 1.434-.001 2.866c0 .388.123.575.494.708.481.172.976.298 1.47.423.11.028.225.047.242.192h-1.852q-.077-.016-.155-.03c-.701-.1-1.001-.372-1.143-1.042l-.067-.331-.226-1.103q-.104.181-.144.386c-.083.399-.151.802-.243 1.2-.113.493-.444.763-.932.857l-.33.063H8.558c.057-.171.216-.185.355-.221.476-.127.96-.223 1.417-.409a.6.6 0 0 0 .397-.521c.058-.435.002-.865-.013-1.296a1.5 1.5 0 0 0-.078-.315.4.4 0 0 0-.071.207q-.037.444-.075.886c-.038.432-.273.716-.679.81a1.7 1.7 0 0 1-.37.045q-.836.003-1.673-.005c-.048 0-.109.019-.148-.065.178-.103.377-.168.582-.187a5.7 5.7 0 0 0 .939-.193c.42-.114.522-.249.512-.687-.023-.931-.091-1.86-.069-2.791.004-.184.001-.368.001-.551a2.4 2.4 0 0 0-.05.385 40 40 0 0 1-.186 2.623c-.052.513-.296.748-.804.805-.446.051-.889.002-1.332-.02-.108-.006-.234.012-.339-.064.043-.066.106-.07.16-.087.362-.115.725-.224 1.086-.344.246-.081.35-.235.355-.492a2 2 0 0 0-.003-.232 45 45 0 0 1-.105-2.149 6 6 0 0 0-.035-.478c-.024-.188-.131-.287-.295-.258-.505.092-.99-.006-1.473-.139-.059-.016-.134-.007-.178-.088a1 1 0 0 1 .285-.09q.383-.078.753-.208c.312-.112.564-.347.695-.651.089-.203.056-.317-.112-.398-1.418-.683-2.512-1.73-3.391-3.017a8.2 8.2 0 0 1-1.123-2.447c-.067-.246-.156-.3-.383-.26-.306.053-.401.006-.535-.273v-3.49c.144-.303.205-.341.534-.329.235.01.247-.004.309-.242.396-1.508 1.082-2.861 2.171-3.988C6.9 1.42 8.523.631 10.34.203c.456-.108.922-.15 1.387-.203zm7.974 8.948a7 7 0 0 0-.048-.938 8 8 0 0 0-.099-.65c-.598-2.964-2.344-5.02-5.051-6.268-1.553-.715-3.21-.835-4.878-.511-3.248.633-5.396 2.583-6.539 5.652-.436 1.173-.495 2.406-.37 3.65.087.935.339 1.846.745 2.694.585 1.213 1.444 2.207 2.477 3.058q.516.43 1.121.719c.235.111.247.105.245-.146q.009-.24-.009-.48c-.125-1.02-.142-2.045-.169-3.069a.39.39 0 0 0-.184-.353c-.385-.268-.713-.592-.921-1.019-.474-.97-.372-2.361.813-3.215.136-.097.217-.19.198-.373a1.7 1.7 0 0 1 .031-.442c.177-1.187.748-2.138 1.722-2.84.68-.492 1.442-.772 2.286-.782.483-.007.953.11 1.414.244 1.609.467 2.846 2.07 2.845 3.697a.64.64 0 0 0 .268.565c.463.371.821.83.943 1.426.22 1.077-.083 1.982-.979 2.634-.266.194-.347.406-.333.698q.002.071-.002.142l-.062 1.439c-.025.586-.138 1.165-.117 1.754.008.223.006.226.201.128a7.5 7.5 0 0 0 2.393-1.903c1.32-1.577 2.074-3.372 2.059-5.511M9.117 12.102c1.489.021 2.443-1.578 1.716-2.879a1.94 1.94 0 0 0-1.699-.991c-1.094-.004-1.954.822-1.958 1.881-.005 1.148.813 1.985 1.941 1.989m5.794 0c1.101.002 1.935-.823 1.935-1.917 0-1.091-.846-1.949-1.92-1.947-1.064.003-1.94.866-1.943 1.915-.003 1.105.831 1.948 1.928 1.949m-1.472 1.937c-.208.128-.407.277-.63.384-.536.257-1.063.257-1.579-.048-.158-.094-.308-.201-.464-.298-.047-.028-.092-.103-.15-.062-.044.03-.01.1-.001.151q.055.27.082.544c.027.565.293.992.742 1.31a.98.98 0 0 0 .791.186c.565-.119 1.025-.614 1.124-1.218.043-.266.005-.544.109-.803a.13.13 0 0 0-.024-.146m-8.78-4.92c-.012-1.102.143-2.055.54-2.961.633-1.443 1.642-2.553 2.98-3.374a.38.38 0 0 1 .459.067c.06.06.036.118.01.178a1.1 1.1 0 0 1-.48.51c-1.079.639-1.829 1.571-2.357 2.688a6.3 6.3 0 0 0-.618 2.986c.055 1.309.439 2.516 1.213 3.588.088.104.148.23.173.365.01.08.059.168-.031.228a.31.31 0 0 1-.288.041.5.5 0 0 1-.234-.185c-.72-.979-1.193-2.056-1.331-3.273-.036-.326-.004-.653-.036-.858M8.94 2.34a.373.373 0 0 1 .378-.382c.211.001.409.226.416.473.004.138-.309.39-.476.386-.189-.005-.318-.2-.318-.477m-.465 7.48a.61.61 0 0 1 .586-.631c.38-.003.671.271.675.633.004.356-.27.622-.639.621-.38-.002-.621-.241-.622-.623m6.496.623c-.381-.002-.625-.255-.621-.646a.635.635 0 0 1 .596-.613.656.656 0 0 1 .669.643c.001.354-.275.618-.644.616"></path></svg></span> ArgoCD Installation<a class="headerlink" href="#argocd-installation" title="Copy this link to reference this section">Â¶</a></h3>
<p>Add ArgoCD Helm repo</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>argo<span class="w"> </span>https://argoproj.github.io/argo-helm
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div></td></tr></tbody></table></div>
<p>Install ArgoCD Helm Chart</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>helm<span class="w"> </span>install<span class="w"> </span>opeyemi-argo-cd<span class="w"> </span>argo/argo-cd<span class="w"> </span>--namespace<span class="w"> </span>argocd<span class="w"> </span>--create-namespace
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This will name the release <code>opeyemi-argo-cd</code> and create the <code>argocd</code> namespace if it doesn't exist then install ArgoCD in the <code>argocd</code> namespace.</p>
</div>
<details class="tip">
<summary>Optional Steps to confirm the <code>argocd</code> installation</summary>
<p>View helm releases in all namespaces (including the <code>argocd</code> namespace)</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>helm<span class="w"> </span>list<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
<p>Check running status of pods in the <code>argocd</code> namespace to verify deployment</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
<p>Get Helm release notes for the argocd installation</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>helm<span class="w"> </span>get<span class="w"> </span>notes<span class="w"> </span>opeyemi-argo-cd<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
</details>
<p>Expose the <code>argocd-server</code> service as a LoadBalancer</p>
<p>By default all the pods in the <code>argocd</code> namespace are of <code>ClusterIP</code> type. We need to expose the <code>argocd-server</code> service as a LoadBalancer service type to make it accessible from outside the cluster.</p>
<p>First, display list of services running in the argocd namespace</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
<p>Next, expose the <code>opeyemi-argo-cd-argocd-server</code> service as a LoadBalancer type</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>kubectl<span class="w"> </span>patch<span class="w"> </span>svc<span class="w"> </span>opeyemi-argo-cd-argocd-server<span class="w"> </span>-n<span class="w"> </span>argocd<span class="w"> </span>-p<span class="w"> </span><span class="s1">'{"spec": {"type": "LoadBalancer"}}'</span>
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You will need to wait a short while for LoadBalancer URL to become ready before you can access it in the browser.</p>
</div>
<p>You can retrieve the LoadBalancer URL with:</p>
<p></p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
OR use 
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>opeyemi-argo-cd-argocd-server<span class="w"> </span>-n<span class="w"> </span>argocd<span class="w"> </span>-o<span class="o">=</span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.status.loadBalancer.ingress[0].hostname}'</span>
</code></pre></div></td></tr></tbody></table></div><p></p>
<p>Use this LoadBalancer URL to access ArgoCD UI from your browser.</p>
<p>The initial password for the <code>admin</code> account is auto-generated and stored in the field <code>password</code> in a secret named <code>argocd-initial-admin-secret</code> in your Argo CD installation namespace. You can simply retrieve this password using kubectl:</p>
<details class="warning inline end">
<summary>Warning</summary>
<p>In Production, You should delete the <code>argocd-initial-admin-secret</code> from the Argo CD namespace once you change the password. The secret serves no other purpose than to store the initially generated password in clear and can safely be deleted at any time. It will be re-created on demand by Argo CD if a new admin password must be re-generated. </p>
<p><a href="https://argo-cd.readthedocs.io/en/stable/getting_started/#4-login-using-the-cli" target="_blank">Learn more <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a></p>
</details>
<p></p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
OR use<p></p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>kubectl<span class="w"> </span>-n<span class="w"> </span>argocd<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span>argocd-initial-admin-secret<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s2">"{.data.password}"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
</code></pre></div></td></tr></tbody></table></div>
<details class="tip">
<summary>Accessing initial ArgoCD Admin password</summary>
<p>Alternatively, you could access the ArgoCD initial Admin password by first displaying the contents of the <code>argocd-initial-admin-secret</code> then base64 decode the password field as show below:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>argocd-initial-admin-secret<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div>
<p></p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"&lt;initial-password-string&gt;"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d
</code></pre></div></td></tr></tbody></table></div>
* Where <code>initial-password-string</code> is the string in the password field of the json output<p></p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>How to <a href="https://artifacthub.io/packages/helm/argo/argo-cd" target="_blank">install ArgoCD using Helm Charts <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a></li>
<li>You can also follow the ArgoCD installation guide on the <a href="https://argo-cd.readthedocs.io/en/stable/getting_started/#1-install-argo-cd" target="_blank">ArgoCD Documentation Website <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.3 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 96c-44.2 0-80 35.8-80 80v256c0 44.2 35.8 80 80 80h256c44.2 0 80-35.8 80-80v-80c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg></span></a></li>
<li>You can access the helm release notes for the argocd by running: 
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>helm<span class="w"> </span>get<span class="w"> </span>notes<span class="w"> </span>opeyemi-argo-cd<span class="w"> </span>-n<span class="w"> </span>argocd
</code></pre></div></td></tr></tbody></table></div></li>
</ul>
</div>
<details class="image">
<summary>Image - ArgoCD UI</summary>
</details>
<h3 id="deploying-the-application-to-kubernetes-using-argocd">Deploying the Application to Kubernetes using ArgoCD<a class="headerlink" href="#deploying-the-application-to-kubernetes-using-argocd" title="Copy this link to reference this section">Â¶</a></h3>
<ul>
<li>Open your browser and navigate to the ArgoCD LoadBalancer URL you exposed earlier</li>
<li>Login with username <code>admin</code> and the initial password you retrieved earlier</li>
<li>Once logged in, click on <code>New App</code> to create a new application deployment</li>
<li>
<p>Fill in the application details as follows:</p>
<ul>
<li>Application Name: <code>11-microservices-app</code></li>
<li>Project: <code>default</code></li>
<li>Sync Policy: <code>Automatic</code></li>
<li>Repository URL: <code>https://github.com/opeyemitechpro/11-Microservices-k8s-App-ArgoCD</code></li>
<li>Revision: <code>HEAD</code> (or specify a branch/tag/commit)</li>
</ul>
</li>
</ul>
<hr>
<h2 id="set-up-monitoring-using-prometheus-and-grafana">Set Up Monitoring Using Prometheus and Grafana<a class="headerlink" href="#set-up-monitoring-using-prometheus-and-grafana" title="Copy this link to reference this section">Â¶</a></h2>
<h2 id="prometheus-stack-installation-and-setup-on-eks-using-helm"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12s12-5.373 12-12c0-6.628-5.373-12-12-12m0 22.46c-1.885 0-3.414-1.26-3.414-2.814h6.828c0 1.553-1.528 2.813-3.414 2.813zm5.64-3.745H6.36v-2.046h11.28zm-.04-3.098H6.391q-.056-.064-.111-.13c-1.155-1.401-1.427-2.133-1.69-2.879-.005-.025 1.4.287 2.395.511 0 0 .513.119 1.262.255-.72-.843-1.147-1.915-1.147-3.01 0-2.406 1.845-4.508 1.18-6.207.648.053 1.34 1.367 1.387 3.422.689-.951.977-2.69.977-3.755 0-1.103.727-2.385 1.454-2.429-.648 1.069.168 1.984.894 4.256.272.854.237 2.29.447 3.201.07-1.892.395-4.652 1.595-5.605-.529 1.2.079 2.702.494 3.424.671 1.164 1.078 2.047 1.078 3.716a4.64 4.64 0 0 1-1.11 2.996c.792-.149 1.34-.283 1.34-.283l2.573-.502s-.374 1.538-1.81 3.019z"></path></svg></span> Prometheus Stack Installation and Setup on EKS using Helm<a class="headerlink" href="#prometheus-stack-installation-and-setup-on-eks-using-helm" title="Copy this link to reference this section">Â¶</a></h2>
<p>Add the kube-prometheus-stack Helm repo</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>prometheus-community<span class="w"> </span>https://prometheus-community.github.io/helm-charts
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div></td></tr></tbody></table></div>
<p>Install Prometheus Stack into <code>monitoring</code> namespace</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a>helm<span class="w"> </span>install<span class="w"> </span>opeyemi-prometheus<span class="w"> </span>prometheus-community/kube-prometheus-stack<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">  </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">  </span>--create-namespace
</code></pre></div></td></tr></tbody></table></div>
<details class="code-file">
<summary><mark>Delete this later</mark></summary>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a>helm<span class="w"> </span>install<span class="w"> </span>prometheus<span class="w"> </span>prometheus-community/kube-prometheus-stack<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a>--namespace<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a>--create-namespace<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a>--set<span class="w"> </span>prometheus.prometheusSpec.maximumStartupDurationSeconds<span class="o">=</span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a>--set<span class="w"> </span>alertmanager.persistence.storageClass<span class="o">=</span><span class="s2">"gp2"</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a>--set<span class="w"> </span>server.persistentVolume.storageClass<span class="o">=</span><span class="s2">"gp2"</span>
</code></pre></div></td></tr></tbody></table></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This will create the <code>monitoring</code> namespace if it doesn't exist already and deploy the full Prometheus monitoring stack (Prometheus + Grafana + Alertmanager + exporters) into the <code>monitoring</code> namespace</p>
</div>
<p>Check running status of pods in the <code>monitoring</code> namespace to verify deployment</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-l<span class="w"> </span><span class="s2">"release=opeyemi-prometheus"</span>
</code></pre></div></td></tr></tbody></table></div>
<p>OR
</p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div><p></p>
<details class="note">
<summary>Optionally you can display helm release notes for the Prometheus installation</summary>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a>helm<span class="w"> </span>get<span class="w"> </span>notes<span class="w"> </span>opeyemi-prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
</details>
<p>Expose Prometheus and Grafana as a LoadBalancer type to access</p>
<p>By default all the pods in the <code>monitoring</code>  namespace are of <code>ClusterIP</code> type. We need to expose Grafana and Prometheus services as LoadBalancer service types to make them accessible from outside the cluster.</p>
<p>First list all services in the monitoring namespace</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<details class="code-file">
<summary><mark>Delete Later</mark></summary>
<p>Display Grafana URL (optional)
</p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring<span class="w"> </span>prometheus-grafana
</code></pre></div></td></tr></tbody></table></div><p></p>
<p>Display Prometheus URL (optional)
</p><div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring<span class="w"> </span>prometheus-kube-prometheus-prometheus
</code></pre></div></td></tr></tbody></table></div><p></p>
</details>
<p>Expose Grafana as a LoadBalancer for external access</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a>kubectl<span class="w"> </span>patch<span class="w"> </span>svc<span class="w"> </span>prometheus-grafana<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">  </span>-n<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">  </span>-p<span class="w"> </span><span class="s1">'{"spec": {"type": "LoadBalancer"}}'</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Expose Prometheus as a LoadBalancer for external access</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a>kubectl<span class="w"> </span>patch<span class="w"> </span>svc<span class="w"> </span>prometheus-kube-prometheus-prometheus<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">  </span>-n<span class="w"> </span>monitoring<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">  </span>-p<span class="w"> </span><span class="s1">'{"spec": {"type": "LoadBalancer"}}'</span>
</code></pre></div></td></tr></tbody></table></div>
<p>Display list of all the services in the <code>monitoring</code> namespace again. AWS would create LoadBalancer URLs for each of Grafana and Prometheus</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You may need to wait a while for the <code>EXTERNAL-IP</code> field to be populated, then open each URL for both Grafana and Prometheus in your browser (Grafana on port <code>80</code>, Prometheus on port <code>9090</code>)</p>
</div>
<p>To get Grafana password, enter the command below. This will display the contents of the <code>prometheus-grafana</code> secret in json format. Copy the <code>admin-password</code> from the json output and decode it in base-64</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>prometheus-grafana<span class="w"> </span>-o<span class="w"> </span>json<span class="w"> </span>
</code></pre></div></td></tr></tbody></table></div>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"&lt;admin-password&gt;"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>--decode
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Replace the <code>&lt;admin-password&gt;</code> with the password string you copied from the json output</p>
</div>
<p>OR use this command</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a>kubectl<span class="w"> </span>--namespace<span class="w"> </span>monitoring<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>prometheus-grafana<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s2">"{.data.admin-password}"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>Default Grafana Username is <code>admin</code></li>
<li>The decoded password should translate to <code>prom-operator</code> which is the default grafana password.</li>
</ul>
</div>
<details class="image">
<summary>Image - Prometheus UI and Grafana Dashboard</summary>
</details>
<hr>
<p><br><br><br></p>
<details class="code-file">
<summary>Dele-Later - Install &amp; Configure Node-Exporter on linux</summary>
<h2 id="install-configure-node-exporter-on-linux">Install &amp; Configure Node-Exporter on linux<a class="headerlink" href="#install-configure-node-exporter-on-linux" title="Copy this link to reference this section">Â¶</a></h2>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span>
<span class="normal"><a href="#__codelineno-39-19">19</a></span>
<span class="normal"><a href="#__codelineno-39-20">20</a></span>
<span class="normal"><a href="#__codelineno-39-21">21</a></span>
<span class="normal"><a href="#__codelineno-39-22">22</a></span>
<span class="normal"><a href="#__codelineno-39-23">23</a></span>
<span class="normal"><a href="#__codelineno-39-24">24</a></span>
<span class="normal"><a href="#__codelineno-39-25">25</a></span>
<span class="normal"><a href="#__codelineno-39-26">26</a></span>
<span class="normal"><a href="#__codelineno-39-27">27</a></span>
<span class="normal"><a href="#__codelineno-39-28">28</a></span>
<span class="normal"><a href="#__codelineno-39-29">29</a></span>
<span class="normal"><a href="#__codelineno-39-30">30</a></span>
<span class="normal"><a href="#__codelineno-39-31">31</a></span>
<span class="normal"><a href="#__codelineno-39-32">32</a></span>
<span class="normal"><a href="#__codelineno-39-33">33</a></span>
<span class="normal"><a href="#__codelineno-39-34">34</a></span>
<span class="normal"><a href="#__codelineno-39-35">35</a></span>
<span class="normal"><a href="#__codelineno-39-36">36</a></span>
<span class="normal"><a href="#__codelineno-39-37">37</a></span>
<span class="normal"><a href="#__codelineno-39-38">38</a></span>
<span class="normal"><a href="#__codelineno-39-39">39</a></span>
<span class="normal"><a href="#__codelineno-39-40">40</a></span>
<span class="normal"><a href="#__codelineno-39-41">41</a></span>
<span class="normal"><a href="#__codelineno-39-42">42</a></span>
<span class="normal"><a href="#__codelineno-39-43">43</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="nb">set</span><span class="w"> </span>-e
<a id="__codelineno-39-4" name="__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="nv">NODE_EXPORTER_VERSION</span><span class="o">=</span><span class="s2">"1.8.1"</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="nv">DOWNLOAD_URL</span><span class="o">=</span><span class="s2">"https://github.com/prometheus/node_exporter/releases/download/v</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">/node_exporter-</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">.linux-amd64.tar.gz"</span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"ðŸš€ Installing Node Exporter v</span><span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span><span class="s2">..."</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="c1"># Download and extract</span>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a>curl<span class="w"> </span>-LO<span class="w"> </span><span class="si">${</span><span class="nv">DOWNLOAD_URL</span><span class="si">}</span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a>tar<span class="w"> </span>-xzf<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64.tar.gz
<a id="__codelineno-39-13" name="__codelineno-39-13"></a>sudo<span class="w"> </span>mv<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64/node_exporter<span class="w"> </span>/usr/local/bin/
<a id="__codelineno-39-14" name="__codelineno-39-14"></a>rm<span class="w"> </span>-rf<span class="w"> </span>node_exporter-<span class="si">${</span><span class="nv">NODE_EXPORTER_VERSION</span><span class="si">}</span>.linux-amd64*
<a id="__codelineno-39-15" name="__codelineno-39-15"></a>
<a id="__codelineno-39-16" name="__codelineno-39-16"></a><span class="c1"># Create user</span>
<a id="__codelineno-39-17" name="__codelineno-39-17"></a>sudo<span class="w"> </span>useradd<span class="w"> </span>-rs<span class="w"> </span>/bin/false<span class="w"> </span>node_exporter<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
<a id="__codelineno-39-18" name="__codelineno-39-18"></a>
<a id="__codelineno-39-19" name="__codelineno-39-19"></a><span class="c1"># Create systemd service</span>
<a id="__codelineno-39-20" name="__codelineno-39-20"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | sudo tee /etc/systemd/system/node_exporter.service</span>
<a id="__codelineno-39-21" name="__codelineno-39-21"></a><span class="s">[Unit]</span>
<a id="__codelineno-39-22" name="__codelineno-39-22"></a><span class="s">Description=Node Exporter</span>
<a id="__codelineno-39-23" name="__codelineno-39-23"></a><span class="s">Wants=network-online.target</span>
<a id="__codelineno-39-24" name="__codelineno-39-24"></a><span class="s">After=network-online.target</span>
<a id="__codelineno-39-25" name="__codelineno-39-25"></a>
<a id="__codelineno-39-26" name="__codelineno-39-26"></a><span class="s">[Service]</span>
<a id="__codelineno-39-27" name="__codelineno-39-27"></a><span class="s">User=node_exporter</span>
<a id="__codelineno-39-28" name="__codelineno-39-28"></a><span class="s">Group=node_exporter</span>
<a id="__codelineno-39-29" name="__codelineno-39-29"></a><span class="s">Type=simple</span>
<a id="__codelineno-39-30" name="__codelineno-39-30"></a><span class="s">ExecStart=/usr/local/bin/node_exporter</span>
<a id="__codelineno-39-31" name="__codelineno-39-31"></a>
<a id="__codelineno-39-32" name="__codelineno-39-32"></a><span class="s">[Install]</span>
<a id="__codelineno-39-33" name="__codelineno-39-33"></a><span class="s">WantedBy=default.target</span>
<a id="__codelineno-39-34" name="__codelineno-39-34"></a><span class="s">EOF</span>
<a id="__codelineno-39-35" name="__codelineno-39-35"></a>
<a id="__codelineno-39-36" name="__codelineno-39-36"></a><span class="c1"># Reload and start</span>
<a id="__codelineno-39-37" name="__codelineno-39-37"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-39-38" name="__codelineno-39-38"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>node_exporter
<a id="__codelineno-39-39" name="__codelineno-39-39"></a>
<a id="__codelineno-39-40" name="__codelineno-39-40"></a>
<a id="__codelineno-39-41" name="__codelineno-39-41"></a><span class="c1"># Verify</span>
<a id="__codelineno-39-42" name="__codelineno-39-42"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"âœ… Node Exporter is running!"</span>
<a id="__codelineno-39-43" name="__codelineno-39-43"></a>curl<span class="w"> </span>-s<span class="w"> </span>http://localhost:9100/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">5</span>
</code></pre></div></td></tr></tbody></table></div>
</details>
<hr>
<p><br></p>
<h2 id="scrapping-additional-metrics">Scrapping Additional Metrics<a class="headerlink" href="#scrapping-additional-metrics" title="Copy this link to reference this section">Â¶</a></h2>
<p>In order to monitor our Jenkins Server on the Grafana Dashboard, we need to expose the metrics to prometheus using <code>node_exporter</code> and <code>prometheus plugin</code>. Earlier, we had installed <code>node_exporter</code> on our Jenkins server using the bash script and we have also installed the <code>prometheus plugin</code> on Jenkins. The <code>node_exporter</code> will expose the server metrics while the <code>prometheus plugin</code> will expose metrics from Jenkins itself.</p>
<p>âœ… <strong>Prerequisites:</strong>
- [x] Prometheus is installed on kubernetes cluster via Helm chart.
- [x] Node_exporter is running and accessible on our Jenkins server (default port: <code>9100</code>).
- [x] The Jenkins server's IP address is publicly accessible or reachable from within the EKS cluster (e.g., via VPC Peering, VPN, or internal networking).
- [x] Security Groups and firewall rules allow traffic from EKS nodes to port <code>9100</code> on the Jenkins server.</p>
<h3 id="steps-to-add-jenkins-server-to-prometheus-scrape-targets">ðŸš€ Steps to Add Jenkins Server to Prometheus Scrape Targets<a class="headerlink" href="#steps-to-add-jenkins-server-to-prometheus-scrape-targets" title="Copy this link to reference this section">Â¶</a></h3>
<h4 id="1-create-additional-scrape-config-via-secret">1. Create Additional Scrape Config via Secret<a class="headerlink" href="#1-create-additional-scrape-config-via-secret" title="Copy this link to reference this section">Â¶</a></h4>
<p>Create a file named <code>additional-scrape-configs.yaml</code> with the following content:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-40-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-40-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-40-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-40-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-40-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-40-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-40-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-40-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-40-10">10</a></span>
<span class="normal"><a href="#__codelineno-40-11">11</a></span>
<span class="normal"><a href="#__codelineno-40-12">12</a></span>
<span class="normal"><a href="#__codelineno-40-13">13</a></span>
<span class="normal"><a href="#__codelineno-40-14">14</a></span>
<span class="normal"><a href="#__codelineno-40-15">15</a></span>
<span class="normal"><a href="#__codelineno-40-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">'jenkins-node-exporter'</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">  </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">'&lt;server_ip&gt;:9100'</span><span class="p p-Indicator">]</span>
</span><a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="w">        </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="s">'instance_name'</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="s">'node-exporter'</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="w">        </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="s">'dev'</span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a>
<a id="__codelineno-40-9" name="__codelineno-40-9"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">'jenkins-prom-plugin'</span>
<a id="__codelineno-40-10" name="__codelineno-40-10"></a><span class="w">  </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/prometheus</span>
<a id="__codelineno-40-11" name="__codelineno-40-11"></a><span class="w">  </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">'&lt;server_ip&gt;:8080'</span><span class="p p-Indicator">]</span>
</span><a id="__codelineno-40-13" name="__codelineno-40-13"></a><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<a id="__codelineno-40-14" name="__codelineno-40-14"></a><span class="w">        </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="s">'instance_name'</span>
<a id="__codelineno-40-15" name="__codelineno-40-15"></a><span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="s">'jenkins-master'</span>
<a id="__codelineno-40-16" name="__codelineno-40-16"></a><span class="w">        </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="s">'dev'</span>
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Edit the higlighted lines above and replace <code>&lt;server-ip&gt;</code> with the IP address of the Jenkins server. </p>
</div>
<h4 id="2-now-create-a-kubernetes-secret">2. Now create a Kubernetes secret<a class="headerlink" href="#2-now-create-a-kubernetes-secret" title="Copy this link to reference this section">Â¶</a></h4>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>additional-scrape-configs<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">  </span>--from-file<span class="o">=</span>additional-scrape-configs.yaml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">  </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<h4 id="3-edit-prometheus-custom-resource">3. Edit Prometheus Custom Resource<a class="headerlink" href="#3-edit-prometheus-custom-resource" title="Copy this link to reference this section">Â¶</a></h4>
<p>First get the prometheus resource name</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<p>Then edit the prometheus custom resource</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a>kubectl<span class="w"> </span>edit<span class="w"> </span>prometheus<span class="w"> </span>prometheus-kube-prometheus-prometheus<span class="w"> </span>-n<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<p>Under <code>spec</code> add:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="w">  </span><span class="nt">additionalScrapeConfigs</span><span class="p">:</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs.yaml</span>
</code></pre></div></td></tr></tbody></table></div>
<p>So the result should look like this:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span>
<span class="normal"><a href="#__codelineno-45-2">2</a></span>
<span class="normal"><a href="#__codelineno-45-3">3</a></span>
<span class="normal"><a href="#__codelineno-45-4">4</a></span>
<span class="normal"><a href="#__codelineno-45-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">additionalScrapeConfigs</span><span class="p p-Indicator">:</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">additional-scrape-configs.yaml</span>
</code></pre></div></td></tr></tbody></table></div>
<h4 id="4-apply-and-verify">4. Apply and Verify<a class="headerlink" href="#4-apply-and-verify" title="Copy this link to reference this section">Â¶</a></h4>
<p>Prometheus will reload its config automatically by deafult. Wait a minute, then:</p>
<ul>
<li>Go to the Prometheus UI (<code>/targets</code> page).</li>
<li>Look for the job <code>node-exporter-standalone</code>.</li>
<li>Ensure itâ€™s marked as UP.</li>
</ul>
<details class="image">
<summary>Image - Prometheus UI page showing newly added Jenkins target</summary>
</details>
<p><br><br></p>
<h6 id="_1"><a class="headerlink" href="#_1" title="Copy this link to reference this section">Â¶</a></h6>
<h2 id="clean-up">Clean-Up<a class="headerlink" href="#clean-up" title="Copy this link to reference this section">Â¶</a></h2>
<p>To avoid incurring uneccessary costs, it is advisable to clean up (destroy) all the infrastructural resources created during this project.</p>
<p>First, from the Jenkins server terminal, lets uninstall the Helm releases:</p>
<p>Uninstall ArgoCD and the kube-Prometheus stack</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>opeyemi-argo-cd<span class="w"> </span>--n<span class="w"> </span>argocd
<a id="__codelineno-46-2" name="__codelineno-46-2"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>namespace<span class="w"> </span>argocd
<a id="__codelineno-46-3" name="__codelineno-46-3"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>opeyemi-prometheus<span class="w"> </span>--n<span class="w"> </span>monitoring<span class="w"> </span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>namespace<span class="w"> </span>monitoring
</code></pre></div></td></tr></tbody></table></div>
<p>Delete the EKS Cluster along with all other cluster resources</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a>eksctl<span class="w"> </span>delete<span class="w"> </span>cluster<span class="w"> </span>--name<span class="w"> </span>opeyemi-k8s-cluster<span class="w"> </span>--region<span class="w"> </span>us-east-2
</code></pre></div></td></tr></tbody></table></div>
<p>Then delete the Jenkins server from your local machine which we created using terraform.</p>
<p>From your local machine, navigate to the directory where your Terraform working folder and run this command:</p>
<div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a>terraform<span class="w"> </span>destroy<span class="w"> </span>
</code></pre></div></td></tr></tbody></table></div>
<div class="admonition warning">
<p class="admonition-title">Important Note</p>
<ul>
<li>Wait until each of the commands completes </li>
<li>Check your AWS Console to confirm that all resources have been successfully terminated</li>
</ul>
</div>
<h2 id="conclusion"><strong>Conclusion</strong><a class="headerlink" href="#conclusion" title="Copy this link to reference this section">Â¶</a></h2>
<p>This hands-on DevSecOps project demonstrates the complete lifecycle of a modern cloud-native application â€” from automated provisioning to deployment, security, and monitoring â€” all powered by open-source tooling and AWS infrastructure. By integrating Terraform, Jenkins, SonarQube, Trivy, Gitleaks, ArgoCD, Prometheus, and Grafana, the project showcases how DevOps and security principles can be unified to deliver a production-ready, observable, and continuously improving system. </p>
<p>The end result is not just an 11-microservice e-commerce application running on EKS, but a replicable blueprint for building secure, automated, and scalable DevSecOps pipelines in any enterprise environment. This project underscores one key truth: <strong>automation, visibility, and security are not optional in modern software delivery â€” they are the foundation of resilience and innovation.</strong></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 21, 2025 12:25:37 UTC"><span class="timeago" datetime="2025-10-21T12:25:37+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 21, 2025 12:25:37 UTC">2025-10-21</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 9, 2024 00:20:27 UTC"><span class="timeago" datetime="2024-07-09T00:20:27+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 9, 2024 00:20:27 UTC">2024-07-09</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/opeyemitechpro" class="md-author" title="@opeyemitechpro">
          
          <img src="https://avatars.githubusercontent.com/u/135651560?v=4&amp;size=72" alt="opeyemitechpro">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful? Please give a feedback
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.349 2.378a.75.75 0 0 1 .808-.361l.127.027a3.875 3.875 0 0 1 2.879 4.97L16.527 9h1.137c2.645 0 4.513 2.591 3.676 5.1l-1.559 4.678A3.25 3.25 0 0 1 16.698 21h-5.289a4.5 4.5 0 0 1-2.828-.999A1.75 1.75 0 0 1 7 21H4.75A1.75 1.75 0 0 1 3 19.25v-8.5C3 9.784 3.784 9 4.75 9h4.67a.25.25 0 0 0 .217-.126zM8.75 18.16l.683.598a3 3 0 0 0 1.976.742h5.289a1.75 1.75 0 0 0 1.66-1.197l1.559-4.677a2.375 2.375 0 0 0-2.253-3.126H15.5a.75.75 0 0 1-.714-.979l.948-2.964a2.375 2.375 0 0 0-1.373-2.927l-3.422 5.988a1.75 1.75 0 0 1-1.519.882h-.67zm-1.5-7.66h-2.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25H7a.25.25 0 0 0 .25-.25z"></path></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page can be improved" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.651 21.622a.75.75 0 0 1-.808.361l-.127-.027a3.875 3.875 0 0 1-2.879-4.97L7.473 15H6.336c-2.645 0-4.513-2.591-3.676-5.1l1.559-4.678A3.25 3.25 0 0 1 7.302 3h5.289c1.031 0 2.029.354 2.828.999A1.75 1.75 0 0 1 17 3h2.25c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 19.25 15h-4.67a.25.25 0 0 0-.217.126zM15.25 5.84l-.684-.598a3 3 0 0 0-1.975-.742H7.302a1.75 1.75 0 0 0-1.66 1.197l-1.559 4.677A2.375 2.375 0 0 0 6.336 13.5H8.5a.75.75 0 0 1 .714.979l-.948 2.964a2.375 2.375 0 0 0 1.373 2.927l3.422-5.988a1.75 1.75 0 0 1 1.519-.882h.67zm1.5 7.66h2.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H17a.25.25 0 0 0-.25.25z"></path></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help me to improve this page by completing my <a href="https://forms.gle/Bb4gifiuyrE4enDX6" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


  <h2 id="__comments">If you have Comments or Questions on the project documentation above, drop them here and I will respond</h2>
  You need to sign-in to GitHub to comment.
  <!-- Insert generated snippet here -->
   <!-- Solution to Giscus error 404 showing in the comments - https://github.com/squidfunk/mkdocs-material/pull/6502 -->

  <script>
      var script = document.createElement("script");
      script.setAttribute("src", "https://" + "giscus.app" + "/client.js");
      script.setAttribute("data-repo", "opeyemitechpro/my-projects");
      script.setAttribute("data-repo-id", "R_kgDOMCpsxg");
      script.setAttribute("data-category", "General");
      script.setAttribute("data-category-id", "DIC_kwDOMCpsxs4ChyT3");
      script.setAttribute("data-mapping", "title");
      script.setAttribute("data-strict", "1"); 
      script.setAttribute("data-reactions-enabled", "1");
      script.setAttribute("data-emit-metadata", "1");
      script.setAttribute("data-theme", "preferred_color_scheme");
      script.setAttribute("data-lang", "en");
      script.setAttribute("crossorigin", "anonymous");
      script.setAttribute("async", true);
      document.currentScript.insertAdjacentElement("afterend", script);
    </script>


  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© 2023 - 2025 <a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener">Opeyemi Okuboyejo</a> <br><a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener">About Opeyemi</a><br><a href="https://forms.gle/Bb4gifiuyrE4enDX6" target="_blank" rel="noopener">Contact Opeyemi</a><br><br><a href="https://opeyemitechpro.github.io/privacy-policy" rel="noopener">Privacy Policy</a><br><a href="https://opeyemitechpro.github.io/terms" rel="noopener">Terms &amp; Conditions</a><br><a href="#__consent">Manage cookie settings</a><br><br>Hosted on GitHub 

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://opeyemitechpro.github.io" target="_blank" rel="noopener" title="Opeyemi Okuboyejo's Profile" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/in/opeyemi-okuboyejo/" target="_blank" rel="noopener" title="Opeyemi on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://youtube.com/@opeyemitechpro" target="_blank" rel="noopener" title="OpeyemiTechPro on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"></path></svg>
    </a>
  
    
    
    
    
    <a href="mailto:okuboyejoopeyemi01@gmail.com" target="_blank" rel="noopener" title="Email Me" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 18.75v-14C0 3.784.784 3 1.75 3M1.5 7.412V18.75c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0Zm0-2.662v.852l10.36 7a.25.25 0 0 0 .28 0l10.36-7V4.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://community.aws/@opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on AWS Community" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M180.4 203c-.7 22.6 10.6 32.7 10.9 39-.1 1.3-.6 2.5-1.3 3.6s-1.7 2-2.8 2.6l-12.8 9c-1.7 1.2-3.6 1.8-5.6 1.9-.4 0-8.2 1.8-20.5-25.6-7.5 9.4-17 16.9-27.9 22s-22.7 7.7-34.7 7.5c-16.3.9-60.4-9.2-58.1-56.2-1.6-38.3 34.1-62.1 70.9-60 7.1 0 21.6.4 47 6.3v-15.6c2.7-26.5-14.7-47-44.8-43.9-2.4 0-19.4-.5-45.8 10.1-7.4 3.4-8.3 2.8-10.8 2.8-7.4 0-4.4-21.5-2.9-24.2 5.2-6.4 35.9-18.4 65.9-18.2 20.1-1.8 40.1 4.4 55.7 17.3 6.3 7.1 11.2 15.4 14.2 24.4s4.2 18.5 3.5 28v69.3zM94 235.4c32.4-.5 46.2-20 49.3-30.5 2.5-10.1 2.1-16.4 2.1-27.4-9.7-2.3-23.6-4.9-39.6-4.9-15.2-1.1-42.8 5.6-41.7 32.3-1.2 16.8 11.1 31.4 30 30.5zm170.9 23.1c-7.9.7-11.5-4.9-12.7-10.4L202.4 83.4c-1-2.8-1.6-5.6-1.9-8.6-.2-1.2.1-2.4.8-3.4s1.8-1.6 3-1.8h22.2c8.8-.9 11.6 6 12.6 10.4l35.8 140.8L308.1 80c.5-3.2 2.9-11.1 12.8-10.2h17.2c2.2-.2 11.1-.5 12.7 10.4l33.3 142.5L421 80.1c.5-2.2 2.7-11.4 12.7-10.4h19.7c.9-.1 6.2-.8 5.3 8.6-.4 1.8 3.4-10.7-52.8 169.9-1.1 5.5-4.8 11.1-12.7 10.4h-18.7c-10.9 1.2-12.5-9.7-12.7-10.7l-33.2-137.1-32.8 137c-.2 1.1-1.7 11.9-12.7 10.7h-18.3zm273.5 5.6c-5.9 0-33.9-.3-57.4-12.3-2.3-1-4.3-2.6-5.7-4.8s-2.1-4.6-2.1-7.1v-10.7c0-8.5 6.2-6.9 8.8-5.9 10 4.1 16.5 7.1 28.8 9.6 36.7 7.5 52.8-2.3 56.7-4.5 13.2-7.8 14.2-25.7 5.3-34.9-10.5-8.8-15.5-9.1-53.1-21-4.6-1.3-43.7-13.6-43.8-52.4-.6-28.2 25-56.2 69.5-56 12.7 0 46.4 4.1 55.6 15.6 1.4 2.1 2 4.6 1.9 7v10.1c0 4.4-1.6 6.7-4.9 6.7-7.7-.9-21.4-11.2-49.2-10.8-6.9-.4-39.9.9-38.4 25-.4 19 26.6 26.1 29.7 26.9 36.5 11 48.6 12.8 63.1 29.6 17.1 22.2 7.9 48.3 4.3 55.4-19.1 37.5-68.4 34.4-69.3 34.4zM578.6 369c-70 51.7-171.7 79.2-258.5 79.2C203 449 89.8 405.9 2.8 327.5c-6.5-5.9-.8-14 7.2-9.5 96.5 55.2 205.7 84.2 316.9 84.1 83-.4 165.1-17.3 241.6-49.5 11.8-5 21.8 7.8 10.1 16.4m29.2-33.3c-9-11.5-59.3-5.4-81.8-2.7-6.8.8-7.9-5.1-1.8-9.5 40.1-28.2 105.9-20.1 113.4-10.6s-2.1 75.4-39.6 106.9c-5.8 4.9-11.3 2.3-8.7-4.1 8.4-21.3 27.4-68.5 18.4-80z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://dev.to/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Dev.to" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M120.1 208.3c-3.9-2.9-7.8-4.3-11.6-4.3H91.1v104.5h17.4c3.9 0 7.8-1.4 11.6-4.3s5.8-7.3 5.8-13.1v-69.7c0-5.8-2-10.2-5.8-13.1M404.1 32H43.9C19.7 32 .1 51.6 0 75.8v360.4C.1 460.4 19.7 480 43.9 480h360.2c24.2 0 43.8-19.6 43.9-43.8V75.8c-.1-24.2-19.7-43.8-43.9-43.8M154.2 291.2c0 18.8-11.6 47.3-48.4 47.3H59.4V173h47.4c35.4 0 47.4 28.5 47.4 47.3zm100.7-88.7h-53.3v38.4h32.6v29.6h-32.6v38.4h53.3v29.6h-62.2c-11.2.3-20.4-8.5-20.7-19.7V193.7c-.3-11.1 8.6-20.4 19.7-20.7h63.2zm103.6 115.3c-13.2 30.7-36.8 24.6-47.4 0L272.6 173h32.6l29.7 113.7L364.5 173h32.6l-38.5 144.8z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/opeyemitechpro" target="_blank" rel="noopener" title="Opeyemi on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/opeyemitechpro_cloud" target="_blank" rel="noopener" title="Opeyemi on Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie Consent</h4>
<p>I use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of my documentation and whether users find what they're searching for. With your consent, you're helping me to make my documentation better. Thanks</p>
<input class="md-toggle" type="checkbox" id="__settings">
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.sections", "navigation.tracking", "navigation.top", "navigation.path", "navigation.footer", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "content.tooltips", "content.code.select", "content.code.annotate", "content.action.view", "content.action.edit"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": {"AWS": null, "DevOps": null, "Terraform": null}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  
<script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>